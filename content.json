{"meta":{"title":"È∫¶Áî∞È∫¶Á©ó","subtitle":"","description":"","author":"vison","url":"http://visonforcoding.xyz","root":"/"},"pages":[{"title":"ÂÖ≥‰∫é","date":"2021-11-29T09:49:46.136Z","updated":"2021-11-29T09:49:46.136Z","comments":true,"path":"about/index.html","permalink":"http://visonforcoding.xyz/about/index.html","excerpt":"","text":"13Âπ¥ÔºåÁΩëÁªúÂ∑•Á®ã‰∏ì‰∏öÊØï‰∏ö PHP/JAVA/PYTHONÁºñÁ®ãÂºÄÂèë wechat: AI348462402 Â§áÊ≥®Ôºögithub.io ËΩØ‰ª∂ÂºÄÂèë„ÄÅÊäÄÊúØÊãõËÅòÂí®ËØ¢„ÄÅÊäÄÊúØÈ°æÈóÆ"},{"title":"ÊâÄÊúâÂàÜÁ±ª","date":"2021-10-30T02:59:33.284Z","updated":"2021-10-30T02:59:33.284Z","comments":true,"path":"categories/index.html","permalink":"http://visonforcoding.xyz/categories/index.html","excerpt":"","text":""},{"title":"ÊàëÁöÑÊúãÂèã‰ª¨","date":"2021-10-30T02:59:33.284Z","updated":"2021-10-30T02:59:33.284Z","comments":true,"path":"friends/index.html","permalink":"http://visonforcoding.xyz/friends/index.html","excerpt":"ËøôÈáåÂÜôÂèãÈìæ‰∏äÊñπÁöÑÂÜÖÂÆπ„ÄÇ","text":"ËøôÈáåÂÜôÂèãÈìæ‰∏äÊñπÁöÑÂÜÖÂÆπ„ÄÇ ËøôÈáåÂèØ‰ª•ÂÜôÂèãÈìæÈ°µÈù¢‰∏ãÊñπÁöÑÊñáÂ≠óÂ§áÊ≥®Ôºå‰æãÂ¶ÇËá™Â∑±ÁöÑÂèãÈìæËßÑËåÉ„ÄÅÁ§∫‰æãÁ≠â„ÄÇ"},{"title":"ÊâÄÊúâÊ†áÁ≠æ","date":"2021-10-30T02:59:33.284Z","updated":"2021-10-30T02:59:33.284Z","comments":true,"path":"tags/index.html","permalink":"http://visonforcoding.xyz/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"Êï∞ÊçÆÂ∫ì‰∏≠Èó¥‰ª∂shardingsphere-proxy","slug":"Êï∞ÊçÆÂ∫ì‰∏≠Èó¥‰ª∂shardingsphere","date":"2022-02-25T09:04:26.000Z","updated":"2022-02-25T10:41:39.813Z","comments":true,"path":"2022/02/25/Êï∞ÊçÆÂ∫ì‰∏≠Èó¥‰ª∂shardingsphere/","link":"","permalink":"http://visonforcoding.xyz/2022/02/25/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%AD%E9%97%B4%E4%BB%B6shardingsphere/","excerpt":"","text":"ÂâçË®ÄÂù¶ÁôΩËØ¥80%ÁöÑÁ®ãÂ∫èÂëòÁöÑ80%Â∑•‰ΩúÈÉΩÊòØÂú®‰∏éÊï∞ÊçÆÂ∫ìÊâì‰∫§ÈÅìÔºåÊòæÁÑ∂Êï∞ÊçÆÂ∫ìÂ∑•‰ΩúÊó†ÊØîÁöÑÈáçË¶Å„ÄÇÂΩìÊï∞ÊçÆÈáè‰∏çÂ§ßÁöÑÊó∂ÂÄô‰ºº‰πé‰∏ÄÂàáÈÉΩ‰∏çÊòØÈóÆÈ¢ò,‰∏ÄÊó¶Êï∞ÊçÆÈáèÂèòÂ§ßÔºåÁ®ãÂ∫èÂëòÁöÑÊåëÊàòÂ∞±ÂèòÂæóË∂äÊù•Ë∂äÂ§ß„ÄÇ ÂΩìÂçïË°®Êï∞ÊçÆË∂ÖËøá8ÂçÉ‰∏áÔºåÊôÆÈÄöÁöÑÂä†Á¥¢ÂºïÂèØËÉΩÊïàÊûúÂ∑≤Áªè‰∏ç‰ºöÂ§™Â•Ω‰∫Ü„ÄÇËøô‰∏™Êó∂ÂÄôÈÄöÂ∏∏ÁöÑËß£ÂÜ≥ÂäûÊ≥ïÊòØÂàÜÂ∫ìÂàÜË°®Ôºå‰πüÂ∞±ÊòØËÄÅÁîüÂ∏∏Ë∞àÁöÑsharding. ‰ªäÂ§©Êàë‰ª¨Êù•ÁúãÁúãshardingsphereÁöÑËß£ÂÜ≥ÊñπÊ°à„ÄÇ ÂÆòÊñπÊñáÊ°£Ôºöhttps://shardingsphere.apache.org/document/5.1.0/en/overview/ ÂΩìÂâçshardingsphereÊúâ3‰∏™‰∫ßÂìÅ ShardingSphere-JDBC ShardingSphere-Proxy ShardingSphere-Sidecar(TODO) ShardingSphere-SidecarËøòÂú®todoÔºåÊàë‰ª¨ÊöÇ‰∏î‰∏çËÆ®ËÆ∫„ÄÇÂΩìÂâçShardingSphereÂú®githubÊúâ15kÁöÑstarÔºåÂèØËßÅÂ∫îËØ•ËøòÊòØÂπøÂèóÂ§ßÂÆ∂ËÆ§ÂèØÁöÑ„ÄÇ ShardingSphere-JDBCÊòØjavaÁöÑÁ±ªÂ∫ì‰∏éÂ∫îÁî®Á®ãÂ∫èÂíåËØ≠Ë®ÄÁªëÂÆöÔºåShardingSphere-ProxyÊòØ‰∏≠Èó¥‰ª£ÁêÜ‰∏éËØ≠Ë®ÄÊó†ÂÖ≥„ÄÇ ‰ªéÂÆòÁΩëÁöÑËìùÂõæÊù•ÁúãÔºåËøôÊòØ‰∏Ä‰∏™ËæÉÊñ∞ÁöÑÈ°πÁõÆÔºåÂêåÊó∂ÂºÄÂèëÂõ¢ÈòüÊúâÁùÄÈïøËøúÁöÑËßÑÂàí„ÄÇ ‰∫ßÂìÅÊû∂ÊûÑ ‰ªéËøôÂº†‰∫ßÂìÅÊû∂ÊûÑÂõæÊàë‰ª¨ÂèØ‰ª•ÁúãÂà∞Â§ßËá¥ÁöÑ‰∏Ä‰∫õ‰∫ßÂìÅÂäüËÉΩÔºö sqlÂÆ°ËÆ° sqlÈò≤ÁÅ´Â¢ô ÂàÜÁâá ËØªÂÜôÂàÜÁ¶ª DBË¥üËΩΩÂùáË°° ‰º∏Áº©ÊãìÂ±ï ÂΩ±Â≠êÂ∫ì ÂàÜÁâáÊàë‰ª¨Êù•‰ΩìÈ™å‰∏ãShardingSphere-ProxyÁöÑsharding„ÄÇ ÂÆâË£Ö‰ªéÂÆòÁΩëÁöÑ‰∏ãËΩΩÈ°µÈù¢ÂèØ‰ª•‰∏ãÂà∞‰∫åËøõÂà∂ÁöÑÁ®ãÂ∫èÔºåÂ¶ÇÊûú‰Ω†ÊòØ‰ΩøÁî®mysqlÂàôËøòÈúÄË¶Å‰∏ãËΩΩjdbcÈ©±Âä®ÔºåËøô‰∫õÂÆâË£ÖÈÉΩÂæàÁÆÄÂçï„ÄÇ ÈÖçÁΩÆ‰∏ªË¶ÅÂ∑•‰ΩúÊòØÂú®ÈÖçÁΩÆ‰∏äÈù¢„ÄÇ‰∏∫‰∫ÜÊñπ‰æøÊµãËØïÔºåÊàë‰ª¨ÂÅáËÆæÁöÑÂú∫ÊôØÊòØÂè™ÂàÜË°®‰∏çÂàÜÂ∫ì„ÄÇ Êàë‰ª¨Â∞ÜËÆ¢ÂçïË°®t_orderÊåâuser_id%2ÂàÜ2Âº†Ë°®,t_order_0Âíåt_order_1„ÄÇ Êàë‰ª¨Ë¶ÅÂØπ2‰∏™ÈÖçÁΩÆÊñá‰ª∂ËøõË°åÈÖçÁΩÆ„ÄÇ server.yaml server.yaml‰∏ªË¶ÅÊòØÂØπShardingSphere-ProxyÊú¨Ë∫´ÁöÑÊúçÂä°ÈÖçÁΩÆ„ÄÇ rules: - !AUTHORITY users: - root@%:123456 - sharding@:sharding provider: type: ALL_PRIVILEGES_PERMITTED - !TRANSACTION defaultType: XA providerType: Atomikos - !SQL_PARSER sqlCommentParseEnabled: true sqlStatementCache: initialCapacity: 2000 maximumSize: 65535 concurrencyLevel: 4 parseTreeCache: initialCapacity: 128 maximumSize: 1024 concurrencyLevel: 4 props: max-connections-size-per-query: 1 kernel-executor-size: 16 # Infinite by default. proxy-frontend-flush-threshold: 128 # The default value is 128. proxy-opentracing-enabled: false proxy-hint-enabled: false sql-show: false check-table-metadata-enabled: false show-process-list-enabled: false # Proxy backend query fetch size. A larger value may increase the memory usage of ShardingSphere Proxy. # The default value is -1, which means set the minimum value for different JDBC drivers. proxy-backend-query-fetch-size: -1 check-duplicate-table-enabled: false proxy-frontend-executor-size: 0 # Proxy frontend executor size. The default value is 0, which means let Netty decide. # Available options of proxy backend executor suitable: OLAP(default), OLTP. The OLTP option may reduce time cost of writing packets to client, but it may increase the latency of SQL execution # and block other clients if client connections are more than `proxy-frontend-executor-size`, especially executing slow SQL. proxy-backend-executor-suitable: OLAP proxy-frontend-max-connections: 0 # Less than or equal to 0 means no limitation. sql-federation-enabled: false # Available proxy backend driver type: JDBC (default), ExperimentalVertx proxy-backend-driver-type: JDBC users: ÂÆö‰πâ‰∫Ü‰ª£ÁêÜÁöÑËøûÊé•‰ø°ÊÅØ„ÄÇroot@%:123456‰ª£Ë°®Áî®Êà∑ÂêçrootÂØÜÁ†Å123456ÂíåÂú®0.0.0.0‰∏äÁõëÂê¨„ÄÇ config-sharding.yaml config-sharding.yamlÂÆö‰πâ‰∫ÜÂàÜÂ∫ìÂàÜË°®ÁöÑÁÆóÊ≥ï‰ø°ÊÅØ„ÄÇ schemaName: db_test dataSources: ds_0: url: jdbc:mysql://127.0.0.1:3306/db_test?serverTimezone=UTC&amp;useSSL=false username: test_rw password: ko*0^fwZtQ2nZv connectionTimeoutMilliseconds: 30000 idleTimeoutMilliseconds: 60000 maxLifetimeMilliseconds: 1800000 maxPoolSize: 50 minPoolSize: 1 rules: - !SHARDING tables: t_order: actualDataNodes: ds_0.t_order_$&#123;0..1&#125; tableStrategy: standard: shardingColumn: user_id shardingAlgorithmName: t_order_inline bindingTables: - t_order defaultDatabaseStrategy: none: defaultTableStrategy: none: shardingAlgorithms: t_order_inline: type: INLINE props: algorithm-expression: t_order_$&#123;user_id % 2&#125; scalingName: default_scaling scaling: default_scaling: input: workerThread: 40 batchSize: 1000 rateLimiter: type: QPS props: qps: 50 output: workerThread: 40 batchSize: 1000 rateLimiter: type: TPS props: tps: 2000 streamChannel: type: MEMORY props: block-queue-size: 10000 completionDetector: type: IDLE props: incremental-task-idle-minute-threshold: 30 dataConsistencyChecker: type: DATA_MATCH props: chunk-size: 1000 schemaNameÈùûÂ∏∏ÈáçË¶ÅÔºå‰ª£Ë°®ÈÄªËæëÂ∫ìÂêç„ÄÇ Êàë‰ª¨ÈÄöËøámysql cliËøûÊé•‰∏äÂéªÂèØ‰ª•ÁúãÂà∞dbÂêçÁß∞Âç≥‰∏∫schemaNameÂÆö‰πâÁöÑÂÄº„ÄÇ Êàë‰ª¨ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Êï∞ÊçÆÊ∫êds_0Êò†Â∞ÑÂà∞Áâ©ÁêÜÂ∫ìdb_test„ÄÇ t_orderÈÄªËæëË°®Êò†Â∞ÑÂà∞ÁúüÂÆûË°®t_order_0Âíåt_order_1, shardingColumn‰∏∫user_id,shardingAlgorithmName‰∏∫t_order_inline ÊµãËØïÊé•‰∏ãÊù•Êàë‰ª¨Êù•ÂÜô‰∏ÄÊÆµËÑöÊú¨ÊµãËØï‰∏ãÔºå‰∏ªË¶ÅÊµãËØï2‰∏™Âú∫ÊôØ„ÄÇ Ë∑®Ë°®Êü•ËØ¢Êï∞ÊçÆËÅöÂêà Â∏¶ÂàÜÁâáÂ≠óÊÆµÁöÑÂàÜÁâáÊü•ËØ¢ ÂØπÂ∫îÁöÑsqlÂàÜÂà´ÊòØ select count(*) from t_order; select * from t_order where user_id = 12; ÂØπÂ∫îÁöÑjava‰ª£Á†ÅÊòØ package com.vison.jpal.queryprocess; import java.sql.Connection; import java.sql.DriverManager; import java.sql.ResultSet; import java.sql.Statement; import java.util.ArrayList; import java.util.HashMap; import java.util.List; import java.util.Map; import org.apache.logging.log4j.LogManager; import org.apache.logging.log4j.Logger; import java.util.Properties; public class TestSharding &#123; public static Logger logger = LogManager.getLogger(ThreadQuery.class.getName()); public static void main(String[] args) throws Exception &#123; //2. Ëé∑ÂæóÊï∞ÊçÆÂ∫ìËøûÊé• logger.info(\"ÂºÄÂßã....\"); Connection conn = DriverManager.getConnection(\"jdbc:mysql://www-dev.h66.cn:3307/db_test\", \"root\", \"123456\"); //3.Êìç‰ΩúÊï∞ÊçÆÂ∫ìÔºåÂÆûÁé∞Â¢ûÂà†ÊîπÊü• Statement stmt = conn.createStatement(); //count Integer user_id = 12; ResultSet countQuery = stmt.executeQuery(\"SELECT count(*) FROM t_order\"); // System.out.print(rs.getC); //Â¶ÇÊûúÊúâÊï∞ÊçÆÔºårs.next()ËøîÂõûtrue if(countQuery.next())&#123; System.out.printf(\"Êï∞ÊçÆÊÄªÊï∞: %d%n\",countQuery.getInt(1)); &#125; List&lt;Map&lt;String, Object>> listUser = new ArrayList&lt;>(); ResultSet shardingQuery = stmt.executeQuery(String.format(\"SELECT * FROM t_order where user_id = %s\", user_id)); while (shardingQuery.next()) &#123; Map&lt;String, Object> user = new HashMap&lt;>(); user.put(\"order_no\", shardingQuery.getString(\"order_no\")); user.put(\"user_id\", shardingQuery.getInt(\"user_id\")); listUser.add(user); &#125; System.out.print(listUser); &#125; &#125; ÂæóÂá∫ÁªìÊûú Êî∂ÁõäÊÄªÁªì‰∏ãÊàë‰ª¨‰ΩøÁî®ShardingSphere-ProxyËÉΩÁªôÊàë‰ª¨Â∏¶Êù•Âì™‰∫õÂ•ΩÂ§Ñ ‰ΩøÁî®‰ª£ÁêÜÁöÑÊñπÂºèÔºåÂØπÈ°πÁõÆ‰ª£Á†ÅÊó†ÂÖ•‰æµÔºå‰∏éËØ≠Ë®ÄÊó†ÂÖ≥„ÄÇ‰ªª‰ΩïÁºñÁ®ãËØ≠Ë®ÄÈÉΩËÉΩÊé•ÂÖ•„ÄÇ ‰∏≠Èó¥‰ª∂‰ª£ÁêÜÂ∏ÆÂøôÂ§ÑÁêÜ‰∫ÜÂàÜÂ∫ìÂàÜË°®Êü•ËØ¢ÁöÑÈóÆÈ¢òÂπ∂‰∏îËÉΩ‰øùÈöúÊÄßËÉΩ,ËøôÊó†ÁñëËß£Êîæ‰∫ÜÁ®ãÂ∫èÂëòÂØπÂàÜÂ∫ìÂàÜË°®ÈúÄÊ±ÇÁöÑÊãÖÂøß„ÄÇÂΩìÊúâÂàÜÂ∫ìÂàÜË°®ÁöÑÈúÄÊ±ÇÊó∂ÔºåÂá†‰πéËøòÂèØ‰ª•ÂÉèÊìç‰ΩúÂçïË°®ÈÇ£Ê†∑Êìç‰Ωú„ÄÇ Ë¥üËΩΩÂùáË°°„ÄÅËØªÂÜôÂàÜÁ¶ª„ÄÅÂΩ±Â≠êÂ∫ìË°®ÂäüËÉΩËÆ©Á®ãÂ∫èÊÄßËÉΩ„ÄÅÂèØÈù†ÊÄßÂ§ßÂ§ßÊèêÂçá","categories":[],"tags":[{"name":"mysql","slug":"mysql","permalink":"http://visonforcoding.xyz/tags/mysql/"}]},{"title":"ÈòøÈáåmysql‰∏≠Èó¥‰ª∂Â§öË°®Êü•ËØ¢Ê®°Âûã","slug":"ÈòøÈáåmysql‰∏≠Èó¥‰ª∂Â§öË°®Êü•ËØ¢Ê®°Âûã","date":"2022-02-23T07:36:45.000Z","updated":"2022-02-23T09:01:59.422Z","comments":true,"path":"2022/02/23/ÈòøÈáåmysql‰∏≠Èó¥‰ª∂Â§öË°®Êü•ËØ¢Ê®°Âûã/","link":"","permalink":"http://visonforcoding.xyz/2022/02/23/%E9%98%BF%E9%87%8Cmysql%E4%B8%AD%E9%97%B4%E4%BB%B6%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2%E6%A8%A1%E5%9E%8B/","excerpt":"","text":"‰πãÂâçËØª‰∫Ü‰∏ÄÊú¨‰π¶„Ää‰ºÅ‰∏öITÊû∂ÊûÑËΩ¨Âûã‰πãÈÅì:ÈòøÈáåÂ∑¥Â∑¥‰∏≠Âè∞ÊàòÁï•ÊÄùÊÉ≥‰∏éÊû∂ÊûÑÂÆûÊàò„ÄãÔºåÊúü‰∏≠ÊúâÂÖ≥‰∫éÊï∞ÊçÆÂ∫ì‰∏≠Èó¥‰ª∂ÁöÑÈÉ®ÂàÜÂÆûÁé∞‰ª§ÊàëÊò†ÂÉèÊ∑±Âàª„ÄÇ ‰∏≠Èó¥‰ª∂Ëß£ÂÜ≥‰∫ÜÂá†‰∏™ÈóÆÈ¢òÔºö Êï∞ÊçÆÂ∫ì‰ΩøÁî®Ê≤ªÁêÜ,ÈÄöËøámysql proxyÁöÑÂΩ¢Âºè,ËÉΩÂú®ÂºÄÂèëÊó∂ÊúüÁöÑÂª∫Ë°®‰∏çËßÑËåÉddl„ÄÅÁîü‰∫ßÁöÑÊü•ËØ¢ÊΩúÂú®Âç±ÂÆ≥sqlËøõË°åÈ¢ÑË≠¶„ÄÅÊã¶Êà™„ÄÅÁõëÊéßÁ≠âÊìç‰Ωú shardingÂ§ÑÁêÜ,ÈÄöËøá‰∏≠Èó¥‰ª∂ÁöÑÂ§ÑÁêÜ‰ΩøÂæó‰∏öÂä°ÂºÄÂèë‰∏çÁî®Â§™ÂÖ≥ÂøÉshardingÂ§ÑÁêÜ‰∏ìÂøÉÂ§ÑÁêÜ‰∏öÂä°ÈÄªËæë„ÄÇ Ë¥üËΩΩÂùáË°°Â§ÑÁêÜ,ÂèØ‰ª•‰ΩøÂæósqlÂàÜÊï£Âà∞‰∏çÂêåÂÆû‰æãÔºåÂπ∂ÂØπ‰∏öÂä°Â±ÇÊó†‰æµÂÖ•„ÄÇ ÂØπ‰∫éshardingËøô‰∏ÄÂùóËøòËß£ÂÜ≥‰∫ÜÂú®ÂàÜÂ∫ìÂàÜË°®‰πãÂêéË∑®Â∫ìÂ§∏Ë°®ÁöÑÊü•ËØ¢ÔºåÈááÁî®Â§öÁ∫øÁ®ãÊü•ËØ¢ÂÜÖÂ≠òËÅöÂêàÁöÑÊñπÂºèÊù•ÊèêÈ´òÊü•ËØ¢ÊïàÁéá„ÄÇ package com.vison.jpal.queryprocess; import java.sql.Connection; import java.sql.DriverManager; import java.sql.ResultSet; import java.sql.Statement; import java.util.*; import org.apache.logging.log4j.LogManager; import org.apache.logging.log4j.Logger; public class ThreadQuery extends Thread &#123; public static final String URL = \"jdbc:mysql://localhost:3306/demo\"; public static final String USER = \"root\"; public static final String PASSWORD = \"\"; public static List&lt;Map&lt;String, Object>> totalListUser; public static Logger logger = LogManager.getLogger(ThreadQuery.class.getName()); protected String table; public void setTable(String table) &#123; this.table = table; &#125; public static void main(String[] args) throws Exception &#123; totalListUser = new ArrayList&lt;>(); List&lt;String> tables = new ArrayList&lt;>(); for (int i = 0; i &lt;= 246; i++) &#123; tables.add(String.format(\"user_%02d\", i)); &#125; List&lt;Map&lt;String, Object>> listUser = new ArrayList&lt;>(); List&lt;ThreadQuery> threads = new ArrayList&lt;>(); for (String table : tables) &#123; ThreadQuery threadQuery = new ThreadQuery(); threadQuery.setTable(table); threadQuery.start(); threads.add(threadQuery); &#125; for (Thread thread : threads) &#123; thread.join(); &#125; logger.info(\"ÂÆåÊàê\"); System.out.print(totalListUser); &#125; public void run() &#123; try &#123; List&lt;Map&lt;String, Object>> rs = this.singleQueryUser(); ThreadQuery.totalListUser.addAll(rs); &#125; catch (Exception e) &#123; System.out.println(e.getMessage()); &#125; &#125; public List&lt;Map&lt;String, Object>> singleQueryUser() throws Exception &#123; //2. Ëé∑ÂæóÊï∞ÊçÆÂ∫ìËøûÊé• logger.info(String.format(\"Á∫øÁ®ã%sÂêØÂä®\",table)); Connection conn = DriverManager.getConnection(URL, USER, PASSWORD); //3.Êìç‰ΩúÊï∞ÊçÆÂ∫ìÔºåÂÆûÁé∞Â¢ûÂà†ÊîπÊü• Statement stmt = conn.createStatement(); ResultSet rs = stmt.executeQuery(String.format(\"SELECT * FROM %s WHERE `age` = 25 LIMIT 2 \",table)); //Â¶ÇÊûúÊúâÊï∞ÊçÆÔºårs.next()ËøîÂõûtrue List&lt;Map&lt;String, Object>> listUser = new ArrayList&lt;>(); while (rs.next()) &#123; Map&lt;String, Object> user = new HashMap&lt;>(); user.put(\"name\", rs.getString(\"name\")); user.put(\"age\", rs.getInt(\"age\")); listUser.add(user); &#125; return listUser; &#125; &#125; Ê≠§‰ª£Á†ÅÂè™ÊòØ‰∏Ä‰∏™ÈùûÂ∏∏Âü∫Á°ÄÁöÑÂÆûÁé∞demo,ÁúüÊ≠£‰∏äÁîü‰∫ßËøòÈúÄË¶ÅËß£ÂÜ≥ÂæàÂ§öÂÖ∂‰ªñÈóÆÈ¢òÔºö Á∫øÁ®ãÊ±†ÈìæÊé•Ê±†Ëß£ÂÜ≥ÈìæÊé•ÂíåÁ∫øÁ®ãÂª∫Á´ãÂºÄÈîÄ Âπ∂ÂèëÊï∞ÁöÑÊúÄ‰Ω≥Êï∞ÈáèËÆæÁΩÆ limitÂíåorder byÁöÑÂ§ÑÁêÜ,ËÆæÊÉ≥select * from user where age = 25 order by create_time desc limit 10ËØ•Â¶Ç‰Ωï‰ªéshardingË°®ËøõË°åÂ§ÑÁêÜ","categories":[],"tags":[]},{"title":"spring-bootÂÖ®Â±ÄÂ§ÑÁêÜÂºÇÂ∏∏(ÂÖúÂ∫ï„ÄÅÈò≤Èáç)","slug":"spring-bootÂÖ®Â±ÄÂ§ÑÁêÜÂºÇÂ∏∏-Èò≤ÈáçÂ§çËæìÂá∫","date":"2021-12-22T11:26:38.000Z","updated":"2021-12-22T11:48:13.531Z","comments":true,"path":"2021/12/22/spring-bootÂÖ®Â±ÄÂ§ÑÁêÜÂºÇÂ∏∏-Èò≤ÈáçÂ§çËæìÂá∫/","link":"","permalink":"http://visonforcoding.xyz/2021/12/22/spring-boot%E5%85%A8%E5%B1%80%E5%A4%84%E7%90%86%E5%BC%82%E5%B8%B8-%E9%98%B2%E9%87%8D%E5%A4%8D%E8%BE%93%E5%87%BA/","excerpt":"ÁΩë‰∏äÊúâÈùûÂ∏∏Â§öÁöÑÊñáÁ´†‰ªãÁªç‰∫ÜÂ¶Ç‰ΩïËøõË°åÂÖ®Â±ÄÂºÇÂ∏∏ÊçïËé∑Â§ÑÁêÜÔºå‰ΩÜÊòØÊàëÂèëÁé∞Âπ∂‰∏çÊª°Ë∂≥ÊàëÈÅáÂà∞ÁöÑ‰∏Ä‰∏™ÈóÆÈ¢ò„ÄÇ","text":"ÁΩë‰∏äÊúâÈùûÂ∏∏Â§öÁöÑÊñáÁ´†‰ªãÁªç‰∫ÜÂ¶Ç‰ΩïËøõË°åÂÖ®Â±ÄÂºÇÂ∏∏ÊçïËé∑Â§ÑÁêÜÔºå‰ΩÜÊòØÊàëÂèëÁé∞Âπ∂‰∏çÊª°Ë∂≥ÊàëÈÅáÂà∞ÁöÑ‰∏Ä‰∏™ÈóÆÈ¢ò„ÄÇ Ê°à‰æã@GetMapping(name = \"ÂïÜÂìÅËØ¶ÊÉÖ\", path = \"/goods/&#123;id&#125;\") public Response detail(@PathVariable Long id) &#123; Optional&lt;Goods> goods = goodsRepository.findById(id); if (goods.isPresent()) &#123; return new Response(ResponseCode.success, \"Ëé∑ÂèñÊàêÂäü\", goods); &#125; return new Response(ResponseCode.noDataFound, \"Ëé∑ÂèñÂ§±Ë¥•\"); &#125; ‰∏Ä‰∏™ÈùûÂ∏∏ÊôÆÈÄöÁöÑapi,Êü•ËØ¢Âπ∂ËøîÂõû„ÄÇ //Goods entity public String getPurchasingPrice() &#123; return String.format(\"%d\", this.purchasingPriceFen / 100); &#125; ‰ºöÂá∫ÂºÇÂ∏∏ÁöÑÁÇπÂú®‰∫éÊàëÁöÑGoodsÁöÑÂ±ûÊÄßpurchasingPriceFenÊúâÂèØËÉΩ‰ºöÂá∫Áé∞NullPointerException. Ê≠§Êó∂ÁöÑÂºÇÂ∏∏ÂèëÁîü‰∫éjackson.databind.ËÄåÊéßÂà∂Âô®‰ªçÁÑ∂‰ºöÊ≠£Â∏∏ËøîÂõûÊàêÂäüÁöÑjson. Âú®Â∏∏ËßÑÁöÑÁöÑRestControllerAdviceÂ§ÑÁêÜÊñπÊ≥ï‰∏≠ @RestControllerAdvice @Slf4j public class ControllerAdvice &#123; private Response handleConstraintViolationException(MethodArgumentNotValidException ex) &#123; Map&lt;String, String> errors = new HashMap&lt;>(); ex.getBindingResult().getAllErrors().forEach((error) -> &#123; String fieldName = ((FieldError) error).getField(); String errorMessage = error.getDefaultMessage(); errors.put(fieldName, errorMessage); &#125;); return new Response(ResponseCode.parametrErrror, \"ÂèÇÊï∞ÈîôËØØ\", errors); &#125; @ExceptionHandler(Exception.class) public Response handBaseException(Exception ex, HttpServletResponse response) &#123; if (ex instanceof MethodArgumentNotValidException) &#123; return handleConstraintViolationException((MethodArgumentNotValidException) ex); &#125; log.error(ex.getMessage()); Map&lt;String, StackTraceElement[]> errors = new HashMap&lt;>(); errors.put(\"errors\", ex.getStackTrace()); return new Response(ResponseCode.systemError, ex.getMessage(), errors); &#125; &#125; ‰ºöÂØºËá¥ÂÖàËæìÂá∫Ê≠£Â∏∏ÁöÑjsonÔºåÂêéÈù¢Âèà‰ºöËæìÂá∫ÊçïËé∑ÁöÑÂºÇÂ∏∏ÁöÑÈîôËØØjsonÔºåÊúÄÁªà2‰∏™json‰∏≤Âè†Âä†ËæìÂá∫„ÄÇ Ëß£ÂÜ≥ÂäûÊ≥ïÊàëÊâæ‰∫ÜËÆ∏Â§öÊñáÁ´†ÈÉΩÊ≤°ÊúâËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢ò,ÂêéÈù¢ÊÉ≥Âà∞‰∫ÜÊ≠£Â∏∏ÁöÑÊÉÖÂÜµ‰∏ãÂâçÈù¢ÁöÑjsonÊòØ‰∏çÂ∫îËØ•ËæìÂá∫ÁöÑÔºåÈÇ£‰πàÊääÂÆÉÊ∏ÖÈô§‰∏çÂ∞±Ë°å‰∫ÜÔºü ‰∫éÊòØÊúÄÁªàÁöÑÂÖúÂ∫ïÊñπÂºèÊòØ @ExceptionHandler(Exception.class) public Response handBaseException(Exception ex, HttpServletResponse response) throws Exception &#123; if (ex instanceof MethodArgumentNotValidException) &#123; return handleConstraintViolationException((MethodArgumentNotValidException) ex); &#125; log.error(ex.getMessage()); response.reset(); //ÂÖ≥ÈîÆÊñπÊ≥ï response.setStatus(500); Map&lt;String, StackTraceElement[]> errors = new HashMap&lt;>(); errors.put(\"errors\", ex.getStackTrace()); return new Response(ResponseCode.systemError, ex.getMessage(), errors); &#125; ÈÄöËøáresponse.reset()ÈáçÁΩÆÊéâresponse„ÄÇ ÂÖ≥‰∫éÂÆåÊï¥ÁöÑÂºÇÂ∏∏Â§ÑÁêÜÂèØÂèÇËÄÉ:https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc","categories":[],"tags":[{"name":"spring","slug":"spring","permalink":"http://visonforcoding.xyz/tags/spring/"}]},{"title":"doctrine ormÁöÑÊâπÈáèÂ§ÑÁêÜÊïàÁéá","slug":"doctrine-ormÁöÑÊâπÈáèÂ§ÑÁêÜÊïàÁéá","date":"2021-12-21T06:44:16.000Z","updated":"2021-12-22T01:54:26.318Z","comments":true,"path":"2021/12/21/doctrine-ormÁöÑÊâπÈáèÂ§ÑÁêÜÊïàÁéá/","link":"","permalink":"http://visonforcoding.xyz/2021/12/21/doctrine-orm%E7%9A%84%E6%89%B9%E9%87%8F%E5%A4%84%E7%90%86%E6%95%88%E7%8E%87/","excerpt":"doctrineÊó†ÁñëÊòØ‰∏ÄÊ¨æ‰ºòÁßÄÁöÑORMÂ∑•ÂÖ∑ÔºåÊú¨Êñá‰ºöÊ†πÊçÆdoctrineÂÆòÁΩëÁöÑÊâπÂ§ÑÁêÜËøôÁ´†ËäÇÊù•ËÆ≤ËÆ≤doctrineÁöÑÊâπÈáèÂ§ÑÁêÜ„ÄÇ ÂÆòÁΩëÈìæÊé• doctrineÊâπÈáèÂ§ÑÁêÜ Ê≠§Á´†ÂºÄÂ§¥ÔºådoctrineËÆ≤Âà∞‰ºö‰ªãÁªçdoctrineÁöÑÊúâÊïàÁéáÁöÑÊâπÂ§ÑÁêÜÊñπÂºè„ÄÇ","text":"doctrineÊó†ÁñëÊòØ‰∏ÄÊ¨æ‰ºòÁßÄÁöÑORMÂ∑•ÂÖ∑ÔºåÊú¨Êñá‰ºöÊ†πÊçÆdoctrineÂÆòÁΩëÁöÑÊâπÂ§ÑÁêÜËøôÁ´†ËäÇÊù•ËÆ≤ËÆ≤doctrineÁöÑÊâπÈáèÂ§ÑÁêÜ„ÄÇ ÂÆòÁΩëÈìæÊé• doctrineÊâπÈáèÂ§ÑÁêÜ Ê≠§Á´†ÂºÄÂ§¥ÔºådoctrineËÆ≤Âà∞‰ºö‰ªãÁªçdoctrineÁöÑÊúâÊïàÁéáÁöÑÊâπÂ§ÑÁêÜÊñπÂºè„ÄÇ This chapter shows you how to accomplish bulk inserts, updates and deletes with Doctrine in an efficient way. Êú¨ÊñáÂ∞Ü‰ª•ÊâπÈáèÊèíÂÖ•‰∏∫‰æãËÆ≤doctrineÊòØÂ¶Ç‰ΩïÊâßË°åÊâπÈáèÊìç‰ΩúÂíåÂÆÉÁöÑÂéüÁêÜÊòØ‰ªÄ‰πà„ÄÇ Âú®ÊñáÁ´†ÁöÑÂºÄÂ§¥ÔºåÊúâ‰∏ÄÊÆµÊúâÊÑèÊÄùÁöÑËØùÔºåÊàëËßâÂæóËÄê‰∫∫ÂØªÂë≥„ÄÇ ÁÆÄÂçïÁøªËØëÂ∞±ÊòØÔºåORMÂ∑•ÂÖ∑Âπ∂‰∏çÈÄÇÂêàÂéªÂ§ÑÁêÜÊâπÈáèÊìç‰ΩúÔºåÊØè‰∏™ÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÈÉΩÊúâÂÆÉÊúÄÈ´òÊïàÁöÑÊñπÂºèÊù•Â∫îÂØπ„ÄÇÂ¶ÇÊûú‰ª•‰∏ãÁöÑÊñπÂºè‰Ω†ËÆ§‰∏∫Âπ∂‰∏çÊòØÊúÄÈ´òÊïàÁöÑÔºåÈÇ£‰πàÂª∫ËÆÆÊÇ®Ê†πÊçÆÁâπÂÆöÁöÑÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÁâπÊúâÁöÑÊñπÂºèÊù•Â§ÑÁêÜ„ÄÇ ‰∏ãÈù¢Êù•ÁúãÁúãdoctrineÊòØÂ¶Ç‰ΩïÂ§ÑÁêÜÁöÑ„ÄÇ &lt;?php $batchSize = 20; for ($i = 1; $i &lt;= 10000; ++$i) &#123; $user = new CmsUser; $user->setStatus('user'); $user->setUsername('user' . $i); $user->setName('Mr.Smith-' . $i); $em->persist($user); if (($i % $batchSize) === 0) &#123; $em->flush(); $em->clear(); // Detaches all objects from Doctrine! &#125; &#125; $em->flush(); // Persist objects that did not make up an entire batch $em->clear(); ÈÄöËøáÊó•ÂøóÔºåÊàë‰ª¨ÂèëÁé∞doctrineÊâÄË∞ìÁöÑÊúâÊïàÁéáÁöÑÊñπÂºèÊòØÊåâ$batchSizeÊï∞ÈáèÂàáÂàÜÔºåËøõË°å‰∫ãÂä°Êèê‰∫§„ÄÇÊØîÁõ¥Êé•ÁöÑÈÄêÊù°$em-&gt;flush();Êìç‰ΩúÁúÅÂéª‰∫ÜÂ§ßÈáèÁöÑcommitÁΩëÁªúÈÄö‰ø°„ÄÇ ÈÄöËøáwiresharkÊäìÂåÖÊàë‰ª¨‰πüÈ™åËØÅ‰∫ÜËøô‰∏ÄÊé®Êñ≠„ÄÇ ÂÅáËÆæÊï∞ÊçÆÊÄªÊï∞ÊòØ n, batchSize ÊòØm: ÈÄêÊù°flush,ÈúÄË¶ÅÊâßË°ånÊ¨°insertÂíåcommit,Âç≥2nÊ¨°ÈÄö‰ø°„ÄÇ doctrine bulkÊìç‰ΩúÊòØn+n/mÊ¨°ÔºåÈÄö‰ø°Ê¨°Êï∞‰ºöÂ∞ëÂæàÂ§ö„ÄÇ Âπ∂‰∏çÊÑèÂë≥ÁùÄÂ∞ÜbatchSizeËÆæÁΩÆÊúÄÂ§ßÂ∞±ÊòØÊúÄÊúâÊïàÁöÑÊñπÂºèÔºåbatchSizeË∂äÂ§ß‰πüÊÑèÂë≥ÁùÄflushÁöÑÂ∑•‰ΩúÂ∞Ü‰ºöÊõ¥ËÄóÊó∂„ÄÇ ‰ΩÜ‰∏émysql Êú¨Ë∫´ÁöÑÊâπÈáèÂ§ÑÁêÜËøòÊòØ‰ºöÂ§öÈùûÂ∏∏Â§öÊ¨°ÁöÑÈÄö‰ø°„ÄÇ INSERT INTO tbl_name (a,b,c) VALUES(1,2,3),(4,5,6),(7,8,9); ‰ΩøÁî®mysqlÊú¨Ë∫´ÁöÑÊñπÊ≥ïÂèØËÉΩÂè™Ë¶ÅÊâßË°å2Ê¨°ÈÄö‰ø°„ÄÇ Âõ†Ê≠§ÔºåÂÖ∂ÂÆûdoctrineÂÆòÁΩëÈÇ£ÊÆµËØùËØ¥ÁöÑÈùûÂ∏∏Âø†ÊÅ≥‰∫ÜÔºåË¶ÅÊÉ≥Ëé∑ÂæóÊúÄ‰Ω≥ÊÄßËÉΩÂèØËÉΩÈúÄË¶ÅÊ†πÊçÆÁâπÂÆöRDBMSÊù•Áõ∏Â∫îÁöÑÂ§ÑÁêÜ„ÄÇ ÈóÆÈ¢òÈïøÊó∂Èó¥ÁöÑ‰∫ãÂä°‰∏çÊèê‰∫§Ôºå‰ºöÈòªÂ°ûÂÖ∂‰ªñ‰∫ãÂä°ÁöÑÊèê‰∫§‰πàÔºü Êàë‰ª¨Áü•ÈÅìÊúâÁöÑÊÉÖÂÜµÊòØ‰ºöÁöÑ„ÄÇ","categories":[],"tags":[{"name":"php","slug":"php","permalink":"http://visonforcoding.xyz/tags/php/"}]},{"title":"somthing fun","slug":"somthing-fun","date":"2021-12-21T06:43:15.000Z","updated":"2021-12-21T06:43:37.772Z","comments":true,"path":"2021/12/21/somthing-fun/","link":"","permalink":"http://visonforcoding.xyz/2021/12/21/somthing-fun/","excerpt":"","text":"#1) Respect the privacy of others. #2) Think before you type. #3) With great power comes great responsibility.","categories":[],"tags":[{"name":"Á®ãÂ∫è‰∫∫Áîü","slug":"Á®ãÂ∫è‰∫∫Áîü","permalink":"http://visonforcoding.xyz/tags/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F/"}]},{"title":"ËÅäËÅäÂæÆ‰ø°‰ΩìÁ≥ªÁöÑÂá†Â§ßÂπ≥Âè∞","slug":"ËÅäËÅäÂæÆ‰ø°‰ΩìÁ≥ªÁöÑÂá†Â§ßÂπ≥Âè∞","date":"2021-12-08T05:31:53.000Z","updated":"2021-12-08T05:32:54.307Z","comments":true,"path":"2021/12/08/ËÅäËÅäÂæÆ‰ø°‰ΩìÁ≥ªÁöÑÂá†Â§ßÂπ≥Âè∞/","link":"","permalink":"http://visonforcoding.xyz/2021/12/08/%E8%81%8A%E8%81%8A%E5%BE%AE%E4%BF%A1%E4%BD%93%E7%B3%BB%E7%9A%84%E5%87%A0%E5%A4%A7%E5%B9%B3%E5%8F%B0/","excerpt":"ÂΩìÂâçÂæÆ‰ø°ÊúâÂïÜÊà∑Âπ≥Âè∞„ÄÅÂºÄÊîæÂπ≥Âè∞„ÄÅÂæÆ‰ø°Âè∑(Â∞èÁ®ãÂ∫è)ÊÄªÂÖ±3Â§ßÂπ≥Âè∞„ÄÇË∑üËÆ¢ÈòÖÂè∑„ÄÅÊúçÂä°Âè∑‰∏ÄÊ†∑ÔºåÊ¶ÇÂøµÂêçËØçÈùûÂ∏∏Â§ö,ÊûÅÂÆπÊòìÂºÑÊ∑∑„ÄÇË∑üÂÖ∂ÂºÄÂèëÊñáÊ°£‰∏ÄÊ†∑ÔºåÂæÆ‰ø°‰ΩìÁ≥ªË¢´‰∏çÂ∞ëÂºÄÂèëÂêêÊßΩÂæàÊ∑±„ÄÇ Áé∞Âú®Â∞±ÈíàÂØπÂæÆ‰ø°‰ΩìÁ≥ª‰∫ßÂìÅÂπ≥Âè∞ÂÅö‰∏Ä‰∏™ÊÄªÁªìÔºåÈÅøÂÖçÊ∑∑Ê∑ÜÂíå‰∫ÜËß£ÂêÑ‰∏™Ê¶ÇÂøµÁî®ÈÄî„ÄÇ","text":"ÂΩìÂâçÂæÆ‰ø°ÊúâÂïÜÊà∑Âπ≥Âè∞„ÄÅÂºÄÊîæÂπ≥Âè∞„ÄÅÂæÆ‰ø°Âè∑(Â∞èÁ®ãÂ∫è)ÊÄªÂÖ±3Â§ßÂπ≥Âè∞„ÄÇË∑üËÆ¢ÈòÖÂè∑„ÄÅÊúçÂä°Âè∑‰∏ÄÊ†∑ÔºåÊ¶ÇÂøµÂêçËØçÈùûÂ∏∏Â§ö,ÊûÅÂÆπÊòìÂºÑÊ∑∑„ÄÇË∑üÂÖ∂ÂºÄÂèëÊñáÊ°£‰∏ÄÊ†∑ÔºåÂæÆ‰ø°‰ΩìÁ≥ªË¢´‰∏çÂ∞ëÂºÄÂèëÂêêÊßΩÂæàÊ∑±„ÄÇ Áé∞Âú®Â∞±ÈíàÂØπÂæÆ‰ø°‰ΩìÁ≥ª‰∫ßÂìÅÂπ≥Âè∞ÂÅö‰∏Ä‰∏™ÊÄªÁªìÔºåÈÅøÂÖçÊ∑∑Ê∑ÜÂíå‰∫ÜËß£ÂêÑ‰∏™Ê¶ÇÂøµÁî®ÈÄî„ÄÇ Âπ≥Âè∞‰∫ßÂìÅ ÂºÄÊîæÂπ≥Âè∞Ôºåhttps://open.weixin.qq.com/ ÂÖ¨‰ºóÂπ≥Âè∞(Âê´Â∞èÁ®ãÂ∫è) https://mp.weixin.qq.com/ ÂïÜÊà∑Âπ≥Âè∞ https://pay.weixin.qq.com/ ÂÖ¨‰ºóÂπ≥Âè∞ÂõûÈ°æ‰∏Ä‰∏ãÂæÆ‰ø°ÂéÜÂè≤Ôºö 2011Âπ¥1Êúà21Êó•ÔºåÂæÆ‰ø°Ê≠£ÂºèÂèëÂ∏É 2011Âπ¥5ÊúàÔºåÂæÆ‰ø°Êé®Âá∫‰∫Ü‚ÄùËØ≠Èü≥Ê∂àÊÅØ‚ÄùËøô‰∏™ÂÖ≥ÈîÆÂäüËÉΩ 2012Âπ¥5ÊúàÔºåÂæÆ‰ø°Êé®Âá∫‚ÄùÊúãÂèãÂúà‚Äù 2013Âπ¥8ÊúàÔºåÂæÆ‰ø°Ê∑ªÂä†‰∫ÜÂÖ¨‰ºóÂè∑„ÄÅÂæÆ‰ø°ÊîØ‰ªò 2017Âπ¥1ÊúàÔºåÂ∞èÁ®ãÂ∫èÁöÑÂºÄÂèëÊåáÂçóÂíå API Ê≠£ÂºèÂèëÂ∏É Âú®13Âπ¥Êé®Âá∫ÁöÑÂæÆ‰ø°ÂÖ¨‰ºóÂè∑ÂæÆ‰ø°ÊîØ‰ªòËÉΩÂäõÔºåÂΩºÊó∂ÂÖ¨‰ºóÂè∑ÂíåÂæÆ‰ø°ÊîØ‰ªòÂ§ßÂèóÊ¨¢Ëøé„ÄÇÂÖ¨‰ºóÂè∑ÂèàÂàÜ‰∏∫ÊúçÂä°Âè∑ÂíåËÆ¢ÈòÖÂè∑ÔºåËÆ¢ÈòÖÂè∑ÂèØ‰ª•ËØ¥ÊòØÊè≠ÂºÄ‰∫ÜËá™Â™í‰ΩìÁàÜÂèëÁöÑÂ∏∑Âπï„ÄÇËá™Ê≠§ÂèØ‰ª•ËØ¥‰∏≠ÂõΩËá™Â™í‰Ωì1.0Êó∂‰ª£Êù•‰∏¥Ôºå2.0Êó∂‰ª£ÊàëËÆ§‰∏∫ÊòØÊäñÈü≥„ÄÅÂø´ÊâãÁ≠âÂπ≥Âè∞ÁöÑÂÖ¥Ëµ∑„ÄÇ ËÆ¢ÈòÖÂè∑‰∏ªË¶ÅÊúçÂä°Â™í‰Ωì„ÄÅ‰∏™‰∫∫Á≠âÁî®‰∫é‰ø°ÊÅØÂèëÂ∏É ÊúçÂä°Âè∑Êèê‰æõÊõ¥Â§öÁöÑËøêËê•ËÉΩÂäõÂíåËá™‰∏ªÂºÄÂèëÊé•Âè£ËÉΩÂäõ,ÈÄÇÂêà‰ºÅ‰∏ö Â∞èÁ®ãÂ∫èÁõ∏ÂØπ‰∫éÂÖ¨‰ºóÂè∑ÔºåÁõ∏ÊØîÂÖ¨‰ºóÂè∑ÂÜÖÁöÑH5Â∫îÁî®ÊúâÊõ¥Â•ΩÁöÑÁî®Êà∑‰ΩìÈ™åÂíåÊõ¥Â§öÁöÑÂæÆ‰ø°Êèê‰æõÁöÑÊé•Âè£ËÉΩÂäõ„ÄÇ ÊúçÂä°Âè∑„ÄÅËÆ¢ÈòÖÂè∑ÂäüËÉΩÂå∫Âà´ ËÖæËÆØÂÆ¢ÊúçÂÆòÊñπÂØπ‰∫éÂÖ¨‰ºóÂè∑„ÄÅËÆ¢ÈòÖÂè∑ÁöÑÂÆö‰πâÂå∫Âà´ Ëøô‰∏™ÈìæÊé•ÊòØËÄÅÈìæÊé•‰∫ÜÔºåËøôÈáåÁöÑËØ¥Ê≥ïÊòØÂè™ÊúâÂæÆ‰ø°ËÆ§ËØÅÁöÑÊúçÂä°Âè∑ÊâçÂÖ∑Â§áÂæÆ‰ø°ÊîØ‰ªòÂäüËÉΩ„ÄÇ ‰ΩÜÊòØÂú®ÊúÄÊñ∞ÁöÑÂïÜÊà∑Âπ≥Âè∞ÂÖ¨‰ºóÂè∑Êé•ÂÖ•ÊîØ‰ªòÈáåÁöÑ‰ªãÁªçÊòØÊîØÊåÅËÆ¢ÈòÖÂè∑Êé•ÂÖ•ÊîØ‰ªòÂäüËÉΩ„ÄÇ Áé∞Âú®Êàë‰ª¨‰∫ÜËß£Âà∞‰∫ÜÔºåÂÖ¨‰ºóÂè∑(ÊúçÂä°Âè∑„ÄÅËÆ¢ÈòÖÂè∑)„ÄÅÂ∞èÁ®ãÂ∫èÁöÑÂäüËÉΩÂíåÂå∫Âà´‰∫Ü„ÄÇ Â¶ÇÊûú‰Ω†ÊòØ‰∏™‰∫∫Ëá™Â™í‰ΩìÊàñÁªÑÁªáÔºåÊ≤°ÊúâËÆ°ÁÆóÊú∫ÊäÄÊúØÂºÄÂèëËÉΩÂäõÈÇ£‰πà‰Ω†Â§ßÊ¶ÇÈúÄË¶ÅËÆ¢ÈòÖÂè∑ Â¶ÇÊûú‰Ω†ÊòØ‰ºÅ‰∏öÔºåÊúâÂºÄÂèëËÉΩÂäõÈÇ£‰πà‰Ω†Â§ßÊ¶ÇÈúÄË¶ÅÁöÑÊòØÊúçÂä°Âè∑ Â¶ÇÊûú‰Ω†‰Ωú‰∏∫‰ºÅ‰∏öÔºåÂèàÈúÄË¶ÅÊõ¥Â•Ω‰ΩìÈ™åÁöÑÁî®ÂæÆ‰ø°‰Ωú‰∏∫ÂÖ•Âè£ÁöÑÁßªÂä®Â∫îÁî®ÈÇ£‰πàÁõ∏ËæÉ‰∫éÂæÆ‰ø°ÂÜÖÁöÑH5Â∫îÁî®‰Ω†ÂèØËÉΩÊõ¥Â∫îËØ•ÈÄâÊã©Â∞èÁ®ãÂ∫è ÂÖ¨‰ºóÂè∑ÊòØÊúçÂä°Âè∑„ÄÅËÆ¢ÈòÖÂè∑ÁöÑÁªüÁß∞ ÂÖ¨‰ºóÂè∑(ÊúçÂä°Âè∑„ÄÅËÆ¢ÈòÖÂè∑)„ÄÅÂ∞èÁ®ãÂ∫èÁÆ°ÁêÜÂÖ•Âè£ÈÉΩÊòØ https://mp.weixin.qq.com ÂæÆ‰ø°ÊîØ‰ªòÂú®‰∏≠ÂõΩ,Âá†‰πé99%ÁöÑ‰ºÅ‰∏öÂ∫îËØ•ÈÉΩ‰ºö‰ΩøÁî®Âà∞ÂæÆ‰ø°ÊîØ‰ªòÔºåÊâÄ‰ª•ÂØπÊé•ÂæÆ‰ø°ÊîØ‰ªòÊòØ‰ºÅ‰∏öÂ∫îÁî®ÂºÄÂèëËÄÖ‰∏çÂèØÈÅøÂÖçÁöÑÂ∑•‰Ωú„ÄÇ ÂÖ∂‰∏≠Ôºå JSAPIÊîØ‰ªò NativeÊîØ‰ªò APPÊîØ‰ªò Â∞èÁ®ãÂ∫èÊîØ‰ªò ÈÉΩÊòØÂºÄÂèëËÄÖ‰ª¨‰ºöÊ∂âÂèäÂà∞ÁöÑÂèØËÉΩÈúÄË¶ÅÂØπÊé•ÁöÑÊîØ‰ªòÊñπÂºè„ÄÇ JSAPIÊîØ‰ªò ÂïÜÊà∑Â∑≤ÊúâH5ÂïÜÂüéÁΩëÁ´ôÔºåÁî®Êà∑ÈÄöËøáÊ∂àÊÅØÊàñÊâ´Êèè‰∫åÁª¥Á†ÅÂú®ÂæÆ‰ø°ÂÜÖÊâìÂºÄÁΩëÈ°µÊó∂ÔºåÂèØ‰ª•Ë∞ÉÁî®ÂæÆ‰ø°ÊîØ‰ªòÂÆåÊàê‰∏ãÂçïË¥≠‰π∞ÁöÑÊµÅÁ®ã„ÄÇ Â∫îÁî®ËΩΩ‰ΩìÔºöÂæÆ‰ø°ÊµèËßàÂô®ÂÜÖÊâìÂºÄÁöÑÂ∫îÁî® ‰ªéÊäÄÊúØËßíÂ∫¶ËÆ≤ÔºåÂ∞±ÊòØÂú®ÂæÆ‰ø°ÂÜÖÊâìÂºÄÁßªÂä®È°µÈù¢,ÈÄöËøáJS(javascript)Ë∞ÉÁî®ÂæÆ‰ø°ÁöÑAPIÂî§Ëµ∑ÊîØ‰ªò„ÄÇ ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåJSAPIÂî§Ëµ∑Âè™ËÉΩÊòØÂú®ÂæÆ‰ø°ÂÜÖË∞ÉÁî®ÔºåÂç≥JSAPIÊîØ‰ªò‰∏ÄÂÆöÊòØÂú®ÂæÆ‰ø°ÊµèËßàÂô®ÂÜÖËß¶Âèë Ê≠§ÊîØ‰ªòÊñπÂºèÂú∫ÊôØÊúâÔºö ‰ªéÂÖ¨‰ºóÂè∑ÂØºËà™ÊàñÊ∂àÊÅØÁÇπÂºÄÁöÑH5ÁΩëÈ°µ H5ÁΩëÈ°µÈìæÊé•ÔºåÂæÆ‰ø°Êâ´Á†ÅÊâìÂºÄ H5ÊîØ‰ªò Ë¶ÅÊ±ÇÂïÜÊà∑Â∑≤ÊúâH5ÂïÜÂüéÁΩëÁ´ôÔºåÂπ∂‰∏îÂ∑≤ÁªèËøáICPÂ§áÊ°à„ÄÇÈÄöËøáÂæÆ‰ø°H5ÊîØ‰ªòÂèØ‰ª•ÂÆûÁé∞Âú®ÈùûÂæÆ‰ø°ÊµèËßàÂô®ÔºàÂ¶ÇQQÊµèËßàÂô®„ÄÅË∞∑Ê≠åÊµèËßàÂô®„ÄÅSafariÁ≠âÔºâ‰∏≠‰ΩøÁî®ÂæÆ‰ø°ÊîØ‰ªòÁöÑÂú∫ÊôØ„ÄÇ Â∫îÁî®ËΩΩ‰ΩìÔºöÈùûÂæÆ‰ø°ÊµèËßàÂô®ÊâìÂºÄÁöÑH5Â∫îÁî® ÂæÆ‰ø°ÂÆòÊñπH5ÊîØ‰ªò‰ªãÁªç ËøôÁßçÊîØ‰ªòÂ∑≤Áªè‰∏çËÉΩ‰ªéÂÆòÊñπÁöÑÂØºËà™È°µÈù¢ÊâæÂà∞‰∫ÜÔºåÂè™ËÉΩ‰ªéÊêúÁ¥¢ÂºïÊìéÊêúÁ¥¢Âá∫ÂÖ•Âè£‰∫Ü„ÄÇ ÊàëÁåúÊÉ≥Â§ßÊ¶Ç‰πüÊòØÂõ†‰∏∫‰∏äÈù¢ËØ¥ÁöÑÔºåÂÆòÊñπÂπ∂‰∏çÂª∫ËÆÆËøô‰πàÂÅö„ÄÇÁé∞Âú®ÂæàÂ§ö‰ºÅ‰∏ö‰ºöËÄÉËôëÂ∞ÜÁ¨¨‰∫åÊõ≤Á∫ø‰∏öÂä°Â∫îÁî®‰ΩøÁî®H5ÁöÑÊñπÂºèÂµåÂÖ•Âà∞‰∏ª‰∏öÂä°APPÂÜÖÔºå‰ª•ËææÂà∞Âø´ÈÄüËø≠‰ª£ÁöÑÁõÆÁöÑ„ÄÇËøôÊ†∑ÂèØËÉΩÁöÑÊÉÖÂÜµÂ∞±ÊòØÔºå‰∏Ä‰∏™APPÂÜÖÊúâÂ§öÁßçÂæÆ‰ø°ÊîØ‰ªòÊñπÂºèÔºå‰∏ª‰∏öÂä°ÁöÑÂéüÁîüAPPÊîØ‰ªòÂíåÁ¨¨‰∫åÊõ≤Á∫ø‰∏öÂä°ÁöÑH5ÊîØ‰ªòÊñπÂºè„ÄÇ Ëµ∑ÂÖ≥ÈîÆÁöÑÂú∞ÊñπÂú®‰∫éÔºå‰ΩøÁî®deeplinkË∑≥ËΩ¨Âà∞ÂæÆ‰ø°ÂÆ¢Êà∑Á´ØËøõË°åÂî§Ëµ∑ÂæÆ‰ø°ÊîØ‰ªò„ÄÇ Áªü‰∏Ä‰∏ãÂçïÊé•Âè£ËøîÂõûÊîØ‰ªòÁõ∏ÂÖ≥ÂèÇÊï∞ÁªôÂïÜÊà∑ÂêéÂè∞ÔºåÂ¶ÇÊîØ‰ªòË∑≥ËΩ¨urlÔºàÂèÇÊï∞Âêç‚Äúmweb_url‚ÄùÔºâÔºåÂïÜÊà∑ÈÄöËøámweb_urlË∞ÉËµ∑ÂæÆ‰ø°ÊîØ‰ªò‰∏≠Èó¥È°µ Áªü‰∏Ä‰∏ãÂçïAPIÊé•Âè£ËøîÂõûÊîØ‰ªòË∑≥ËΩ¨ÈìæÊé• mweb_url. mweb_url‰∏∫ÊãâËµ∑ÂæÆ‰ø°ÊîØ‰ªòÊî∂Èì∂Âè∞ÁöÑ‰∏≠Èó¥È°µÈù¢ÔºåÂèØÈÄöËøáËÆøÈóÆËØ•urlÊù•ÊãâËµ∑ÂæÆ‰ø°ÂÆ¢Êà∑Á´ØÔºåÂÆåÊàêÊîØ‰ªò,mweb_urlÁöÑÊúâÊïàÊúü‰∏∫5ÂàÜÈíü„ÄÇ NativeÊîØ‰ªò NativeÊîØ‰ªòÊòØÊåáÂïÜÊà∑Á≥ªÁªüÊåâÂæÆ‰ø°ÊîØ‰ªòÂçèËÆÆÁîüÊàêÊîØ‰ªò‰∫åÁª¥Á†ÅÔºåÁî®Êà∑ÂÜçÁî®ÂæÆ‰ø°‚ÄúÊâ´‰∏ÄÊâ´‚ÄùÂÆåÊàêÊîØ‰ªòÁöÑÊ®°Âºè„ÄÇËØ•Ê®°ÂºèÈÄÇÁî®‰∫éPCÁΩëÁ´ô„ÄÅÂÆû‰ΩìÂ∫óÂçïÂìÅÊàñËÆ¢Âçï„ÄÅÂ™í‰ΩìÂπøÂëäÊîØ‰ªòÁ≠âÂú∫ÊôØ NativeÊîØ‰ªòÂç≥Êâ´Á†ÅÊîØ‰ªòÔºå‰∏ªË¶ÅÂ∫îÁî®Âú∫ÊôØÊòØÂú®PCÁΩëÁ´ôÂ∫îÁî®ÈÄöËøáÂæÆ‰ø°Êâ´ÊèèÁΩëÁ´ôÁîüÊàêÁöÑÂ∏¶ÊúâÂïÜÂìÅ‰ø°ÊÅØÁöÑÊîØ‰ªò‰∫åÁª¥Á†ÅËøõË°åÊîØ‰ªò„ÄÇ Â∫îÁî®ËΩΩ‰ΩìÔºö‰ºÅ‰∏öÁöÑPCÁΩëÁ´ô AppÊîØ‰ªò APPÊîØ‰ªòÊòØÊåáÂïÜÊà∑ÈÄöËøáÂú®ÁßªÂä®Á´ØÂ∫îÁî®APP‰∏≠ÈõÜÊàêÂºÄÊîæSDKË∞ÉËµ∑ÂæÆ‰ø°ÊîØ‰ªòÊ®°ÂùóÊù•ÂÆåÊàêÊîØ‰ªò„ÄÇÈÄÇÁî®‰∫éÂú®ÁßªÂä®Á´ØAPP‰∏≠ÈõÜÊàêÂæÆ‰ø°ÊîØ‰ªòÂäüËÉΩÁöÑÂú∫ÊôØ„ÄÇ Â∫îÁî®ËΩΩ‰ΩìÔºö‰ºÅ‰∏öÁöÑAPP Â∞èÁ®ãÂ∫èÊîØ‰ªò ÂïÜÊà∑Â∑≤ÊúâÂæÆ‰ø°Â∞èÁ®ãÂ∫èÔºåÁî®Êà∑ÈÄöËøáÂ•ΩÂèãÂàÜ‰∫´ÊàñÊâ´Êèè‰∫åÁª¥Á†ÅÂú®ÂæÆ‰ø°ÂÜÖÊâìÂºÄÂ∞èÁ®ãÂ∫èÊó∂ÔºåÂèØ‰ª•Ë∞ÉÁî®ÂæÆ‰ø°ÊîØ‰ªòÂÆåÊàê‰∏ãÂçïË¥≠‰π∞ÁöÑÊµÅÁ®ã„ÄÇ Á±ª‰ºº‰∫éJSAPIÊîØ‰ªòÔºåÂè™ÊòØÊòØÂú®Â∞èÁ®ãÂ∫èÂÜÖÂî§Ëµ∑„ÄÇ Â∫îÁî®ËΩΩ‰ΩìÔºöÂæÆ‰ø°Â∞èÁ®ãÂ∫è Â∞èÁªì ‰∏äËø∞5ÁßçÊîØ‰ªòÊñπÂºè,ÊîØ‰ªòÂä®‰ΩúÈÉΩÊòØÂú®ÂæÆ‰ø°APPÂÜÖ Ë¶Å‰πàÊú¨Ë∫´‰∏öÂä°Â∫îÁî®Â∞±Âú®ÂæÆ‰ø°ÂÜÖ,Ë¶Å‰πàÊòØ‰ΩøÁî®ÂæÆ‰ø°Êâ´Á†ÅÊàñËÄÖAPPË∑≥ËΩ¨Âà∞ÂæÆ‰ø° ÊâÄÊúâÊîØ‰ªòÊñπÂºèÈÉΩÈúÄË¶ÅË∞ÉÁî®‰∏Ä‰∏™Êé•Âè£Áªü‰∏Ä‰∏ãÂçï,Áªü‰∏Ä‰∏ãÂçïÊé•Âè£ÈúÄË¶Å2‰∏™ÈáçË¶ÅÂèÇÊï∞appid„ÄÅmchid Áî±‰∫éÂæÆ‰ø°ÊîØ‰ªòÁöÑ‰∫ßÂìÅ‰ΩìÁ≥ªÂÖ®ÈÉ®Êê≠ËΩΩ‰∫éÂæÆ‰ø°ÁöÑÁ§æ‰∫§‰ΩìÁ≥ª‰πã‰∏äÔºåÊâÄ‰ª•Áõ¥ËøûÂïÜÊà∑ÊàñÊúçÂä°ÂïÜÂïÜÊà∑Êé•ÂÖ•ÂæÆ‰ø°ÊîØ‰ªò‰πãÂâçÔºåÈÉΩÈúÄË¶ÅÊúâ‰∏Ä‰∏™ÂæÆ‰ø°Á§æ‰∫§ËΩΩ‰ΩìÔºåËØ•ËΩΩ‰ΩìÂØπÂ∫îÁöÑIDÂç≥‰∏∫APPID„ÄÇ Áªü‰∏Ä‰∏ãÂçïÊâÄÈúÄË¶ÅÁöÑappidÂç≥‰∏∫ËΩΩ‰ΩìÁöÑappid„ÄÇ‰∏çÂêåËΩΩ‰ΩìÈúÄË¶ÅÂú®‰∏çÂêåÂπ≥Âè∞Áî≥ËØ∑appid„ÄÇ Â∞èÁ®ãÂ∫è„ÄÅÂÖ¨‰ºóÂè∑ÂâçÂæÄÂÖ¨‰ºóÂπ≥Âè∞Áî≥ËØ∑,Ëá™ÊúâAPPÂâçÂæÄÂºÄÊîæÂπ≥Âè∞Áî≥ËØ∑ mchidÊòØÂïÜÊà∑ID,ÊòØÊî∂Ê¨æË¥¶Âè∑„ÄÇÈúÄÂâçÂæÄÂïÜÊà∑Âπ≥Âè∞Áî≥ËØ∑„ÄÇ ‰∏Ä‰∏™mchidÂè™ËÉΩÂØπÂ∫î‰∏Ä‰∏™ÁªìÁÆóÂ∏ÅÁßçÔºåËã•ÈúÄË¶Å‰ΩøÁî®Â§ö‰∏™Â∏ÅÁßçÊî∂Ê¨æÔºåÈúÄË¶ÅÁî≥ËØ∑ÂØπÂ∫îÊï∞ÈáèÁöÑmchid„ÄÇ ÂæÆ‰ø°ÊîØ‰ªò‰∫§ÊòìÂèëËµ∑‰æùËµñ‰∫éÂÖ¨‰ºóÂè∑„ÄÅÂ∞èÁ®ãÂ∫è„ÄÅÁßªÂä®Â∫îÁî®ÔºàÂç≥APPIDÔºâ‰∏éÂïÜÊà∑Âè∑ÔºàÂç≥MCHIDÔºâÁöÑÁªëÂÆöÂÖ≥Á≥ªÔºåÂõ†Ê≠§ÂïÜÊà∑Âú®ÂÆåÊàêÁ≠æÁ∫¶ÂêéÔºåÈúÄË¶ÅÁ°ÆËÆ§ÂΩìÂâçÂïÜÊà∑Âè∑ÂêåappidÁöÑÁªëÂÆöÂÖ≥Á≥ªÔºåÊñπÂèØ‰ΩøÁî®„ÄÇ APPIDÂíåmchidÂèØ‰ª•ÊòØÂ§öÂØπÂ§öÁöÑÁªëÂÆöÂÖ≥Á≥ª,ÂêåÊó∂ËÆ§ËØÅ‰∏ª‰Ωì‰πü‰ºöÈÄ†ÊàêÁªëÂÆöÂ§±Ë¥•„ÄÇ appidÂíåmchidÁªëÂÆöÊåáÂºï Âêå‰∏ª‰ΩìÁªëÂÆöÂèØËá™Âä©Â§ÑÁêÜ ÂºÇ‰∏ª‰ΩìÁªëÂÆöÂèØËÉΩ‰ºöÂèóËµÑÊ†ºÈôêÂÆö ÂïÜÊà∑Âè∑‰∏éÂÖ∂‰ªñÁ±ªÂûãË¥¶Âè∑Âª∫Á´ãÂÖ≥ËÅîÂÖ≥Á≥ªÂêéÔºåÊöÇ‰∏çÊîØÊåÅËß£Áªë ÁªëÂÆöÁöÑAPPIDÂ¶ÇÂ∑≤ÊúâÁªëÂÆöÂïÜÊà∑Âè∑ÔºåÂàôÂèëËµ∑ÁªëÂÆöÁî≥ËØ∑ÁöÑÂïÜÊà∑Âè∑ÈúÄ‰∏éAPPIDÂ∑≤ÁªëÂÆöÁöÑÂïÜÊà∑Âè∑Ë¥πÁéá‰∏ÄËá¥ Á¨¨‰∏âÊñπÂπ≥Âè∞Âú®ÂºÄÊîæÂπ≥Âè∞‰∏≠ÂèØ‰ª•Êñ∞Âª∫Á¨¨‰∏âÊñπÂπ≥Âè∞Â∫îÁî®„ÄÇ ÂæÆ‰ø°ÂºÄÊîæÂπ≥Âè∞-Á¨¨‰∏âÊñπÂπ≥Âè∞ÔºàÁÆÄÁß∞Á¨¨‰∏âÊñπÂπ≥Âè∞ÔºâÂºÄÊîæÁªôÊâÄÊúâÈÄöËøáÂºÄÂèëËÄÖËµÑË¥®ËÆ§ËØÅÁöÑÂºÄÂèëËÄÖ‰ΩøÁî®„ÄÇÂú®ÂæóÂà∞ÂÖ¨‰ºóÂè∑ÊàñÂ∞èÁ®ãÂ∫èËøêËê•ËÄÖÔºàÁÆÄÁß∞ËøêËê•ËÄÖÔºâÊéàÊùÉÂêéÔºåÁ¨¨‰∏âÊñπÂπ≥Âè∞ÂºÄÂèëËÄÖÂèØ‰ª•ÈÄöËøáË∞ÉÁî®ÂæÆ‰ø°ÂºÄÊîæÂπ≥Âè∞ÁöÑÊé•Âè£ËÉΩÂäõÔºå‰∏∫ÂÖ¨‰ºóÂè∑ÊàñÂ∞èÁ®ãÂ∫èÁöÑËøêËê•ËÄÖÊèê‰æõË¥¶Âè∑Áî≥ËØ∑„ÄÅÂ∞èÁ®ãÂ∫èÂàõÂª∫„ÄÅÊäÄÊúØÂºÄÂèë„ÄÅË°å‰∏öÊñπÊ°à„ÄÅÊ¥ªÂä®Ëê•ÈîÄ„ÄÅÊèí‰ª∂ËÉΩÂäõÁ≠âÂÖ®Êñπ‰ΩçÊúçÂä°„ÄÇ ÁÆÄËÄåË®Ä‰πãÊòØÔºöÂ¶ÇÊûú‰Ω†ÁöÑ‰ºÅ‰∏öÊ≤°ÊúâÁ†îÂèëËÉΩÂäõÔºåÂèØ‰ª•ÊâæÊ≠§Á±ªÊúçÂä°ÂïÜÂú®Ëé∑Âèñ‰Ω†ÁöÑÊéàÊùÉÂêé‰ª£‰Ω†ÂéªÂºÄÂèë‰∏Ä‰∫õÂäüËÉΩ„ÄÇÊ≠§Á±ªÊúçÂä°ÂïÜÈúÄË¶ÅÈ¶ñÂÖàÊñ∞Âª∫Á¨¨‰∏âÊñπÂπ≥Âè∞„ÄÇ Ë°•ÂÖÖÂà∞ÁõÆÂâç‰∏∫Ê≠¢Ôºå3Â§ßÂπ≥Âè∞ÈÉΩÂ∑≤ÁªèÊµÆÂá∫Ê∞¥Èù¢ÔºåÊúÄÂêéÂÅö‰∏Ä‰∏™ÊÄªÁªìË°•ÂÖÖ„ÄÇ ÂÖ¨‰ºóÂπ≥Âè∞ÔºåËøêËê•ËÄÖË∫´‰ªΩ‰πü‰ºöÂèÇ‰∏éÂæàÂ§öÁÆ°ÁêÜÂ∑•‰Ωú ÂºÄÊîæÂπ≥Âè∞ÔºåÊõ¥Â§öÊòØÂºÄÂèëËÄÖ‰ªãÂÖ•,Êèê‰æõÊó†Á§æ‰∫§ËΩΩ‰ΩìÁöÑAPPÊîØ‰ªòÂ∫îÁî®ÂàõÂª∫‰ª•ÂèäÂÖ∂‰ªñÁöÑÂæÆ‰ø°Êâ´Á†ÅÁôªÂΩï„ÄÅÁ¨¨‰∏âÊñπÂπ≥Âè∞Á≠âÂäüËÉΩ ÂïÜÊà∑Âπ≥Âè∞Ôºå‰∏éË¥¢Âä°ÂÖ≥Á≥ªÁ¥ßÂØÜÔºå‰∏éÂæÆ‰ø°ÊîØ‰ªòÂäüËÉΩÊÅØÊÅØÁõ∏ÂÖ≥ Á¨¨‰∏âÊñπÂπ≥Âè∞Ôºå‰∏éÂÖ¨‰ºóÂè∑/Â∞èÁ®ãÂ∫èÊúçÂä°ÂïÜÁõ∏ÂÖ≥ÔºåÊèê‰æõÁªôÊó†Á†îÂèëËÉΩÂäõÁöÑ‰ºÅ‰∏öÔºåÊéàÊùÉÊúçÂä°ÂïÜ‰ª£ÂºÄÂèëÁöÑËÉΩÂäõ„ÄÇ","categories":[],"tags":[{"name":"ÁºñÁ†Å‰∫∫Áîü","slug":"ÁºñÁ†Å‰∫∫Áîü","permalink":"http://visonforcoding.xyz/tags/%E7%BC%96%E7%A0%81%E4%BA%BA%E7%94%9F/"}]},{"title":"spring-bootËÆ∞ÂΩïÂπ∂ÁªüËÆ°sqlÊé¢Á¥¢,Á∫øÁ®ãÂÆâÂÖ®ÊñπÂºè","slug":"java/spring-bootËÆ∞ÂΩïsqlÊé¢Á¥¢","date":"2021-12-04T03:28:29.000Z","updated":"2021-12-04T03:58:28.535Z","comments":true,"path":"2021/12/04/java/spring-bootËÆ∞ÂΩïsqlÊé¢Á¥¢/","link":"","permalink":"http://visonforcoding.xyz/2021/12/04/java/spring-boot%E8%AE%B0%E5%BD%95sql%E6%8E%A2%E7%B4%A2/","excerpt":"ÁõÆÊ†áËÆ∞ÂΩïÊØèÊ¨°ËØ∑Ê±ÇÂÜÖÁöÑhttp„ÄÅes„ÄÅmysqlËÄóÊó∂ÔºåÊú¨ÁØáËÆ®ËÆ∫mysqlÈÉ®ÂàÜ ‰∏∫‰ªÄ‰πàËØ¥Ë¶ÅÊé¢Á¥¢ÔºåËøô‰∏çÊòØÂæàÁÆÄÂçïÁöÑ‰∫ã‰πàÔºü‰ΩÜÊòØËÉΩÊª°Ë∂≥‰ª•‰∏ãÂá†ÁÇπ‰πàÔºü ËÉΩËÆ∞ÂΩïlimitÁ≠âÂèÇÊï∞ ËÉΩÂ∞ÜÂèÇÊï∞ÂíåsqlÂÜô‰∏ÄËµ∑ÔºåËÉΩÁõ¥Êé•‰ΩøÁî® ËÉΩËÆ∞ÂΩïËÄóÊó∂ ËÉΩËÆ°Êï∞Á¥ØÂä†,ÁªüËÆ°‰∏ÄÊ¨°ËØ∑Ê±Ç‰∏≠sqlÊâßË°åÁöÑÊÄªÊï∞ÂíåÊÄªËÄóÊó∂","text":"ÁõÆÊ†áËÆ∞ÂΩïÊØèÊ¨°ËØ∑Ê±ÇÂÜÖÁöÑhttp„ÄÅes„ÄÅmysqlËÄóÊó∂ÔºåÊú¨ÁØáËÆ®ËÆ∫mysqlÈÉ®ÂàÜ ‰∏∫‰ªÄ‰πàËØ¥Ë¶ÅÊé¢Á¥¢ÔºåËøô‰∏çÊòØÂæàÁÆÄÂçïÁöÑ‰∫ã‰πàÔºü‰ΩÜÊòØËÉΩÊª°Ë∂≥‰ª•‰∏ãÂá†ÁÇπ‰πàÔºü ËÉΩËÆ∞ÂΩïlimitÁ≠âÂèÇÊï∞ ËÉΩÂ∞ÜÂèÇÊï∞ÂíåsqlÂÜô‰∏ÄËµ∑ÔºåËÉΩÁõ¥Êé•‰ΩøÁî® ËÉΩËÆ∞ÂΩïËÄóÊó∂ ËÉΩËÆ°Êï∞Á¥ØÂä†,ÁªüËÆ°‰∏ÄÊ¨°ËØ∑Ê±Ç‰∏≠sqlÊâßË°åÁöÑÊÄªÊï∞ÂíåÊÄªËÄóÊó∂ springÂéüÁîüËÉΩÂäõlogging.level.org.hibernate.SQL=debug logging.level.org.hibernate.type.descriptor.sql.BasicBinder=trace ÈÄöËøá‰∏äÈù¢‰∏§Êù°ÈÖçÁΩÆ„ÄÇ ‚úîÔ∏èÂèØ‰ª•ÊòæÁ§∫sql. ‚ùå‰∏çËÉΩÂíåÂèÇÊï∞‰∏ÄË°åÊòæÁ§∫ ‚ùå‰∏çËÉΩÊòæÁ§∫limitÂèÇÊï∞ ‚ùå‰∏çËÉΩËÆ°Êï∞ÂíåËÆ∞ÂΩïËÄóÊó∂ 2021-02-23 19:35:42.932 DEBUG 97586 --- [ restartedMain] org.hibernate.SQL : select admin0_.id as id1_0_, admin0_.create_time as create_t2_0_, admin0_.modify_time as modify_t3_0_, admin0_.email as email4_0_, admin0_.password as password5_0_, admin0_.status as status6_0_, admin0_.username as username7_0_ from admin admin0_ where admin0_.username&#x3D;? 2021-02-23 19:35:42.949 TRACE 97586 --- [ restartedMain] o.h.type.descriptor.sql.BasicBinder : binding parameter [1] as [VARCHAR] - [root] ÂéüÁîülog+org.hibernate.EmptyInterceptororg.hibernate.EmptyInterceptorÊèê‰æõÈí©Â≠êÔºåhibernateÊú¨Ë∫´Êèê‰æõentityÁöÑcurdÈí©Â≠ê„ÄÇÈáçÂÜôEmptyInterceptorÊñπÊ≥ïÔºåÂèØ‰ª•ÂÆûÁé∞ËÆ°Êï∞„ÄÇ‰ΩÜÊòØonPrepareStatementÊñπÊ≥ïÂè™ÊòØË£ÖÈÖçsqlÂâçÁöÑ‰∫ã‰ª∂ÔºåËÄå‰∏î‰∏çÊòØÂÆåÊï¥ÁöÑsql„ÄÇ ‚úîÔ∏è ÂèØ‰ª•ÊòæÁ§∫sql ‚ùå ‰∏çËÉΩÂíåÂèÇÊï∞‰∏ÄË°åÊòæÁ§∫ ‚ùå ‰∏çËÉΩÊòæÁ§∫limitÂèÇÊï∞ ‚úîÔ∏è ËÉΩËÆ°Êï∞ ‚ùå ‰∏çËÉΩËÆ∞ÂΩïËÄóÊó∂ spring.jpa.properties.hibernate.ejb.interceptor=com.vison.itdoc.config.HibernateInterceptor public class HibernateInterceptor extends EmptyInterceptor &#123; @Override public boolean onLoad(Object entity, Serializable id, Object[] state, String[] propertyNames, Type[] types) &#123; // Log.info(\"onload...\", entity) return true; &#125; @Override public String onPrepareStatement(String string) &#123; // count++ return INSTANCE.onPrepareStatement(string); &#125; @Override public void afterTransactionCompletion(Transaction t) &#123; INSTANCE.afterTransactionCompletion(t); Log.info(\"after trans complete\", t); &#125; &#125; log4jdbclog4jdbcËÉΩÂæàÂ•ΩÁöÑËß£ÂÜ≥sqlÂÆåÊï¥ÊòæÁ§∫ÂíåËÆ∞ÂΩïËÄóÊó∂ÁöÑÈóÆÈ¢ò 2021-02-23 19:59:13.709 INFO 97586 --- [nio-8081-exec-1] jdbc.sqltiming : select posts0_.id as id1_2_, posts0_.create_time as create_t2_2_, posts0_.modify_time as modify_t3_2_, posts0_.content as content4_2_, posts0_.title as title5_2_ from posts posts0_ where 1&#x3D;1 order by posts0_.id asc limit 10 ; &#123;executed in 1 msec&#125; ËøòËÉΩÂ§üÂÆö‰πâË∂ÖËøá1ÂÆöÊó∂Èó¥ÁöÑÊâßË°åsqlËÆ∞ÂΩï‰∏∫errorÁ±ªÂûã„ÄÇ &lt;dependency> &lt;groupId>com.googlecode.log4jdbc&lt;/groupId> &lt;artifactId>log4jdbc&lt;/artifactId> &lt;version>1.2&lt;/version> &lt;scope>runtime&lt;/scope> &lt;/dependency> spring.datasource.driver-class-name: net.sf.log4jdbc.DriverSpy #‰ΩøÁî®log4jdbcÂêémysqlÁöÑurl spring.datasource.url=jdbc:log4jdbc:mysql://localhost:3306/xxxx?useUnicode=true&amp;characterEncoding=UTF-8 #‰ΩøÁî®log4jdbcÂêéoracleÁöÑurl #spring.datasource.url: jdbc:log4jdbc:oracle:thin:@127.0.0.1:1521:orcl Ê≥®ÊÑèÈúÄË¶ÅÊ∑ªÂä†spring.datasource.driver-class-name ÂíåÊõ¥Êîπ spring.datasource.url Â∞ÜjdbcÊîπ‰∏∫ jdbc:log4jdbc log4jdbc.propertiesÂèØ‰ª•ÂÆö‰πâÊõ¥Â§öÈÖçÁΩÆ #ÈÖçÁΩÆ‰∏∫ÈúÄË¶ÅËÆ∞ÂΩïÁöÑÂåÖÊàñÁ±ªÂåπÈÖçË∑ØÂæÑ #log4jdbc.debug.stack.prefix=com.drp #log4jdbcÂä†ËΩΩÁöÑdrivers (È©±Âä®Âêç) #log4jdbc.drivers=oracle.jdbc.OracleDriver log4jdbc.auto.load.popular.drivers=true #Âú®Êó•Âøó‰∏≠ÊòæÁ§∫warnË≠¶Âëä log4jdbc.statement.warn=true #ÊØ´ÁßíÂÄº.ÊâßË°åÊó∂Èó¥Ë∂ÖËøáËØ•ÂÄºÁöÑSQLËØ≠Âè•Â∞ÜË¢´ËÆ∞ÂΩï‰∏∫warnÁ∫ßÂà´. log4jdbc.sqltiming.warn.threshold=2000 #ÊØ´ÁßíÂÄº.ÊâßË°åÊó∂Èó¥Ë∂ÖËøáËØ•ÂÄºÁöÑSQLËØ≠Âè•Â∞ÜË¢´ËÆ∞ÂΩï‰∏∫errorÁ∫ßÂà´. log4jdbc.sqltiming.error.threshold=3000 #ÊòØÊääbooleanËÆ∞ÂΩï‰∏∫ 'true'/'false' ËøòÊòØ 1/0. ÈªòËÆ§ËÆæÁΩÆ‰∏∫false,‰∏çÂêØÁî®,‰∏∫‰∫ÜÁßªÊ§çÊÄß. #log4jdbc.dump.booleanastruefalse=true #ËæìÂá∫ÁöÑsql,‰∏ÄË°åÊúÄÂ§ßÁöÑÂ≠óÁ¨¶Êï∞ÔºåÈªòËÆ§90. ‰ª•ÂêéÊñ∞ÁâàÂèØËÉΩ‰∏∫0 #log4jdbc.dump.sql.maxlinelength=90 #Â¶ÇÊûúÂú®Ë∞ÉËØïÊ®°Âºè‰∏ãËΩ¨ÂÇ®ÔºåÂàôËΩ¨ÂÇ®Êï¥‰∏™Â†ÜÊ†àË∑üË∏™ ÈªòËÆ§false log4jdbc.dump.fulldebugstacktrace=false #ÊòØÂê¶ËÆ∞ÂΩïÊüê‰∫õÁ±ªÂûãÁöÑËØ≠Âè•ÔºåÈªòËÆ§true log4jdbc.dump.sql.select=true log4jdbc.dump.sql.insert=true log4jdbc.dump.sql.delete=true log4jdbc.dump.sql.update=true log4jdbc.dump.sql.create=true #ËæìÂá∫sqlÊú´Â∞æÂ§ÑÂä†ÂÖ•ÂàÜÂè∑ÔºåÈªòËÆ§false log4jdbc.dump.sql.addsemicolon=true #Â∞ÜÊ≠§ËÆæÁΩÆ‰∏∫false‰ª•‰∏ç‰øÆÂâ™Â∑≤ËÆ∞ÂΩïÁöÑSQL log4jdbc.trim.sql=true #Â∞ÜÊ≠§ËÆæÁΩÆ‰∏∫false‰∏çÂà†Èô§È¢ùÂ§ñÁöÑÁ©∫Ë°å log4jdbc.trim.sql.extrablanklines=true #log4jdbc.suppress.generated.keys.exception=false ‚úîÔ∏è ÂèØ‰ª•ÊòæÁ§∫sql ‚úîÔ∏è ‰∏çËÉΩÂíåÂèÇÊï∞‰∏ÄËµ∑ÊòæÁ§∫ ‚úîÔ∏è ‰∏çËÉΩÊòæÁ§∫limitÂèÇÊï∞ ‚ùå ËÉΩËÆ°Êï∞ ‚úîÔ∏è ËÉΩËÆ∞ÂΩïÂçï‰∏™sqlËÄóÊó∂ ‚ùå ‰∏çËÉΩÁªüËÆ°ÊÄªËÄóÊó∂ ‰∏çË∂≥ÁöÑÊòØÔºåÂçïÁ∫Ølog4jdbcÂπ∂‰∏çËÉΩÊª°Ë∂≥ÊâÄÊúâ„ÄÇÁêÜËÆ∫‰∏älog4jdbc+org.hibernate.EmptyInterceptorÂèØ‰ª•Êª°Ë∂≥ÈúÄÊ±Ç‰∫Ü P6SpyÊµãËØïÂÆåÊØïÔºåÂèëÁé∞P6SpyÁõÆÂâçÊúÄËÉΩÊª°Ë∂≥ÈúÄÊ±ÇÔºö ‚úîÔ∏è ÂèØ‰ª•ÊòæÁ§∫sql ‚úîÔ∏è ‰∏çËÉΩÂíåÂèÇÊï∞‰∏ÄËµ∑ÊòæÁ§∫ ‚úîÔ∏è ‰∏çËÉΩÊòæÁ§∫limitÂèÇÊï∞ ‚úîÔ∏è ËÉΩËÆ°Êï∞ ‚úîÔ∏è ‰∏çËÉΩËÆ∞ÂΩïËÄóÊó∂ ‚úîÔ∏è ÊîØÊåÅcurd‰∫ã‰ª∂ÂâçÂêéÈí©Â≠êÔºåÈí©Â≠êÂèÇÊï∞ËøîÂõûsqlÂíåÊâßË°åËÄóÊó∂ÂèäÂºÇÂ∏∏‰ø°ÊÅØüöÄ &lt;dependency> &lt;groupId>p6spy&lt;/groupId> &lt;artifactId>p6spy&lt;/artifactId> &lt;version>3.9.1&lt;/version> &lt;/dependency> Âêålog4jdbcÈúÄË¶ÅÊîπdriverÂíåurl spring.datasource.driver-class-name=com.p6spy.engine.spy.P6SpyDriver spring.datasource.url=jdbc:p6spy:mysql://localhost:3306/test?useLegacyDatetimeCode=false&amp;serverTimezone=UTC psy.propertiesÂèØ‰ª•ÂÆö‰πâÊõ¥Â§öÈÖçÁΩÆ #modulelist=com.p6spy.engine.spy.P6SpyFactory,com.p6spy.engine.logging.P6LogFactory,com.p6spy.engine.outage.P6OutageFactory modulelist=com.vison.itdoc.config.CustomeP6Factory,com.p6spy.engine.logging.P6LogFactory,com.p6spy.engine.outage.P6OutageFactory #moduelistÂæàÂÖ≥ÈîÆÔºåÊàëËøôÈáå‰ΩøÁî®‰∫ÜËá™ÂÆö‰πâÁöÑFactoryÔºåÂõ†‰∏∫ÊàëÈúÄË¶ÅËá™ÂÆö‰πâevent appender=com.p6spy.engine.spy.appender.Slf4JLogger logMessageFormat=com.p6spy.engine.spy.appender.CustomLineFormat customLogMessageFormat=%(executionTime) ms|%(category)|%(sql) excludecategories=result,resultset,info,debug Ê≠£Â∏∏‰ΩøÁî®ÈªòËÆ§ÈÖçÁΩÆÂ∞±ÂèØ‰ª•ÊòæÁ§∫Âá∫sqlÂíåËÄóÊó∂‰ø°ÊÅØ 4 ms|statement|select admin0_.id as id1_0_, admin0_.create_time as create_t2_0_, admin0_.modify_time as modify_t3_0_, admin0_.email as email4_0_, admin0_.password as password5_0_, admin0_.status as status6_0_, admin0_.username as username7_0_ from admin admin0_ where admin0_.username&#x3D;&#39;root&#39; ÂèØ‰ª•ÁúãÂà∞ÔºåËÄóÊó∂‰ø°ÊÅØÂíåÂÆûÈôÖÂèÇÊï∞ Ëá™ÂÆö‰πâ‰∫ã‰ª∂modulelist=com.p6spy.engine.spy.P6SpyFactoryÊîπÊàêËá™ÂÆö‰πâFactory Ëá™ÂÆö‰πâFactory public class CustomeP6Factory implements com.p6spy.engine.spy.P6Factory &#123; @Override public P6LoadableOptions getOptions(P6OptionsRepository optionsRepository) &#123; return new P6SpyOptions(optionsRepository); &#125; @Override public JdbcEventListener getJdbcEventListener() &#123; return new P6spyListener(); //‰ΩøÁî®Ëá™ÂÆö‰πâListener &#125; &#125; Ëá™ÂÆö‰πâ‰∫ã‰ª∂ public class P6spyListener extends JdbcEventListener &#123; @Override public void onAfterExecuteQuery(PreparedStatementInformation statementInformation, long timeElapsedNanos, SQLException e) &#123; App.sqlCount.incrementAndGet(); Log.info(\"execute query...\", statementInformation.getSqlWithValues()); &#125; @Override public void onAfterExecuteUpdate(PreparedStatementInformation statementInformation, long timeElapsedNanos, int rowCount, SQLException e) &#123; App.sqlCount.incrementAndGet(); Log.info(\"execute update..\", statementInformation.getSqlWithValues()); &#125; @Override public void onAfterExecute(StatementInformation statementInformation, long timeElapsedNanos, String sql, SQLException e) &#123; Log.info(\"execute..\", statementInformation.getSqlWithValues()); &#125; &#125; ÂèØ‰ª•ÁúãÂà∞ÔºåÊàëÂú®Ëá™ÂÆö‰πâ‰∫ã‰ª∂‰∏≠ËøõË°å‰∫ÜsqlËÆ°Êï∞.‰∫éÊòØÊàëÂèØ‰ª•Âú®ËØ∑Ê±ÇÁªìÊùüÊó∂ÊâìÂç∞ÊØèÊ¨°ËØ∑Ê±ÇÁöÑÊÄªsqlÊâßË°åÊ¨°Êï∞„ÄÇ public class RequestInitInterceptor implements HandlerInterceptor &#123; public RequestInitInterceptor() &#123; &#125; @Override public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception &#123; App._uniq_req_no = UUID.randomUUID().toString(); App.sqlCount = new AtomicInteger(0); Log.setMsgTraceNo(App._uniq_req_no); Log.info(\"request start...\", handler); return true; &#125; @Override public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception &#123; Log.info(String.format(\"finish request sqlÊâßË°åÊ¨°Êï∞:%s\", App.sqlCount)); &#125; &#125; Áî±‰∫é‰∫ã‰ª∂ÂèÇÊï∞ËøòÁªôÂá∫‰∫ÜtimeElapsedNanos,ÊúÄÁªàÊàë‰ª¨ËøòËÉΩÁªüËÆ°Âá∫ÊâÄÊúâsqlÊâßË°åÁöÑËÄóÊó∂„ÄÇËøôÊ†∑‰∏ÄÊù•Êàë‰ª¨Â∞±ËÉΩÁúãÂá∫‰∏ÄÊ¨°ËØ∑Ê±ÇÂÜÖÔºåÊúÄËÄóÊó∂ÁöÑÊìç‰ΩúÂÖ∑‰ΩìÊòØ‰ªÄ‰πà„ÄÇËææÂà∞Á±ª‰ºº‰ª•‰∏ãÊïàÊûúÔºö Á∫øÁ®ãÂÆâÂÖ®ÈóÆÈ¢ò‰ª•‰∏äÂÅöÊ≥ïÂÖ∂ÂÆûËøòÊúâ‰∏™ÈóÆÈ¢ò,Âπ∂Ê≤°ÊúâËß£ÂÜ≥Á∫øÁ®ãÂÆâÂÖ®ÈóÆÈ¢ò„ÄÇÁî®abÊµãËØïÂêé‰ºöÂèëÁé∞,sqlÁªüËÆ°‰ªçÁÑ∂ÊúâÈóÆÈ¢ò„ÄÇÊ≠§Êó∂Êàë‰ª¨ÈúÄË¶ÅÁî®Âà∞ThreadlocalÂú®ÂÆö‰πâÁöÑÂÖ®Â±ÄÈùôÊÄÅÂ±ûÊÄßÂΩì‰∏≠ÂÆûÈôÖ‰∏äÂ∑≤ÁªèÊúâÁä∂ÊÄÅ‰∫ÜÔºåËÄåÂ§öÁ∫øÁ®ãÂΩì‰∏≠ÁöÑÂÖ±‰∫´Áä∂ÊÄÅÂøÖÁÑ∂‰ºöÂèëÁîüÊÑèÊÉ≥‰∏çÂà∞ÁöÑÈóÆÈ¢ò„ÄÇÊâÄ‰ª•ËøôÈáåË¶Å‰ΩøÁî®Âπ∂ÂèëÁºñÁ®ãÁöÑÁõ∏ÂÖ≥Â§ÑÁêÜÂäûÊ≥ï„ÄÇ //‰ΩøÁî®ThreadLocal ÂÆö‰πâÁªüËÆ°Â±ûÊÄß public class App &#123; public static ThreadLocal&lt;Integer> count = ThreadLocal.withInitial(() -> 0);; &#125; ÂÖ∂Ê¨°,ÂΩìThreadlocal‰∏éÁ∫øÁ®ãÊ±†‰∏ÄËµ∑‰ΩøÁî®ÁöÑÊó∂ÂÄôËøòÈúÄË¶ÅÈ¢ùÂ§ñÁöÑÊ≥®ÊÑè„ÄÇÁÆÄÂçïÁöÑÊèèËø∞‰∏ã‰ºöÂèëÁîüÁöÑÈóÆÈ¢òÔºö Â∫îÁî®Á®ãÂ∫è‰ªéÁ∫øÁ®ãÊ±†ÂèñÂá∫1‰∏™Á∫øÁ®ã ÁÑ∂ÂêéÂ≠òÂÇ®‰∫Ü‰∏Ä‰∫õÁ∫øÁ®ãÂÜÖÁöÑÂèòÈáèÂà∞ËØ•Á∫øÁ®ã ‰∏ÄÊó¶ËØ•Á∫øÁ®ãÂ§ÑÁêÜÂÆåÊØïÔºåÂ∫îÁî®Á®ãÂ∫è‰æø‰ºöÂ∞ÜËøô‰∏™Á∫øÁ®ãÊîæÂõûÂà∞Á∫øÁ®ãÊ±† ÂΩìËøô‰∏™Á∫øÁ®ãÂèàË¢´ÂÜçÊ¨°ÊãøÂá∫Êù•Â§ÑÁêÜÂè¶Â§ñ‰∏Ä‰∏™ËØ∑Ê±Ç Âõ†‰∏∫Â∫îÁî®Á®ãÂ∫è‰∏äÊ¨°Ê≤°ÊúâËøõË°å‰∏ìÈó®ÁöÑÊ∏ÖÁêÜÂä®‰ΩúÔºåÊâÄ‰ª•Âú®Â§ÑÁêÜÊñ∞ÁöÑËØ∑Ê±ÇÊó∂‰ΩøÁî®ÁöÑÂèØËÉΩÂ∞±ÊòØÁõ∏ÂêåÁöÑThreadLocalÊï∞ÊçÆ Âõ†Ê≠§Êàë‰ª¨ÈúÄË¶ÅËøõË°å‰∏Ä‰∫õÂøÖË¶ÅÁöÑÊ∏ÖÁêÜÂä®‰Ωú //Êã¶Êà™Âô®ÂΩì‰∏≠ Âú®ÁªüËÆ°ÂÆåÊØïÊó∂ÁßªÈô§ÂΩìÂâçÁ∫øÁ®ãÁöÑThreadlocalÂèòÈáè public class RequestInitInterceptor implements HandlerInterceptor &#123; @Override public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception &#123; return true; &#125; @Override public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception &#123; log.info(String.format(\"finish request... ÊâßË°åsql %d Ê¨°\", App.count.get())); App.count.remove(); &#125; &#125; ËøôÊ†∑ÊúÄÁªàÔºåÊàë‰ª¨ÂèØ‰ª•ÂÆâÂÖ®Âú∞ÁªüËÆ°‰∏Ä‰∏™ËØ∑Ê±ÇÂΩì‰∏≠ÁöÑsqlÊâßË°åÊÄªÊ¨°Êï∞‰∫Ü ÂèÇËÄÉ Counting Queries per Request with Hibernate and Spring register an event handler Threadlocal Â§ÑÁêÜÁ∫øÁ®ãÂÆâÂÖ®ÈóÆÈ¢ò","categories":[],"tags":[{"name":"java","slug":"java","permalink":"http://visonforcoding.xyz/tags/java/"}]},{"title":"PHP-FPMÂìçÂ∫îÁî®Êà∑ËØ∑Ê±ÇËøáÁ®ã","slug":"php/PHP-FPMÂìçÂ∫îÁî®Êà∑ËØ∑Ê±ÇËøáÁ®ã","date":"2021-12-03T09:54:37.000Z","updated":"2021-12-03T09:58:40.203Z","comments":true,"path":"2021/12/03/php/PHP-FPMÂìçÂ∫îÁî®Êà∑ËØ∑Ê±ÇËøáÁ®ã/","link":"","permalink":"http://visonforcoding.xyz/2021/12/03/php/PHP-FPM%E5%93%8D%E5%BA%94%E7%94%A8%E6%88%B7%E8%AF%B7%E6%B1%82%E8%BF%87%E7%A8%8B/","excerpt":"Êàë‰ª¨ÂèëÂ∏É‰∫ÜÈùûÂ∏∏Â§öÁöÑÈ°πÁõÆÔºåËÆ©ÂÆÉÂú®Êú∫Âô®‰∏äËøêË°å„ÄÇ‰ΩÜÊòØ‰Ω†Áü•ÈÅìPHP-FPMÁ©∂Á´üÊòØÂ¶Ç‰ΩïËÆ©‰Ω†ÁöÑÊ∫ê‰ª£Á†ÅËøêË°åÂπ∂Â§ÑÁêÜÂ§ßÈáèÁöÑÁî®Êà∑ËØ∑Ê±Ç‰πà„ÄÇ ÂìçÂ∫îËøáÁ®ã","text":"Êàë‰ª¨ÂèëÂ∏É‰∫ÜÈùûÂ∏∏Â§öÁöÑÈ°πÁõÆÔºåËÆ©ÂÆÉÂú®Êú∫Âô®‰∏äËøêË°å„ÄÇ‰ΩÜÊòØ‰Ω†Áü•ÈÅìPHP-FPMÁ©∂Á´üÊòØÂ¶Ç‰ΩïËÆ©‰Ω†ÁöÑÊ∫ê‰ª£Á†ÅËøêË°åÂπ∂Â§ÑÁêÜÂ§ßÈáèÁöÑÁî®Êà∑ËØ∑Ê±Ç‰πà„ÄÇ ÂìçÂ∫îËøáÁ®ã NginxÂíåPHP-FPMÈÄöËøá Fastcgi ÂçèËÆÆ ËøõË°å‰∫§ÊµÅ Web browser www.example.com | | Transport over HTTP protocol | | http server (server nginx &#x2F; APACHE) | | Configuration analysis Route to www.example.com&#x2F;index.php | | Fast CGI module loaded with nginx | | Fast CGI monitors 127.0.0.1:9000 addresses Through the fast CGI protocol, the request is forwarded to PHP FPM for processing | | Request reached 127.0.0.1:9000 | | PHP FPM monitoring 127.0.0.1:9000 This can be done through PHP- fpm.conf Make changes Âπ∂Ë°åÊ®°ÂºèPHPÂÖ∂ÂÆûÊúâ2ÁßçÊ®°ÂºèÊù•Â§ÑÁêÜÂπ∂ÂèëËØ∑Ê±ÇÔºö Âü∫‰∫éËøõÁ®ã Âü∫‰∫éÁ∫øÁ®ã ËøõÁ®ãÊ®°ÂºèÊµÅÁ®ã Ê®°ÂùóÂàùÂßãÂåñ: MINIT() Ëøô‰∏™ÁéØËäÇ‰ºöÂàùÂßãÂåñ‰∏Ä‰∫õÂØπË±°Âíå‰∏Ä‰∫õÊØè‰∏™ËØ∑Ê±Ç‰ºöÁî®Âà∞ÁöÑ‰ø°ÊÅØÔºåËøô‰∏™Êó∂ÂÄôÂπ∂Ê≤°ÊúâÂºÄÂßãÊé•Êî∂ËØ∑Ê±Ç„ÄÇËøôÊÆµÊó∂Èó¥ÂèØ‰ª•ËÆøÈóÆÂÖ®Â±ÄÂèòÈáè„ÄÇ ËØ∑Ê±ÇÂàùÂßãÂåñ: RINIT() PHPÂú®Ëøô‰∏™Èò∂ÊÆµÂºÄÂßãÂ§ÑÁêÜrequestÔºåPHPÊòØ‰∏ÄÁßçÊó†ÂÖ±‰∫´Êû∂ÊûÑÔºåÊèê‰æõ‰∫ÜÁÅµÊ¥ªÁöÑÂÜÖÂ≠òÁÆ°ÁêÜÊñπÂºè„ÄÇshare-nothing architectureÊÑèÂë≥ÁùÄ‰∏çÁî®ÊãÖÂøÉÂπ∂ÂèëÂºïÂèëÁöÑÈîô‰π±ÈóÆÈ¢ò„ÄÇ Âú®Ê≠§‰∏≠ÔºåÂ¶ÇÊûúÈúÄË¶ÅÂàÜÈÖçÂä®ÊÄÅÂÜÖÂ≠òÔºåÂ∞Ü‰ΩøÁî®ZendÂÜÖÂ≠òÁÆ°ÁêÜÂô®„ÄÇZend ÂÜÖÂ≠òÁÆ°ÁêÜÂô®‰ºöË∑üË∏™‰Ω†ÈÄöËøáÂÆÉÂàÜÈÖçÁöÑÂÜÖÂ≠òÔºåÂΩìËØ∑Ê±ÇÂÖ≥Èó≠Êó∂ÔºåÂ¶ÇÊûúÊÇ®ÂøòËÆ∞ËøôÊ†∑ÂÅöÔºåÂÆÉÂ∞ÜÂ∞ùËØïÈáäÊîæÂèóËØ∑Ê±ÇÁ∫¶ÊùüÁöÑÂÜÖÂ≠ò„ÄÇ ËØ∑Ê±ÇÁªàÊ≠¢ÔºöPRSHUTDOWN() PHPÂ§ÑÁêÜËØ∑Ê±ÇÁªìÊùüÔºåÊ≠§Èò∂ÊÆµÊ∏ÖÁêÜËØ∑Ê±ÇÂÜÖÂ≠ò„ÄÇÊú™Êù•ÁöÑËØ∑Ê±ÇÂΩì‰∏≠‰∏ç‰ºöÊúâÂΩìÂâçËØ∑Ê±ÇÁöÑÊï∞ÊçÆ„ÄÇ Ê≠§Èò∂ÊÆµÔºåRSHUTDOWN()ÁöÑË∞ÉÁî®Êó∂Êú∫Ôºö Êù•Ëá™register_shutdown_functionÊ≥®ÂÜåÁöÑÊñπÊ≥ïÔºåÁî®Êà∑ÊÄÅÁöÑshutdownË∞ÉÁî®ÊâßË°åÂÆå ÊâÄÊúâÁöÑÂØπË±°ÊûêÊûÑÂáΩÊï∞ÊâßË°åÂÆå PHPËæìÂá∫ÁºìÂÜ≤flushÂÆåÊØï max_execution_timeËß¶Ëææ ËØ∑Ê±ÇÁªàÊ≠¢Âêé: PRSHUTDOWN() Ê≠§Èò∂ÊÆµÂæàÂ∞ëË¢´‰ΩøÁî®„ÄÇ ÂÖ®Â±ÄÂàùÂßãÂåñ: GINIT() Ê≠§Èí©Â≠êÂú®Á∫øÁ®ãÊ®°Âûã‰∏ã‰ºö‰∏∫ÊØè‰∏™ËØ∑Ê±ÇÈÉΩËß¶Âèë‰∏ÄÊ¨°Ôºå‰ΩÜÂú®Â§öËøõÁ®ãÊ®°Âûã‰∏ãÂè™Ëß¶Âèë‰∏ÄÊ¨°„ÄÇ ÂÖ®Â±ÄÂèòÈáè‰∏ç‰ºöË¢´Ê∏ÖÈô§Âú®ÊØè‰∏™ËØ∑Ê±Ç‰πãÂêéÔºåÈúÄË¶ÅÊØèÊ¨°ËøõË°åRINITÊìç‰Ωú„ÄÇ ÂÖ®Â±ÄÁªàÊ≠¢ÔºöGSHUTDOWN() ‰∏éGINIT‰∏ÄÊ†∑ÔºåÂ§öÁ∫øÁ®ãÊ®°Âºè‰∏ãÊØèÊ¨°ËØ∑Ê±Ç‰πãÂêéÈÉΩ‰ºöËß¶ÂèëÔºåÂ§öËøõÁ®ãÊ®°ÂºèÂè™‰ºöÊâßË°å‰∏ÄÊ¨°„ÄÇ ÊâÄ‰ª•ÊÄª‰Ωì‰∏äÁöÑÊâßË°åÊµÅÁ®ãÂ¶Ç‰∏ãÔºö ÂèÇËÄÉ https://www.phpinternalsbook.com/php7/extensions_design/php_lifecycle.html","categories":[],"tags":[{"name":"PHP","slug":"PHP","permalink":"http://visonforcoding.xyz/tags/PHP/"}]},{"title":"Servlet Filiter Âíå Spring Intercetors,ËÆ∞ÂΩïËØ∑Ê±ÇÊó•Âøó","slug":"java/Intercetors-ËÆ∞ÂΩïËØ∑Ê±ÇÊó•Âøó","date":"2021-12-02T02:46:17.000Z","updated":"2021-12-02T02:49:44.793Z","comments":true,"path":"2021/12/02/java/Intercetors-ËÆ∞ÂΩïËØ∑Ê±ÇÊó•Âøó/","link":"","permalink":"http://visonforcoding.xyz/2021/12/02/java/Intercetors-%E8%AE%B0%E5%BD%95%E8%AF%B7%E6%B1%82%E6%97%A5%E5%BF%97/","excerpt":"Âú®ÂâçÈù¢ÁöÑÊñáÁ´†Êàë‰ª¨ÊúâÁúãÂà∞Servlet FiliterÁöÑ‰ΩúÁî®„ÄÇ‰∏é‰πãÁ±ª‰ººÁöÑSpring‰∏≠Êàë‰ª¨Áü•ÈÅìÊúâÊã¶Êà™Âô®Intercetors„ÄÇ Áé∞Âú®Êúâ1‰∏™ÈúÄÊ±ÇÔºåËÆ∞ÂΩïrequestÁöÑÊâÄÊúâËØ∑Ê±Ç‰ø°ÊÅØÔºåURL„ÄÅËØ∑Ê±ÇÊñπÊ≥ï„ÄÅËØ∑Ê±Ç‰Ωì„ÄÇÊàë‰ª¨Ëá™ÁÑ∂ËÄåÁÑ∂‰ºöÊÉ≥Âà∞‰ΩøÁî®FiliterÊàñIntercetors FiliterÂíåIntercetorsÁöÑÂå∫Âà´Âú®‰∫éÊâÄÊâßË°åÁöÑÊó∂Èó¥ÁÇπ‰∏çÂêåÔºå‰ΩÜÈÉΩÂú®Âà∞Ëææcontroller‰πãÂâç„ÄÇÁúãËµ∑Êù•‰∫åËÄÖÈÉΩÂèØ‰ª•ÂÆåÊàêËøô‰∏™ÈúÄÊ±Ç„ÄÇ","text":"Âú®ÂâçÈù¢ÁöÑÊñáÁ´†Êàë‰ª¨ÊúâÁúãÂà∞Servlet FiliterÁöÑ‰ΩúÁî®„ÄÇ‰∏é‰πãÁ±ª‰ººÁöÑSpring‰∏≠Êàë‰ª¨Áü•ÈÅìÊúâÊã¶Êà™Âô®Intercetors„ÄÇ Áé∞Âú®Êúâ1‰∏™ÈúÄÊ±ÇÔºåËÆ∞ÂΩïrequestÁöÑÊâÄÊúâËØ∑Ê±Ç‰ø°ÊÅØÔºåURL„ÄÅËØ∑Ê±ÇÊñπÊ≥ï„ÄÅËØ∑Ê±Ç‰Ωì„ÄÇÊàë‰ª¨Ëá™ÁÑ∂ËÄåÁÑ∂‰ºöÊÉ≥Âà∞‰ΩøÁî®FiliterÊàñIntercetors FiliterÂíåIntercetorsÁöÑÂå∫Âà´Âú®‰∫éÊâÄÊâßË°åÁöÑÊó∂Èó¥ÁÇπ‰∏çÂêåÔºå‰ΩÜÈÉΩÂú®Âà∞Ëææcontroller‰πãÂâç„ÄÇÁúãËµ∑Êù•‰∫åËÄÖÈÉΩÂèØ‰ª•ÂÆåÊàêËøô‰∏™ÈúÄÊ±Ç„ÄÇ Êàë‰ª¨ÂÖàÊù•Áúã‰∏ãFiliter„ÄÇSpringÂΩì‰∏≠Êú¨Ë∫´ÊîØÊåÅservletÁöÑÂá†‰∏™Ê≥®Ëß£„ÄÇ When using an embedded container, automatic registration of classes annotated with @WebServlet, @WebFilter, and @WebListener can be enabled by using @ServletComponentScan. ‰ΩÜÊòØ‰ªñ‰πüËØ¥‰∫ÜÔºåÂ¶ÇÊûúË¶Å‰øùËØÅÈ°∫Â∫èÔºåÈúÄË¶ÅÈÄöËøáÂÆö‰πâFilterRegistrationBeanÁöÑÊñπÂºè„ÄÇ you must define a FilterRegistrationBean for the Filter and set the registration bean‚Äôs order using the setOrder(int) method. ‰∏çÁÆ°ÊòØFiliterËøòÊòØIntercetorsÈÉΩÊòØÈúÄË¶ÅÊãøÂà∞request,‰ªérequestËé∑ÂèñË¶ÅËÆ∞ÂΩïÁöÑ‰ø°ÊÅØ„ÄÇÂΩìË¶ÅËÆ∞ÂΩïËØ∑Ê±Ç‰ΩìÁöÑÊó∂ÂÄôÔºåÂú®Java IOÂΩì‰∏≠Êúâ‰∏™ÊúÄÂ§ßÁöÑÈóÆÈ¢òÊòØÂ¶ÇÊûú‰∏ÄÊó¶request.getInputStream() ÂêéÈù¢Â∞±‰ºöËØªÂèñ‰∏çÂà∞ËØ∑Ê±Ç‰ΩìÔºåÂπ∂ÊäõÂá∫HttpMessageNotReadableException: Required request body is missing ÂºÇÂ∏∏„ÄÇ SpringÊú¨Ë∫´Êèê‰æõËÆ∞ÂΩïËØ∑Ê±Ç‰ΩìÁöÑFiliter AbstractRequestLoggingFilter,Êàë‰ª¨ÂèØ‰ª•ÁªßÊâøÂπ∂Ëá™ÂÆö‰πâ„ÄÇ public class CustomizedRequestLoggingFilter extends AbstractRequestLoggingFilter &#123; @Override protected void beforeRequest(HttpServletRequest request, String message) &#123; &#125; @Override protected void afterRequest(HttpServletRequest request, String message) &#123; log.info(message); &#125; &#125; ÂêØÁî®ËØ•bean @Configuration @Slf4j public class FilterConfigure &#123; @Bean public FilterRegistrationBean&lt;LogFilter> logFilter() &#123; // Âà©Áî® slf4j.MDC ËÆ∞ÂΩï ÂîØ‰∏ÄËØ∑Ê±ÇÁ†Å FilterRegistrationBean&lt;LogFilter> bean = new FilterRegistrationBean&lt;LogFilter>(); bean.setFilter(new LogFilter()); bean.addUrlPatterns(\"/*\");//ËøáÊª§ÊâÄÊúâË∑ØÂæÑ bean.setOrder(1); return bean; &#125; @Bean public CustomizedRequestLoggingFilter logInitFilter() &#123; //ÂéüÁîübeanËÆ∞ÂΩïËØ∑Ê±Ç‰ø°ÊÅØ ËØ∑Ê±Ç‰Ωì log.info(\"logInitFilter...\"); CustomizedRequestLoggingFilter filter = new CustomizedRequestLoggingFilter(); filter.setIncludeClientInfo(true); filter.setIncludeQueryString(true); filter.setIncludePayload(true); filter.setMaxPayloadLength(2048); filter.setIncludeHeaders(false); filter.setAfterMessagePrefix(\"REQUEST DATA : \"); return filter; &#125; &#125; ‰ΩÜÊòØÂéüÁîüÁöÑAbstractRequestLoggingFilterÊèê‰æõÁöÑMessageÊ†ºÂºèÂ∑≤ÁªèÂõ∫ÂÆöÔºåÂπ∂‰∏çËÉΩÊ†πÊçÆËá™Â∑±ÁöÑÂñúÂ•ΩÊù•„ÄÇ ËÄå‰∏îÊç¢Ë°åÁ¨¶Ê≤°Ë¢´ËΩ¨‰πâÔºåËôΩÁÑ∂‰æø‰∫éË∞ÉËØïËßÇÂØü‰ΩÜÂπ∂‰∏çÂà©‰∫éELKËøôÊ†∑ÁöÑÊó•Âøó‰ΩìÁ≥ªËÆ∞ÂΩïÊó•Âøó„ÄÇ Ë¶ÅËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÂ∞±ÈúÄË¶ÅËá™Â∑±ËØªÂèñrequestÂπ∂ËÆ∞ÂΩïÔºåÂ∞±ÂøÖÈ°ªËß£ÂÜ≥‰∏äÊñáÊèêÂà∞ÁöÑrequest.getInputStream() streamËØªÂèñÈóÆÈ¢ò„ÄÇ Ëß£ÂÜ≥ÂäûÊ≥ïÁΩë‰∏ä‰πüÊúâÔºåÂ∞±ÊòØÈÄöËøáÊã∑Ë¥ù‰∏Ä‰ªΩstreamÔºåÂ∞ÜÊã∑Ë¥ùÁöÑstreamÁªßÁª≠ÊâîÂõûFilterChain„ÄÇÁ§∫‰æã‰ª£Á†ÅÂ¶Ç‰∏ã @Bean public FilterRegistrationBean&lt;LogClientFilter> logClientFilter() &#123; //Ëá™ÂÆö‰πâÁöÑ request log filter FilterRegistrationBean&lt;LogClientFilter> bean = new FilterRegistrationBean&lt;LogClientFilter>(); bean.setFilter(new LogClientFilter()); bean.addUrlPatterns(\"/*\"); bean.setOrder(3); return bean; &#125; ÂÖ≥ÈîÆÁöÑMultiReadÂØπË±° public class MultiReadHttpServletRequest extends HttpServletRequestWrapper &#123; private ByteArrayOutputStream cachedBytes; /** * Construct a new multi-read wrapper. * * @param request to wrap around */ public MultiReadHttpServletRequest(HttpServletRequest request) &#123; super(request); &#125; @Override public ServletInputStream getInputStream() throws IOException &#123; if (cachedBytes == null) cacheInputStream(); return new CachedServletInputStream(cachedBytes.toByteArray()); &#125; @Override public BufferedReader getReader() throws IOException &#123; return new BufferedReader(new InputStreamReader(getInputStream())); &#125; private void cacheInputStream() throws IOException &#123; /* Cache the inputstream in order to read it multiple times. For * convenience, I use apache.commons IOUtils */ cachedBytes = new ByteArrayOutputStream(); IOUtils.copy(super.getInputStream(), cachedBytes); &#125; /* An inputstream which reads the cached request body */ private static class CachedServletInputStream extends ServletInputStream &#123; private final ByteArrayInputStream buffer; public CachedServletInputStream(byte[] contents) &#123; this.buffer = new ByteArrayInputStream(contents); &#125; @Override public int read() throws IOException &#123; return buffer.read(); &#125; @Override public boolean isFinished() &#123; return buffer.available() == 0; &#125; @Override public boolean isReady() &#123; return true; &#125; @Override public void setReadListener(ReadListener listener) &#123; throw new RuntimeException(\"Not implemented\"); &#125; &#125; &#125; Êó•ÂøóËÆ∞ÂΩïFiliter public class LogClientFilter implements Filter &#123; public void init(FilterConfig config) throws ServletException &#123; log.info(\"log client...\"); &#125; public void destroy() &#123; &#125; @Override public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws ServletException, IOException &#123; ObjectMapper mapper = new ObjectMapper(); ObjectNode rootNode = mapper.createObjectNode(); HttpServletRequest httpServletRequest = (HttpServletRequest) request; MultiReadHttpServletRequest wrappedRequest = new MultiReadHttpServletRequest(httpServletRequest); request.getInputStream(); rootNode.put(\"uri\", httpServletRequest.getRequestURI()); rootNode.put(\"clientIp\", httpServletRequest.getRemoteAddr()); String method = httpServletRequest.getMethod(); rootNode.put(\"method\", method); String content = IOUtils.toString(wrappedRequest.getInputStream()); if (method.equals(\"GET\") || method.equals(\"DELETE\")) &#123; rootNode.put(\"request\", httpServletRequest.getQueryString()); &#125; else &#123; rootNode.put(\"request\",content); &#125; log.info(rootNode.toString()); chain.doFilter(request, response); &#125; &#125; ÂèÇËÄÉ https://www.jvt.me/posts/2020/05/25/read-servlet-request-body-multiple/ Â§öÊ¨°ËØªÂèñservletËØ∑Ê±Ç‰Ωì https://www.javadevjournal.com/spring/log-incoming-requests-spring/ ËÆ∞ÂΩïspringÁöÑËØ∑Ê±Ç https://levelup.gitconnected.com/how-to-log-the-request-body-in-a-spring-boot-application-10083b70c66 https://stackoverflow.com/questions/54035778/commonsrequestloggingfilter-not-working-in-spring-boot-application/54545890#","categories":[],"tags":[{"name":"java","slug":"java","permalink":"http://visonforcoding.xyz/tags/java/"}]},{"title":"servlet | servletÂ≠¶‰π†Á¨îËÆ∞","slug":"java/servletÂ≠¶‰π†Á¨îËÆ∞","date":"2021-11-28T04:10:18.000Z","updated":"2021-12-01T01:34:54.932Z","comments":true,"path":"2021/11/28/java/servletÂ≠¶‰π†Á¨îËÆ∞/","link":"","permalink":"http://visonforcoding.xyz/2021/11/28/java/servlet%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/","excerpt":"ÂÆö‰πâ ÁÆÄÂçïËÄåË®ÄÔºåServletÊòØ‰∏Ä‰∏™APIÔºåÊú¨Ë¥®‰∏äÁöÑÂÆûÁé∞ÊòØÁî±ÊâøËΩΩÁöÑServletÂÆπÂô®ÂéªÂ§ÑÁêÜ„ÄÇÈÄöËøáJavaÂ§öÁ∫øÁ®ãÂ§ÑÁêÜÂπ∂ÂìçÂ∫îÂÆ¢Êà∑Á´ØÁöÑHttp Request„ÄÇ","text":"ÂÆö‰πâ ÁÆÄÂçïËÄåË®ÄÔºåServletÊòØ‰∏Ä‰∏™APIÔºåÊú¨Ë¥®‰∏äÁöÑÂÆûÁé∞ÊòØÁî±ÊâøËΩΩÁöÑServletÂÆπÂô®ÂéªÂ§ÑÁêÜ„ÄÇÈÄöËøáJavaÂ§öÁ∫øÁ®ãÂ§ÑÁêÜÂπ∂ÂìçÂ∫îÂÆ¢Êà∑Á´ØÁöÑHttp Request„ÄÇ ÂéÜÂè≤ Êà™Ê≠¢ÁõÆÂâçÔºåÊúÄÊñ∞ÁâàÊú¨ËßÑËåÉ‰∏∫6.0„ÄÇ ËøáÊª§Âô® FilterÂú®HTTPËØ∑Ê±ÇÂà∞ËææServlet‰πãÂâçÔºåÂèØ‰ª•Ë¢´‰∏Ä‰∏™ÊàñÂ§ö‰∏™FilterÈ¢ÑÂ§ÑÁêÜÔºåÁ±ª‰ººÊâìÂç∞Êó•Âøó„ÄÅÁôªÂΩïÊ£ÄÊü•Á≠âÈÄªËæëÔºåÂÆåÂÖ®ÂèØ‰ª•ÊîæÂà∞Filter‰∏≠„ÄÇ Filter‰∏çÂÖâËÉΩÊã¶Êà™ËØ∑Ê±ÇÔºåÂØπËØ∑Ê±ÇËøõË°åÈ¢ÑÂ§ÑÁêÜÔºåËøòËÉΩÂ§ü‰øÆÊîπËøîÂõû„ÄÇ ‰∫ã‰ª∂ÁõëÂê¨Âô® ListenerServlet ‰æ¶Âê¨Âô®Áî®‰∫é‰æ¶Âê¨ Web ÂÆπÂô®‰∏≠ÁöÑ‰∫ã‰ª∂Ôºå‰æãÂ¶ÇÔºåÂΩìÊÇ®ÂàõÂª∫‰ºöËØùÊó∂ÔºåÊàñÂú®‰ºöËØù‰∏≠ÊîæÁΩÆÂ±ûÊÄßÊó∂ÔºåÊàñËÄÖÂ¶ÇÊûúÊÇ®Âú®Âè¶‰∏Ä‰∏™ÂÆπÂô®‰∏≠Ë¢´Âä®ÂåñÂπ∂ÊøÄÊ¥ªÊó∂ÔºåË¶ÅËÆ¢ÈòÖËøô‰∫õ‰∫ã‰ª∂Ôºå ‰∫ã‰ª∂Á±ªÂûã javax.servlet.AsyncEvent ‚Äì Âú® ServletRequest ‰∏äÂêØÂä®ÁöÑÂºÇÊ≠•Êìç‰ΩúÔºàÈÄöËøáË∞ÉÁî® ServletRequest#startAsync ÊàñServletRequest#startAsyncÔºàServletRequestÔºå ServletResponseÔºâÔºâÂÆåÊàê„ÄÅË∂ÖÊó∂Êàñ‰∫ßÁîüÈîôËØØÊó∂Ëß¶ÂèëÁöÑ‰∫ã‰ª∂„ÄÇ javax.servlet.http.HttpSessionBindingEvent ‚Äì ÂΩì‰ºöËØùÁªëÂÆöÊàñÂèñÊ∂àÁªëÂÆö HttpSessionListener Êó∂ÔºåËøôÁßçÁ±ªÂûãÁöÑ‰∫ã‰ª∂Ë¶Å‰πàÂèëÈÄÅÂà∞ÂÆûÁé∞ HttpSessionBindingListener ÁöÑÂØπË±°ÔºåË¶Å‰πàÂèëÈÄÅÂà∞Âú® Web ‰∏≠ÈÖçÁΩÆÁöÑ HttpSessionAttributeListenerÂΩì‰ªª‰ΩïÂ±ûÊÄßÂú®‰ºöËØù‰∏≠Ë¢´ÁªëÂÆö„ÄÅÂèñÊ∂àÁªëÂÆöÊàñÊõøÊç¢Êó∂„ÄÇ‰ºöËØùÈÄöËøáË∞ÉÁî® HttpSession.setAttribute ÁªëÂÆöÂØπË±°ÔºåÂπ∂ÈÄöËøáË∞ÉÁî® HttpSession.removeAttribute Ëß£Èô§ÁªëÂÆöÂØπË±°„ÄÇÂΩìÂØπË±°‰ªé‰ºöËØù‰∏≠Âà†Èô§Êó∂ÔºåÊàë‰ª¨ÂèØ‰ª•Â∞ÜÊ≠§‰∫ã‰ª∂Áî®‰∫éÊ∏ÖÁêÜÊ¥ªÂä®„ÄÇ javax.servlet.http.HttpSessionEvent ‚Äì ËøôÊòØ‰∏Ä‰∏™Á±ªÔºåË°®Á§∫ Web Â∫îÁî®Á®ãÂ∫è‰∏≠‰ºöËØùÊõ¥ÊîπÁöÑ‰∫ã‰ª∂ÈÄöÁü•„ÄÇ javax.servlet.ServletContextAttributeEvent ‚Äì ‰∫ã‰ª∂Á±ªÔºåÁî®‰∫éÈÄöÁü•ÊúâÂÖ≥ Web Â∫îÁî®Á®ãÂ∫è ServletContext Â±ûÊÄßÁöÑÊõ¥Êîπ„ÄÇ javax.servlet.ServletContextEvent‚Äì ËøôÊòØÊúâÂÖ≥ Web Â∫îÁî®Á®ãÂ∫è servlet ‰∏ä‰∏ãÊñáÊõ¥ÊîπÁöÑÈÄöÁü•ÁöÑ‰∫ã‰ª∂Á±ª„ÄÇ javax.servlet.ServletRequestEvent ‚Äì Ê≠§Á±ª‰∫ã‰ª∂Ë°®Á§∫ ServletRequest ÁöÑÁîüÂëΩÂë®Êúü‰∫ã‰ª∂„ÄÇËØ•‰∫ã‰ª∂ÁöÑÊ∫êÊòØÊ≠§ Web Â∫îÁî®Á®ãÂ∫èÁöÑ ServletContext„ÄÇ javax.servlet.ServletRequestAttributeEvent‚Äì ËøôÊòØ‰∏Ä‰∏™‰∫ã‰ª∂Á±ªÔºåÁî®‰∫éÈÄöÁü•Â∫îÁî®Á®ãÂ∫è‰∏≠ servlet ËØ∑Ê±ÇÁöÑÂ±ûÊÄßÁöÑÊõ¥Êîπ„ÄÇ Ê≥®Ëß£Âú®2005Âπ¥ÁöÑservlet 2.5‰∏≠ÂºïÂÖ•‰∫ÜÊ≥®Ëß£ËÉΩÂäõÔºåÂèØ‰ª•‰∏çÂÜçÈÖçÁΩÆÂ§™Â§öxml„ÄÇ @WebServlet Â£∞ÊòéjavaÁ±ª‰∏∫servlet @WebInitParam ‰Ωú‰∏∫WebServletÂèÇÊï∞Ê≥®Ëß£„ÄÇÂàùÂßãÂåñserverlÂèÇÊï∞„ÄÇ @WebServlet( name = \"BankAccountServlet\", description = \"Represents a Bank Account and it's transactions\", urlPatterns = &#123;\"/account\", \"/bankAccount\" &#125;, initParams = &#123; @WebInitParam(name = \"type\", value = \"savings\")&#125;) public class AccountServlet extends javax.servlet.http.HttpServlet &#123; String accountType = null; public void init(ServletConfig config) throws ServletException &#123; accountType = config.getInitParameter(\"type\"); &#125; public void doPost(HttpServletRequest request, HttpServletResponse response) throws IOException &#123; // ... &#125; &#125; @WebFilter Â£∞ÊòéËøáÊª§Âô®ÔºåÂ¶ÇÊûúË¶ÅÂØπËØ∑Ê±ÇËøõË°åÊã¶Êà™„ÄÅ‰øÆÊîπËÄå‰∏çÂΩ±ÂìçÈÄªËæë‰ª£Á†Å„ÄÇ @WebFilter( urlPatterns = \"/account/*\", filterName = \"LoggingFilter\", description = \"Filter all account transaction URLs\") public class LogInFilter implements javax.servlet.Filter &#123; public void init(FilterConfig filterConfig) throws ServletException &#123; &#125; public void doFilter( ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException &#123; HttpServletRequest req = (HttpServletRequest) request; HttpServletResponse res = (HttpServletResponse) response; res.sendRedirect(req.getContextPath() + \"/login.jsp\"); chain.doFilter(request, response); &#125; public void destroy() &#123; &#125; &#125; @WebListener Â£∞Êòé‰∫ã‰ª∂ÁõëÂê¨Âô®„ÄÇ @WebListener public class BankAppServletContextListener implements ServletContextListener &#123; public void contextInitialized(ServletContextEvent sce) &#123; sce.getServletContext().setAttribute(\"ATTR_DEFAULT_LANGUAGE\", \"english\"); &#125; public void contextDestroyed(ServletContextEvent sce) &#123; // ... &#125; &#125; @ServletSecurity„ÄÅ@HttpConstraint„ÄÅ@HttpMethodConstraint Á±ª‰ººnginxËÆ§ËØÅÂäüËÉΩ @MultipartConfig Â§ÑÁêÜÊñá‰ª∂‰∏ä‰º†ÈÖçÁΩÆ @WebServlet(urlPatterns = &#123; \"/uploadCustDocs\" &#125;) @MultipartConfig( fileSizeThreshold = 1024 * 1024 * 20, maxFileSize = 1024 * 1024 * 20, maxRequestSize = 1024 * 1024 * 25, location = \"./custDocs\") public class UploadCustomerDocumentsServlet extends HttpServlet &#123; protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123; for (Part part : request.getParts()) &#123; part.write(\"myFile\"); &#125; &#125; &#125; Api ‚ÄéJava servlet API Áî±‰∏§‰∏™ÂåÖÁªÑÊàê„ÄÇ‰∏Ä‰∏™ÊòØjavax.servletÔºåÂè¶‰∏Ä‰∏™ÊòØjavax.servlet.http„ÄÇjavax.servlet ÂåÖÂåÖÂê´ÂèØÁî®‰∫éÁºñÂÜôÁã¨Á´ã‰∫éÂçèËÆÆÁöÑ servlet ÁöÑÊâÄÊúâÁ±ªÂíåÊé•Âè£Ôºåjavax.servlet.http ÂåÖÂê´ÁºñÂÜô HTTP ÁâπÂÆö servlet ÊâÄÈúÄÁöÑÊâÄÊúâÁ±ªÂíåÊé•Âè£„ÄÇËÆ©Êàë‰ª¨ËØ¶ÁªÜÊé¢ËÆ®‰∏Ä‰∏ã Java Servlet API„ÄÇ‚Äé ÂèÇËÄÉÈòÖËØª https://o7planning.org/10395/java-servlet-filter https://www.codejava.net/java-ee/servlet/how-to-modify-http-response-using-java-filter Â¶Ç‰Ωï‰ΩøÁî®filter‰øÆÊîπresponse https://en.wikipedia.org/wiki/Jakarta_Servlet Áª¥Âü∫servlet Java-web-Ê≥®Ëß£ www.baeldung.com Java-servlets","categories":[],"tags":[{"name":"java","slug":"java","permalink":"http://visonforcoding.xyz/tags/java/"}]},{"title":"HTTPÊú¨Ë¥®","slug":"java/Êò•Â§©‰πãÂâç-http","date":"2021-10-30T02:59:33.278Z","updated":"2021-10-30T02:59:33.278Z","comments":true,"path":"2021/10/30/java/Êò•Â§©‰πãÂâç-http/","link":"","permalink":"http://visonforcoding.xyz/2021/10/30/java/%E6%98%A5%E5%A4%A9%E4%B9%8B%E5%89%8D-http/","excerpt":"ËØïÂõæË∑≥Ëøáspring,ËÄåÂ≠¶‰π†spring bootÊòØ‰∏çÂèØËÉΩÁöÑ„ÄÇÂ≠¶‰π†java webÂºÄÂèëÔºå‰ªéÂü∫Á°ÄÂºÄÂßãÂ≠¶‰π†„ÄÇÂ∞±Â∫îÂΩì‰∫ÜËß£http„ÄÅservlet„ÄÅtomcat","text":"ËØïÂõæË∑≥Ëøáspring,ËÄåÂ≠¶‰π†spring bootÊòØ‰∏çÂèØËÉΩÁöÑ„ÄÇÂ≠¶‰π†java webÂºÄÂèëÔºå‰ªéÂü∫Á°ÄÂºÄÂßãÂ≠¶‰π†„ÄÇÂ∞±Â∫îÂΩì‰∫ÜËß£http„ÄÅservlet„ÄÅtomcat Ëµ∑Ê∫ê ÂÆÉËß£ÂÜ≥‰ªÄ‰πàÈóÆÈ¢ò ÂÆûÁé∞ÂéüÁêÜ Ëµ∑Ê∫ê1980Âπ¥6ÊúàËá≥12ÊúàÈó¥Ôºå‰ºØÁ∫≥ÊñØ-ÊùéÂú®ÁöÑCERNÔºàÊ¨ßÊ¥≤Ê†∏Â≠êÁ†îÁ©∂ÁªÑÁªáÔºâÊãÖ‰ªªÂ∑•‰Ωú„ÄÇÂÆûÈ™åÂÆ§ÁöÑÁ†îÁ©∂‰∫∫ÂëòÈúÄË¶ÅÂ§ßÈáèÁöÑ‰ø°ÊÅØÊü•ÈòÖÊàñÊ≤üÈÄö„ÄÇÂú®ÈÇ£ÊÆµÊó∂Èó¥ÈáåÔºå‰ªñÊèêÂá∫‰∫Ü‰∏™ÊûÑÊÉ≥ÔºöÂàõÂª∫‰∏Ä‰∏™‰ª•Ë∂ÖÊñáÊú¨Á≥ªÁªü‰∏∫Âü∫Á°ÄÁöÑÈ°πÁõÆÔºåÊñπ‰æøÁ†îÁ©∂‰∫∫ÂëòÂàÜ‰∫´ÂèäÊõ¥Êñ∞ËÆØÊÅØ„ÄÇ 1989Âπ¥3ÊúàÔºå‰ªñÂÜô‰∏ã‰∫Ü‰ªñÁöÑÂàùÊ≠•ÊûÑÊÉ≥ÔºåÂπ∂Âú®1990Âπ¥ÈáçÊñ∞ÈÖçÁΩÆ„ÄÇÁÑ∂ÂêéË¢´‰ªñÁöÑÁªèÁêÜÈ∫¶ÂÖã¬∑Ê£ÆÂæ∑Â∞îÔºàMike SendallÔºâÊâÄÊé•Âèó„ÄÇ‰ªñ‰ΩøÁî®‰∏éENQUIREÁ≥ªÁªüÁõ∏‰ººÁöÑÊ¶ÇÂøµÊù•ÂàõÂª∫‰∏áÁª¥ÁΩëÔºå‰∏∫Ê≠§‰ªñËÆæËÆ°Âπ∂ÊûÑÂª∫‰∫ÜÁ¨¨‰∏Ä‰∏™ÁΩëÈ°µÊµèËßàÂô®„ÄÇ ‰∏ñÁïå‰∏äÁ¨¨‰∏Ä‰∏™ÁΩëÁ´ôÂú®CERNÊê≠Âª∫ÔºåËÄåCERNÂàô‰Ωç‰∫éÊ≥ïÂõΩËæπÂ¢É„ÄÇÁΩëÁ´ôÂú®1991Âπ¥8Êúà6Êó•‰∏äÁ∫ø„ÄÇ ‰∏äÁ∫ø ÁöÑÁ¨¨‰∏Ä‰∏™ÁΩëÂùÄÔºåhttp://info.cern.ch/hypertext/WWW/TheProject.html ÂëäËØâ‰∫∫‰ª¨‰∏áÁª¥ÁΩëÊòØ‰ªÄ‰πàÔºåÁî®Êà∑Â¶Ç‰Ωï‰ΩøÁî®ÊµèËßàÂô®ÔºåÂ¶Ç‰ΩïÂàõÂª∫ÁΩëÈ°µÊúçÂä°Âô®„ÄÇ ÁõÆÁöÑËÆæËÆ°HTTPÊúÄÂàùÁöÑÁõÆÁöÑÊòØ‰∏∫‰∫ÜÊèê‰æõ‰∏ÄÁßçÂèëÂ∏ÉÂíåÊé•Êî∂HTMLÈ°µÈù¢ÁöÑÊñπÊ≥ï„ÄÇ ÂÆûÁé∞‰∏Ä‰∏™ËøûÊé•ÊòØÁî±‰º†ËæìÂ±ÇÊù•ÊéßÂà∂ÁöÑÔºåËøô‰ªéÊ†πÊú¨‰∏ä‰∏çÂ±û‰∫éHTTPÁöÑËåÉÂõ¥„ÄÇHTTPÂπ∂‰∏çÈúÄË¶ÅÂÖ∂Â∫ïÂ±ÇÁöÑ‰º†ËæìÂ±ÇÂçèËÆÆÊòØÈù¢ÂêëËøûÊé•ÁöÑÔºåÂè™ÈúÄË¶ÅÂÆÉÊòØÂèØÈù†ÁöÑÔºåÊàñ‰∏ç‰∏¢Â§±Ê∂àÊÅØÁöÑÔºàËá≥Â∞ëËøîÂõûÈîôËØØÔºâ„ÄÇÂú®‰∫íËÅîÁΩë‰∏≠ÔºåÊúâ‰∏§‰∏™ÊúÄÂ∏∏Áî®ÁöÑ‰º†ËæìÂ±ÇÂçèËÆÆÔºöTCPÊòØÂèØÈù†ÁöÑÔºåËÄåUDP‰∏çÊòØ„ÄÇÂõ†Ê≠§ÔºåHTTP‰æùËµñ‰∫éÈù¢ÂêëËøûÊé•ÁöÑTCPËøõË°åÊ∂àÊÅØ‰º†ÈÄíÔºå‰ΩÜËøûÊé•Âπ∂‰∏çÊòØÂøÖÈ°ªÁöÑ„ÄÇÂõ†Ê≠§ÈÄöËøásocketÁºñÁ®ãÂ∞±ËÉΩÂÆûÁé∞httpÂçèËÆÆ„ÄÇ public class Server &#123; private static int port = 8081; public static void main(String[] args) throws IOException &#123; ServerSocket ss = new ServerSocket(port); // ÁõëÂê¨ÊåáÂÆöÁ´ØÂè£ System.out.println(\"server is running...\"); for (;;) &#123; Socket sock = ss.accept(); System.out.println(\"connected from \" + sock.getRemoteSocketAddress()); Thread t = new Handler(sock); t.start(); &#125; &#125; &#125; public class Handler extends Thread &#123; Socket sock; public Handler(Socket sock) &#123; this.sock = sock; &#125; public void run() &#123; try ( InputStream input = this.sock.getInputStream()) &#123; try ( OutputStream output = this.sock.getOutputStream()) &#123; handle(input, output); &#125; &#125; catch (Exception e) &#123; try &#123; this.sock.close(); &#125; catch (IOException ioe) &#123; &#125; System.out.println(\"client disconnected.\"); &#125; &#125; private void handle(InputStream input, OutputStream output) throws IOException &#123; System.out.println(\"Process new http request...\"); var reader = new BufferedReader(new InputStreamReader(input, StandardCharsets.UTF_8)); var writer = new BufferedWriter(new OutputStreamWriter(output, StandardCharsets.UTF_8)); // ËØªÂèñHTTPËØ∑Ê±Ç: boolean requestOk = false; String first = reader.readLine(); if (first.startsWith(\"GET / HTTP/1.\")) &#123; requestOk = true; &#125; for (;;) &#123; String header = reader.readLine(); if (header.isEmpty()) &#123; // ËØªÂèñÂà∞Á©∫Ë°åÊó∂, HTTP HeaderËØªÂèñÂÆåÊØï break; &#125; System.out.println(header); &#125; System.out.println(requestOk ? \"Response OK\" : \"Response Error\"); if (!requestOk) &#123; // ÂèëÈÄÅÈîôËØØÂìçÂ∫î: writer.write(\"HTTP/1.0 404 Not Found\\r\\n\"); writer.write(\"Content-Length: 0\\r\\n\"); writer.write(\"\\r\\n\"); writer.flush(); &#125; else &#123; // ÂèëÈÄÅÊàêÂäüÂìçÂ∫î: String data = \"&lt;html>&lt;body>&lt;h1>Hello, world!&lt;/h1>&lt;/body>&lt;/html>\"; int length = data.getBytes(StandardCharsets.UTF_8).length; writer.write(\"HTTP/1.0 200 OK\\r\\n\"); writer.write(\"Connection: close\\r\\n\"); writer.write(\"Content-Type: text/html\\r\\n\"); writer.write(\"Content-Length: \" + length + \"\\r\\n\"); writer.write(\"\\r\\n\"); // Á©∫Ë°åÊ†áËØÜHeaderÂíåBodyÁöÑÂàÜÈöî writer.write(data); writer.flush(); &#125; // TODO: Â§ÑÁêÜHTTPËØ∑Ê±Ç &#125; &#125; ÂèÇËÄÉ https://developer.mozilla.org/zh-CN/docs/Web/HTTP ÂªñÈõ™Â≥∞-webÂü∫Á°Ä","categories":[],"tags":[{"name":"java","slug":"java","permalink":"http://visonforcoding.xyz/tags/java/"}]},{"title":"log4j‰ΩøÁî®ÊåáÂçó","slug":"java/log4j‰ΩøÁî®ÊåáÂçó","date":"2021-10-30T02:59:33.276Z","updated":"2021-10-30T02:59:33.277Z","comments":true,"path":"2021/10/30/java/log4j‰ΩøÁî®ÊåáÂçó/","link":"","permalink":"http://visonforcoding.xyz/2021/10/30/java/log4j%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/","excerpt":"ÂØπ‰∫éÂàöÂºÄÂßãÊé•Ëß¶javaÁöÑ‰∫∫Êù•ËØ¥ÔºåÁî®‰ªÄ‰πàÊù•ÊâìÊó•Âøó‰ºº‰πéÂø´Ë¢´javaÁöÑËøô‰πàÂ§öÊ¶ÇÂøµÊêûÊáµ‰∫Ü„ÄÇlog4j„ÄÅlog4j2„ÄÅslf4j„ÄÅlogback?!!","text":"ÂØπ‰∫éÂàöÂºÄÂßãÊé•Ëß¶javaÁöÑ‰∫∫Êù•ËØ¥ÔºåÁî®‰ªÄ‰πàÊù•ÊâìÊó•Âøó‰ºº‰πéÂø´Ë¢´javaÁöÑËøô‰πàÂ§öÊ¶ÇÂøµÊêûÊáµ‰∫Ü„ÄÇlog4j„ÄÅlog4j2„ÄÅslf4j„ÄÅlogback?!! ÁõòÁÇπÁõòÁÇπ‰∏ãÊàë‰ª¨ÈÅáÂà∞ËøáÂì™‰∫õÊó•Âøó java.util.logging org.apache.commons.logging.Log Log4jÂíåLog4j2 SLF4J Âíå Logback ÁÆÄÂçïÊ¶ÇÊã¨ Log4jÂíåLog4j2ÊòØcommons.logging log4jApache Log4j ÊòØ‰∏Ä‰∏™ÈùûÂ∏∏Âè§ËÄÅÁöÑÊó•ÂøóÊ°ÜÊû∂ÔºåÂπ∂‰∏îÊòØÂ§öÂπ¥Êù•ÊúÄÂèóÊ¨¢ËøéÁöÑÊó•ÂøóÊ°ÜÊû∂„ÄÇ ÂÆÉÂºïÂÖ•‰∫ÜÁé∞‰ª£Êó•ÂøóÊ°ÜÊû∂‰ªçÂú®‰ΩøÁî®ÁöÑÂü∫Êú¨Ê¶ÇÂøµÔºåÂ¶ÇÂàÜÂ±ÇÊó•ÂøóÁ∫ßÂà´ÂíåËÆ∞ÂΩïÂô®„ÄÇ 2015 Âπ¥ 8 Êúà 5 Êó•ÔºåËØ•È°πÁõÆÁÆ°ÁêÜÂßîÂëò‰ºöÂÆ£Â∏É Log4j 1.x Â∑≤ËææÂà∞‰ΩøÁî®ÂØøÂëΩ„ÄÇ Âª∫ËÆÆÁî®Êà∑‰ΩøÁî® Log4j 1 ÂçáÁ∫ßÂà∞ ApacheLog4j 2„ÄÇ log4j2Apache Log4j 2ÊòØÂØπ Log4j ÁöÑÂçáÁ∫ßÔºåÂÆÉÊØîÂÖ∂ÂâçË∫´ Log4j 1.x Êèê‰æõ‰∫ÜÈáçÂ§ßÊîπËøõÔºåÂπ∂Êèê‰æõ‰∫Ü Logback ‰∏≠ÂèØÁî®ÁöÑËÆ∏Â§öÊîπËøõÔºåÂêåÊó∂‰øÆÂ§ç‰∫Ü Logback Êû∂ÊûÑ‰∏≠ÁöÑ‰∏Ä‰∫õÂõ∫ÊúâÈóÆÈ¢ò„ÄÇ ‰∏é Logback ‰∏ÄÊ†∑ÔºåLog4j2 Êèê‰æõÂØπ SLF4J ÁöÑÊîØÊåÅÔºåËá™Âä®ÈáçÊñ∞Âä†ËΩΩÊó•ÂøóÈÖçÁΩÆÔºåÂπ∂ÊîØÊåÅÈ´òÁ∫ßËøáÊª§ÈÄâÈ°π„ÄÇ Èô§‰∫ÜËøô‰∫õÂäüËÉΩÂ§ñÔºåÂÆÉËøòÂÖÅËÆ∏Âü∫‰∫é lambda Ë°®ËææÂºèÂØπÊó•ÂøóËØ≠Âè•ËøõË°åÂª∂ËøüËØÑ‰º∞Ôºå‰∏∫‰ΩéÂª∂ËøüÁ≥ªÁªüÊèê‰æõÂºÇÊ≠•ËÆ∞ÂΩïÂô®ÔºåÂπ∂Êèê‰æõÊó†ÂûÉÂúæÊ®°Âºè‰ª•ÈÅøÂÖçÁî±ÂûÉÂúæÊî∂ÈõÜÂô®Êìç‰ΩúÂºïËµ∑ÁöÑ‰ªª‰ΩïÂª∂Ëøü„ÄÇ ÊâÄÊúâËøô‰∫õÂäüËÉΩ‰Ωø Log4j2 Êàê‰∏∫Ëøô‰∏â‰∏™Êó•ÂøóÊ°ÜÊû∂‰∏≠ÊúÄÂÖàËøõÂíåÊúÄÂø´ÁöÑ„ÄÇ Logbacklogback ÊòØÁî± log4j ÂàõÂßã‰∫∫ËÆæËÆ°ÁöÑÂèà‰∏Ä‰∏™ÂºÄÊ∫êÊó•ÂøóÁªÑ‰ª∂Ôºå‰Ωú‰∏∫ÊµÅË°åÁöÑ log4j È°πÁõÆÁöÑÂêéÁª≠ÁâàÊú¨Ôºå‰ªéËÄåÊõø‰ª£ log4j„ÄÇ Logback ÁöÑ‰ΩìÁ≥ªÁªìÊûÑË∂≥Â§üÈÄöÁî®Ôºå‰ª•‰æøÂú®‰∏çÂêåÊÉÖÂÜµ‰∏ãÂ∫îÁî®„ÄÇ ÁõÆÂâçÔºålogback ÂàÜ‰∏∫‰∏â‰∏™Ê®°ÂùóÔºölogback-coreÔºålogback-classicÂíålogback-access„ÄÇ logback-coreÔºöÊ®°Âùó‰∏∫ÂÖ∂‰ªñ‰∏§‰∏™Ê®°ÂùóÁöÑÂü∫Á°Ä„ÄÇlogback-classicÔºöÊ®°ÂùóÂèØ‰ª•Ë¢´ÁúãÂÅöÊòØlog4jÁöÑÊîπËøõÁâàÊú¨„ÄÇÊ≠§Â§ñÔºålogback-classic Êú¨Ë∫´ÂÆûÁé∞‰∫Ü SLF4J APIÔºåÂõ†Ê≠§ÂèØ‰ª•Âú® logback ÂíåÂÖ∂‰ªñÊó•ÂøóÊ°ÜÊû∂ÔºàÂ¶Ç log4j Êàñ java.util.loggingÔºàJULÔºâÔºâ‰πãÈó¥Êù•ÂõûÂàáÊç¢„ÄÇlogback-accessÔºöÊ®°Âùó‰∏é Servlet ÂÆπÂô®ÔºàÂ¶Ç Tomcat Âíå JettyÔºâÈõÜÊàêÔºå‰ª•Êèê‰æõ HTTP ËÆøÈóÆÊó•ÂøóÂäüËÉΩ„ÄÇ","categories":[],"tags":[{"name":"java","slug":"java","permalink":"http://visonforcoding.xyz/tags/java/"}]},{"title":"PHPStorm‰ΩøÁî®ÈÖçÁΩÆ","slug":"PHPStorm‰ΩøÁî®ÈÖçÁΩÆ","date":"2021-09-24T09:34:26.000Z","updated":"2021-12-20T06:12:16.791Z","comments":true,"path":"2021/09/24/PHPStorm‰ΩøÁî®ÈÖçÁΩÆ/","link":"","permalink":"http://visonforcoding.xyz/2021/09/24/PHPStorm%E4%BD%BF%E7%94%A8%E9%85%8D%E7%BD%AE/","excerpt":"ÊúÄËøëÂèàÂºÄÂßã‰ΩøÁî®PHPStorm‰∫ÜÔºå‰∏∫‰ªÄ‰πàÊòØ‚ÄùÂèà‚ÄùÔºüÂõ†‰∏∫Êñ≠Êñ≠Áª≠Áª≠‰ΩøÁî®ËøáÂá†Ê¨°ÔºåÈÉΩ‰∏≠Êñ≠Ëøá„ÄÇË¶ÅÁ†¥Ëß£ÊÑüËßâËøòÊòØÈ∫ªÁÉ¶Ôºå‰∏ÄÁõ¥‰ΩøÁî®netbeans‰πüÊÑüËßâÊ≤°‰ªÄ‰πàÈóÆÈ¢ò„ÄÇ Áî±‰∫éÊúÄËøëÂú®ËÄÉËôëdoctrine\\annotation,netbeansÁöÑÊîØÊåÅËÉΩÂäõËøòÊòØ‰∏çË∂≥ÔºåÊâÄ‰ª•ÂèàÂºÄÂßã‰ΩìÈ™åphpstorm„ÄÇÂá†‰∏™Âú®netbeansÈáåÂñúÊ¨¢ÁöÑÂäüËÉΩÔºåÂçÉÊñπÁôæËÆ°ÂºÄÂßãÂú®phpstormÊâæÂõûÊù•,‰ª•‰∏ãÊòØËÆ∞ÂΩï„ÄÇ","text":"ÊúÄËøëÂèàÂºÄÂßã‰ΩøÁî®PHPStorm‰∫ÜÔºå‰∏∫‰ªÄ‰πàÊòØ‚ÄùÂèà‚ÄùÔºüÂõ†‰∏∫Êñ≠Êñ≠Áª≠Áª≠‰ΩøÁî®ËøáÂá†Ê¨°ÔºåÈÉΩ‰∏≠Êñ≠Ëøá„ÄÇË¶ÅÁ†¥Ëß£ÊÑüËßâËøòÊòØÈ∫ªÁÉ¶Ôºå‰∏ÄÁõ¥‰ΩøÁî®netbeans‰πüÊÑüËßâÊ≤°‰ªÄ‰πàÈóÆÈ¢ò„ÄÇ Áî±‰∫éÊúÄËøëÂú®ËÄÉËôëdoctrine\\annotation,netbeansÁöÑÊîØÊåÅËÉΩÂäõËøòÊòØ‰∏çË∂≥ÔºåÊâÄ‰ª•ÂèàÂºÄÂßã‰ΩìÈ™åphpstorm„ÄÇÂá†‰∏™Âú®netbeansÈáåÂñúÊ¨¢ÁöÑÂäüËÉΩÔºåÂçÉÊñπÁôæËÆ°ÂºÄÂßãÂú®phpstormÊâæÂõûÊù•,‰ª•‰∏ãÊòØËÆ∞ÂΩï„ÄÇ È°πÁõÆÂêçÊòæÁ§∫gitÂàÜÊîØ Â¶ÇÂõæÔºåÁî±‰∫éÁªèÂ∏∏ÂàáÊç¢ÂàÜÊîØ„ÄÇÊúâÊó∂ÂÄôÂèØËÉΩ‰ºöÂú®ÈîôËØØÁöÑÂàÜÊîØ‰∏äËøõË°åÂºÄÂèëÔºåÈ°πÁõÆÂêçÂêéÈù¢Ê†á‰∏äÂàÜÊîØÂêçËøô‰∏™ÂäüËÉΩÊàëÂæàÂñúÊ¨¢„ÄÇ ÂèëÁé∞phpstorm‰ΩøÁî®GitToolBoxÂèØ‰ª•Ëß£ÂÜ≥„ÄÇ ÂÖ≥Èó≠ÊòæÁ§∫È°πÁõÆË∑ØÂæÑ‰ΩÜÊòØËøòÊúâ‰∏™ÈóÆÈ¢òÊòØÔºåÈ°πÁõÆÂêç‰ºöÊòæÁ§∫È°πÁõÆÂú∞ÂùÄÔºåËøôÁÇπÂæàÁÉ¶„ÄÇÂèØ‰ª•ÈÄöËøáËá™ÂÆö‰πâphpstormÂ±ûÊÄßÂäûÂà∞„ÄÇÊâìÂºÄ Help/Edit Custom Properties‚Ä¶Êñ∞Âª∫ idea.properties file project.tree.structure.show.url=false ide.tree.horizontal.default.autoscrolling=false ÈöêËóènbprojectnbprojectÊòØnetbeansÁöÑÈÖçÁΩÆÊñá‰ª∂Â§π,Âú®phpstormÈ°πÁõÆ‰∏≠ÊòæÁ§∫ÈùûÂ∏∏ÈöæÂèó„ÄÇPreferences-&gt;File Types -&gt; Files and Folders to Ignore.","categories":[],"tags":[{"name":"ËΩØ‰ª∂","slug":"ËΩØ‰ª∂","permalink":"http://visonforcoding.xyz/tags/%E8%BD%AF%E4%BB%B6/"}]},{"title":"ÂÜôÂ•Ω‰ª£Á†ÅÁöÑ‰∏ÉÁßçÊ≠¶Âô®‰πã‰æùËµñÊ≥®ÂÖ•","slug":"ÂÜôÂ•Ω‰ª£Á†ÅÁöÑ‰∏ÉÁßçÊ≠¶Âô®‰πã‰æùËµñÊ≥®ÂÖ•","date":"2021-09-09T03:05:04.000Z","updated":"2021-10-30T02:59:33.282Z","comments":true,"path":"2021/09/09/ÂÜôÂ•Ω‰ª£Á†ÅÁöÑ‰∏ÉÁßçÊ≠¶Âô®‰πã‰æùËµñÊ≥®ÂÖ•/","link":"","permalink":"http://visonforcoding.xyz/2021/09/09/%E5%86%99%E5%A5%BD%E4%BB%A3%E7%A0%81%E7%9A%84%E4%B8%83%E7%A7%8D%E6%AD%A6%E5%99%A8%E4%B9%8B%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5/","excerpt":"Âú®‰πãÂâçÁöÑÊñáÁ´†‰∏≠ÊúâËØ¥Âà∞ÔºåÂÜôÂ•Ω‰ª£Á†ÅÁöÑÂéüÂàô„ÄÇÂÖ∂‰∏≠ÊèêÂà∞‰∫ÜSOLID ÈÇ£‰πà‰ªÄ‰πàÊòØSOLID","text":"Âú®‰πãÂâçÁöÑÊñáÁ´†‰∏≠ÊúâËØ¥Âà∞ÔºåÂÜôÂ•Ω‰ª£Á†ÅÁöÑÂéüÂàô„ÄÇÂÖ∂‰∏≠ÊèêÂà∞‰∫ÜSOLID ÈÇ£‰πà‰ªÄ‰πàÊòØSOLID ËÉåÊôØSOLID ÂéüÂàôÈ¶ñÂÖàÁî±ËëóÂêçÁöÑËÆ°ÁÆóÊú∫ÁßëÂ≠¶ÂÆ∂ Robert C¬∑Martin ÔºàËëóÂêçÁöÑBobÂ§ßÂèîÔºâÁî± 2000 Âπ¥Âú®‰ªñÁöÑËÆ∫Êñá‰∏≠ÊèêÂá∫„ÄÇ‰ΩÜÊòØ SOLID Áº©Áï•ËØçÊòØÁ®çÊôöÁî± Michael Feathers ÂÖà‰ΩøÁî®ÁöÑ„ÄÇ BobÂ§ßÂèî‰πüÊòØÁïÖÈîÄ‰π¶„Ää‰ª£Á†ÅÊï¥Ê¥Å‰πãÈÅì„ÄãÂíå„ÄäÊû∂ÊûÑÊï¥Ê¥Å‰πãÈÅì„ÄãÁöÑ‰ΩúËÄÖÔºå‰πüÊòØ ‚ÄúAgile Alliance‚Äù ÁöÑÊàêÂëò„ÄÇ ‰ªñ‰ª¨ËææÊàêÁöÑÁõÆÊ†áÊòØ‰∏ÄËá¥ÁöÑÔºö ‚ÄúÂàõÂª∫ÂèØÂ§ö‰∫∫Âçè‰ΩúÁöÑ„ÄÅÊòì‰∫éÁêÜËß£ÁöÑ„ÄÅÊòìËØªÁöÑ‰ª•ÂèäÂèØÊµãËØïÁöÑ‰ª£Á†Å„ÄÇ‚Äù Áé∞Âú®‰æùÊ¨°Áúã‰∏Ä‰∏ãÂêÑ‰∏™ÂéüÂàôÔºåSOLID ÊòØ‰ª•‰∏ãÊòØÂéüÂàôÁöÑÁº©ÂÜôÔºö S Âçï‰∏ÄËÅåË¥£ÂéüÂàô O ÂºÄÈó≠ÂéüÂàô L ÈáåÊ∞èÊõøÊç¢ÂéüÂàô I Êé•Âè£ÈöîÁ¶ªÂéüÂàô D ‰æùËµñÂèçËΩ¨ÂéüÂàô Êú¨Êñá‰∏ªË¶ÅËÆ≤D ‰æùËµñÂèçËΩ¨ÂéüÂàô whatÂíåwhy ‰ªÄ‰πàÊòØ‰æùËµñÂèçËΩ¨ ‰∏∫‰ªÄ‰πàÈúÄË¶Å‰æùËµñÂèçËΩ¨ ‰æùËµñÊ≥®ÂÖ•DIÊòØ‰æùËµñÂèçËΩ¨ÁöÑ‰∏ÄÁßçÂÆûÁé∞ÊñπÂºèÔºåÊàëÁúã‰∫ÜÂæàÂ§öÂÆö‰πâÊèèËø∞ÊàëËßâÂæóÈÉΩ‰∏çÂ¶ÇÊù•‰∏Ä‰∏™ÂÆû‰æãÂØπÊØîÊõ¥ËÉΩËß£ÈáäÊ∏ÖÊ•ö„ÄÇ ÂÖàÊù•ÁúãÁúã‰∏ç‰ΩøÁî®DIÁöÑÊ°à‰æã Application needs Foo (e.g. a controller), so: Application creates Foo Application calls Foo Foo needs Bar (e.g. a service), so: Foo creates Bar Foo calls Bar Bar needs Bim (a service, a repository, ‚Ä¶), so: Bar creates Bim Bar does something ÂèØ‰ª•ÁúãÂà∞ÁöÑÈóÆÈ¢òÊòØ:‰æùËµñË¢´ÂàÜÊï£Â±ÇÂ±ÇÂàõÂª∫ ÂÜçÊù•ÁúãÁúã‰ΩøÁî®DIÁöÑÊÉÖÂÜµ Application needs Foo so: Application gets Foo from the Container, so: Container creates Bim Container creates Bar and gives it Bim Container creates Foo and gives it Bar Application calls Foo Foo calls Bar Bar does something ‰æùËµñË¢´ÈõÜ‰∏≠ÂàõÂª∫ÂíåÊ≥®ÂÖ• ËøôÊ†∑ÁöÑÂ•ΩÂ§ÑÊòØ‰ªÄ‰πàÔºü‰∏æ‰∏™‰æãÂ≠êÂêß Â¶Ç‰Ωï‰Ω†ÁöÑ‰∏Ä‰∏™Library X ‰ΩøÁî®‰∫Ü Logger YÔºå ‰Ω†ÊÉ≥‰ΩøÁî®‰Ω†Ëá™Â∑±ÂÆö‰πâÁöÑlogger Z? ‰ΩøÁî®DIÁöÑËØù, Â∞±‰∏çÈúÄË¶ÅÊîπÂèò Library XÁöÑ‰ª£Á†Å‰∫Ü. ‰ª£Á†ÅÂÆû‰æãÂÜçÊù•ÁúãÁúãÂÆû‰æã‰ª£Á†ÅÁâàÊú¨ ÈùûDIclass GoogleMaps &#123; public function getCoordinatesFromAddress($address) &#123; // calls Google Maps webservice &#125; &#125; class OpenStreetMap &#123; public function getCoordinatesFromAddress($address) &#123; // calls OpenStreetMap webservice &#125; &#125; class StoreService &#123; public function getStoreCoordinates($store) &#123; $geolocationService = new GoogleMaps(); // or $geolocationService = GoogleMaps::getInstance() if you use singletons return $geolocationService->getCoordinatesFromAddress($store->getAddress()); &#125; &#125; ‰∏öÂä°Âú∫ÊôØÂæàÁÆÄÂçïÔºåÂ∞±ÊòØËé∑ÂèñÂ∫óÈì∫ÁöÑÂùêÊ†áÔºåÊÉÖÂÜµÊòØÂèØ‰ª•Êúâ2‰∏™ÊàñÂ§ö‰∏™Âú∞ÂõæÊúçÂä°„ÄÇ DIclass StoreService &#123; private $geolocationService; public function __construct(GeolocationService $geolocationService) &#123; $this->geolocationService = $geolocationService; &#125; public function getStoreCoordinates($store) &#123; return $this->geolocationService->getCoordinatesFromAddress($store->getAddress()); &#125; &#125; interface GeolocationService &#123; public function getCoordinatesFromAddress($address); &#125; class GoogleMaps implements GeolocationService &#123; ... class OpenStreetMap implements GeolocationService &#123; ... ÈÄöËøáÊûÑÈÄ†ÂáΩÊï∞‰º†ÂÖ•Âú∞ÂõæÊúçÂä°ÂÆû‰æãÔºå‰∏çÁî®ÂØπStoreServiceËøõË°åÊõ¥Êîπ„ÄÇStoreService‰∏çÁî®ÂÖ≥ÂøÉÊòØÂì™‰∏™Âú∞ÂõæÊúçÂä°Ôºå‰∏é‰æùËµñËß£ËÄ¶ÂºÄ„ÄÇ PHP-DIÁî®PHP-DIËøõË°åÂÆûÁé∞Ôºå‰∏çÁî®ÈÄöËøáÊûÑÈÄ†ÂáΩÊï∞ÁöÑÊñπÂºèËøõË°å‰º†ÈÄíÂú∞ÂõæÊúçÂä°„ÄÇ $storeService = $container->get('StoreService'); Ê≥®ÂÖ•Êîπ‰∏∫ÂÆπÂô®Áªü‰∏ÄÊ≥®ÂÖ•„ÄÇ $container-&gt;set(&#39;GeolocationService&#39;, \\DI\\create(&#39;GoogleMaps&#39;)); ÂºïÂÖ•‰∫ÜÂÆπÂô®ÁöÑÊ¶ÇÂøµÁöÑÂ•ΩÂ§ÑÊòØÔºåÂ¶ÇÊûúËÆ©ÂÆπÂô®Âú®Êï¥‰∏™workflowÈáåÔºåÂàôÂèØ‰ª•ËΩªÊòìÁöÑÂÖ®Â±ÄÊõ¥Êîπ‰ªª‰ΩïÁöÑ‰æùËµñ„ÄÇ","categories":[],"tags":[]},{"title":"ÂÖ≥‰∫éOKRÁöÑÊÄùËÄÉ","slug":"ÂÖ≥‰∫éOKRÁöÑÊÄùËÄÉ","date":"2021-09-06T12:01:29.000Z","updated":"2021-10-30T02:59:33.282Z","comments":true,"path":"2021/09/06/ÂÖ≥‰∫éOKRÁöÑÊÄùËÄÉ/","link":"","permalink":"http://visonforcoding.xyz/2021/09/06/%E5%85%B3%E4%BA%8EOKR%E7%9A%84%E6%80%9D%E8%80%83/","excerpt":"Ëµ∑Âõ†ÊòØÁî±‰∫éÊàëÁöÑËÄÅÊùøÂú®ÊúàÂàùÁöÑÊó∂ÂÄôÂèàÂ∏ÉÁΩÆ‰ªªÂä°Ë¶ÅÊ±ÇÂÜô‰∏ãÊú¨ÊúàÁöÑÂÖ≥ÈîÆÁõÆÊ†áTop3„ÄÇ‰πüÂ∞±ÊòØOKR Top3,Âπ∂‰∏îË¶ÅÊ±ÇÁî®SMARTÂéüÂàô„ÄÇ Âú®Ê≠§‰πãÂâçÈ¢ÜÂØº‰∏ÄÁõ¥ÂëäËØâÊàë‰ª¨KPIÂíåOKRÊòØÂàÜÂà´Áî®Êù•ÁÆ°ÁêÜÈîÄÂîÆÂõ¢ÈòüÂíåËÅåËÉΩÂõ¢ÈòüÁöÑ„ÄÇÂõ†‰∏∫ÈîÄÂîÆÂõ¢ÈòüÂæàÂÆπÊòìÁî®Êï∞ÊçÆÊåáÊ†áÊù•Ë°°ÈáèÂ∑•‰ΩúÁªìÊûúÔºå‰ΩÜËÅåËÉΩÂõ¢ÈòüÁöÑÂ∑•‰ΩúÂπ∂‰∏çÂ•ΩÁî®Êï∞ÊçÆÊåáÊ†áÊù•Ë°°Èáè„ÄÇ ‰ΩÜÊòØSMARTÂéüÂàô‰∫îÊù°ÂèàÊúâMeasurable(ÂèØË°°ÈáèÁöÑ),‰∫éÊòØÊàëÊúâÁÇπÊÉäËÆ∂„ÄÇÂ¶ÇÊûúOKR+SMARTÈÇ£Ë∑üKPIÊúâ‰ªÄ‰πàÂå∫Âà´Ôºü","text":"Ëµ∑Âõ†ÊòØÁî±‰∫éÊàëÁöÑËÄÅÊùøÂú®ÊúàÂàùÁöÑÊó∂ÂÄôÂèàÂ∏ÉÁΩÆ‰ªªÂä°Ë¶ÅÊ±ÇÂÜô‰∏ãÊú¨ÊúàÁöÑÂÖ≥ÈîÆÁõÆÊ†áTop3„ÄÇ‰πüÂ∞±ÊòØOKR Top3,Âπ∂‰∏îË¶ÅÊ±ÇÁî®SMARTÂéüÂàô„ÄÇ Âú®Ê≠§‰πãÂâçÈ¢ÜÂØº‰∏ÄÁõ¥ÂëäËØâÊàë‰ª¨KPIÂíåOKRÊòØÂàÜÂà´Áî®Êù•ÁÆ°ÁêÜÈîÄÂîÆÂõ¢ÈòüÂíåËÅåËÉΩÂõ¢ÈòüÁöÑ„ÄÇÂõ†‰∏∫ÈîÄÂîÆÂõ¢ÈòüÂæàÂÆπÊòìÁî®Êï∞ÊçÆÊåáÊ†áÊù•Ë°°ÈáèÂ∑•‰ΩúÁªìÊûúÔºå‰ΩÜËÅåËÉΩÂõ¢ÈòüÁöÑÂ∑•‰ΩúÂπ∂‰∏çÂ•ΩÁî®Êï∞ÊçÆÊåáÊ†áÊù•Ë°°Èáè„ÄÇ ‰ΩÜÊòØSMARTÂéüÂàô‰∫îÊù°ÂèàÊúâMeasurable(ÂèØË°°ÈáèÁöÑ),‰∫éÊòØÊàëÊúâÁÇπÊÉäËÆ∂„ÄÇÂ¶ÇÊûúOKR+SMARTÈÇ£Ë∑üKPIÊúâ‰ªÄ‰πàÂå∫Âà´Ôºü ‰∫éÊòØÊàëËÆ§‰∏∫OKR+SMART = KPI. ‰ΩÜÁ©∂Á´üÊòØ‰∏çÊòØËøôÊ†∑Âë¢Ôºü OKRÂíåKPIÂÖàÊù•ÁúãÁúãKPIÔºåÂõ†‰∏∫Êú¨Ë∫´OKRÊòØÂêéÊù•ÊâçÊèêÂá∫Êù•ÁöÑÊ¶ÇÂøµ„ÄÇÁõ∏ËæÉ‰∫éOKRÔºåKPIÊõ¥ÂπøÂíåÊõ¥Êó©Ë¢´‰∫∫ÊâÄÁü•„ÄÇ KPI ÊòØ Key Performance Indicator ÁöÑÁº©ÂÜôÔºå‰∏≠ÊñáÂêçÁß∞ÊòØ„ÄåÂÖ≥ÈîÆÁª©ÊïàÊåáÊ†á„ÄçÔºåÂç≥‰∏ÄÁ≥ªÂàóË°°ÈáèÂ∑•‰ΩúÊàêÊïàÁöÑÈáçË¶ÅÊåáÊ†á„ÄÇ ÂÖ≥ÈîÆÁÇπÊúâ‰∫ÜÔºåÊåáÊ†á KPI ÂøÖÈ°ªÊòØÂÆ¢ËßÇÁöÑ„ÄÅÂèØË°°ÈáèÁöÑÔºå‰ª•‰∏ãÊòØ‰∏Ä‰∫õÂ∏∏ËßÅÁöÑ KPIÔºö ÂåªÁñó‰øùÂÅ•Ë°å‰∏öÔºöÊÇ£ËÄÖÁ≠âÂæÖÊó∂Èó¥„ÄÅÂπ≥ÂùáÊ≤ªÁñóË¥πÁî® Èõ∂ÂîÆË°å‰∏öÔºöÂù™Êïà„ÄÅÊØèÂêçÂëòÂ∑•ÈîÄÂîÆÈ¢ù ‰∫∫ÂäõËµÑÊ∫êÈÉ®Èó®ÔºöÁ¶ªËÅåÁéá„ÄÅÂπ≥ÂùáÊãõËÅòÊó∂Èó¥ ÈîÄÂîÆÈÉ®Èó®ÔºöÈîÄÂîÆÊî∂ÂÖ•„ÄÅÊã®ÊâìÁîµËØùÁöÑÊ¨°Êï∞ ÂÆ¢ÊúçÈÉ®Èó®Ôºö ÂÆ¢Êà∑Êª°ÊÑèÂ∫¶NPS ÂÜçÊù•Áúã‰∏ãOKR OKR ÊòØ Objective and Key Results ÁöÑÁº©ÂÜôÔºå‰∏≠ÊñáÂêçÁß∞ÊòØ„ÄåÁõÆÊ†á‰∏éÂÖ≥ÈîÆÁªìÊûúÊ≥ï„ÄçÔºåÊòØ‰∏ÄÂ•óÂ∏ÆÂä©ÁªÑÁªáÂÆûÁé∞ÁõÆÊ†áÁÆ°ÁêÜ„ÄÅÊé®Âä®ÊâßË°å‰∏éÂçè‰ΩúÁöÑÂ∑•ÂÖ∑ÂíåÊñπÊ≥ïÔºåÂÖ≥ÈîÆÁÇπÂ∑•ÂÖ∑ÂíåÊñπÊ≥ï„ÄÇ ÂΩìÁÑ∂KPI‰πüÂèØ‰ª•ÁêÜËß£‰∏∫ÊñπÊ≥ïÔºå‰ΩÜÊòØOKRÁöÑÂ∑•ÂÖ∑ÊÄßÂíåÊñπÊ≥ïÊåáÂØºÊÑè‰πâ‰ºöÊõ¥Âº∫„ÄÇ OKRoKRÂº∫Ë∞ÉÂú®‚ÄùÁ¨¨‰∏ÄÊÄßÂéüÁêÜ‚ÄùÊÄùËÄÉÊñπÂºèÁöÑÂü∫Á°Ä‰∏ä,ËÅöÁÑ¶ÊàòÁï•ÈáçÁÇπ,ÊèêÂ≤ÄÈºìËàû‰∫∫ÂøÉÁöÑÁõÆÊ†á,ÈÄâÊã©ROÊõ¥‰ºòÁöÑÁ≠ñÁï•,‰ªéËÄåÊøÄÂèëÁªÑÁªáÊ¥ªÂäõ,Èôç‰ΩéÂÖ±ËØÜÊàêÊú¨,‰øÉËøõÂõ¢ÈòüÂíå‰∏™‰∫∫Âõ¥ÁªïÁªÑÁªáÁõÆÊ†áÈ´òÊïàÂçè‰Ωú. ‰∏Ä‰∏™ÂÖ¨Âè∏ÈÉΩ‰ºöÊåáÂÆöÂÖ¨Âè∏ÁªàÁîüÂ•ãÊñóÁöÑ‰ΩøÂëΩÔºåÊÑøÊôØ„ÄÇ ÂÖ≥‰∫é‰ΩøÂëΩÂíåÊÑøÊôØ Êàë‰πüÂê¨Âà∞ËøáÊàëÈ¢ÜÂØºË∑üÊàëËÆ≤ÁöÑÊØîËæÉÊúâÊÑèÊÄùÁöÑËß£ÈáäÁâàÊú¨„ÄÇ ‰ΩøÂëΩ ÂèØËÉΩÊòØÂΩì‰∏ãÂ∞±ÂèØ‰ª•ÂÆûÁé∞ÁöÑ„ÄÇÊÑøÊôØ ÂèØËÉΩ‰∏çËÉΩÂÆûÁé∞Ôºå‰ΩÜÊòØÂÖ¨Âè∏Ë¶Å‰∏∫‰πãÂ•ãÊñóÁöÑÁõÆÊ†á„ÄÇ ‰æãÂ¶Ç apple ÊÑøÊôØÔºöËÆ©ÊØè‰∫∫Êã•Êúâ‰∏ÄÂè∞ËÆ°ÁÆóÊú∫Ôºõ‰ΩøÂëΩÔºöÊé®ÂπøÂÖ¨Âπ≥ÁöÑËµÑÊñô‰ΩøÁî®ÊÉØ‰æãÔºåÂª∫Á´ãÁî®Êà∑ÂØπ‰∫íËÅîÁΩë‰πã‰ø°‰ªªÂíå‰ø°ÂøÉ Ë®ÄÂΩíÊ≠£‰º†„ÄÇ‰∏∫‰∫ÜÂÆåÊàê‰ΩøÂëΩÊàñËÄÖÊé•ËøëÊÑøÊôØ„ÄÇÂÖ¨Âè∏È´òÂ±ÇÂøÖÁÑ∂‰ºöÂà∂ÂÆöÈïøÊúüÁöÑÊàòÁï•ËÆ°Âàí„ÄÇ ÈÇ£‰πà‰∏∫‰∫ÜËøô‰∫õÊàòÁï•ËÆ°ÂàíÔºåÊØè‰∏™Â±ÇÁ∫ßÊØè‰∏™‰∫∫ÈÉΩÂõ†‰∏∫ÊÉ≥Âà∞ÊàëÂèØ‰ª•ÂÆåÊàê‰ªÄ‰πàÂíåÂ¶Ç‰ΩïËææÂà∞ÁõÆÊ†á„ÄÇ ‰ª•ÂèäÊõ¥ÁªÜÂåñÁöÑ‰∏∫‰∫ÜËêΩÂú∞Ëøô‰∫õÁõÆÊ†áÂíåÂÖ≥ÈîÆÁªìÊûú ÈúÄË¶ÅÂª∫Á´ãÂì™‰∫õÈ°πÁõÆÊàñÈ°πÁõÆ‰ªªÂä° ‰ªéÂÆèËßÇÁöÑ‰ºÅ‰∏öÊàòÁï•Âà∞ÂæÆËßÇ‰∏™‰∫∫‰ªªÂä°ÔºåOKRËÉΩÂæàÂ•ΩÁöÑÊàê‰∏∫‰ºÅ‰∏öÁõÆÊ†áÁÆ°ÁêÜ‰ΩìÁ≥ªÂíå‰∏™‰∫∫ÁöÑÂ∑•‰ΩúÊñπÊ≥ï„ÄÇ OKRÊòØÊõ¥Á¨¶ÂêàÊó∂‰ª£ÈúÄË¶ÅÁöÑÁÆ°ÁêÜÊñπÊ≥ï ‰ºÅ‰∏öÁ´Ø:VUCAÊó∂‰ª£,ËÆ©ÁªÑÁªáÊåÅÁª≠ËøõÂåñÊòØÂ∫îÂØπ‰∏çÁ°ÆÂÆöÊÄßÁöÑÊ†πÊú¨ ‰∫∫ÊâçÁ´Ø:‰∏™‰ΩìÂ¥õËµ∑,ÁÆ°ÁêÜ‰ªéÂº∫Ë∞ÉÁÆ°ÊéßËµ∞ÂÜãËá™È©±‰∏éÂçè‰Ωú ÊôÆÈÄÇÊÄß:Âõ¥ÁªïÁõÆÊ†áÂºÄÂ±ïÂ∑•‰ΩúÊòØÂæàËá™ÁÑ∂ÁöÑ‰∫ã ‰æõÁªôÁ´Ø: OKR SaaSÊääÈ¢ÜÂÖàÂÆûË∑µ‰∫ßÂìÅÂåñ,ËÆ©Êõ¥Â§ö‰ºÅ‰∏ö‰ª•‰ΩéÊàêÊú¨ÂèóÁõä ËÆ§Áü•:OKR‰∏çÊòØ‰∏áËÉΩËçØ,Ê≠£Á°ÆËÆ§ËØÜOKRÊâçËÉΩÁî®Â•ΩOKR ÊàòÁï•Â±ÇÈù¢:‰ªéÈïøËøúËßÑÂàíËΩ¨ÂêëÊïèÊç∑Ëø≠‰ª£ ËøáÂéª‰ºÅ‰∏öÂÅöÊàòÁï•ÈÄöÂ∏∏Ë¶ÅÁúã3-5Âπ¥,ÂâçÊèêÊòØÂ∏ÇÂú∫ÂÖÅËÆ∏‰Ω†‰øùÊåÅÁ∫øÊÄßÂ¢ûÈïøÁöÑÂêàÁêÜÈ¢ÑÊúü„ÄÇ‰ªäÂ§©,ÈùûÁ∫øÊÄßÂ¢ûÈïøÊàê‰∏∫ÊôÆÈÅçÊÉÖÂÜµ,‰ºÅ‰∏öÊõ¥Âä†ËÅöÁÑ¶Âú®ÁúºÂâçÁöÑÂçäÂπ¥Êàñ‰∏ÄÂπ¥,‰ª•Êõ¥Âø´ÁöÑÈÄüÂ∫¶Â∫îÂØπÂ∏ÇÂú∫ÂíåÈúÄÊ±ÇÂèòÂåñ„ÄÇ ÁªÑÁªáÂ±ÇÈù¢:‰ªéÁßëÂ±ÇÂà∂„ÄÅÊù°Á∫øÂºèËøê‰Ωú,ÂêëÂàÜÂ∏ÉÂºèÂÜ≥Á≠ñ„ÄÅÁΩëÁªúÂåñÂçè‰ΩúÁöÑÊñπÂêëÂèëÂ±ï ÁßëÂ±ÇÂà∂ÊúÄÂ§ßÁöÑÁâπÁÇπ,ÊòØÊåá‰ª§ÂºèÁöÑ‰∏ä‰º†‰∏ãËææ,ÊØè‰∏ÄÂ±ÇÈÉΩ‰æùËµñ‰∏ä‰∏ÄÂ±ÇÁöÑÂÜ≥Á≠ñ,ËæÉ‰∏∫Ë¢´Âä®‰ΩéÊïà,‰πüÈöæ‰ª•‰∫ßÁîüÂàõÊñ∞„ÄÇÂàÜÂ∏ÉÂºè„ÄÅÁΩëÁªúÂåñÁöÑÁªÑÁªáÈáå,ÊØè‰∏™ËäÇÁÇπ(Âõ¢ÈòüÊàñ‰∏™‰∫∫)ÈÉΩÊõ¥Âä†Ëá™‰∏ªÁöÑÂÜ≥Á≠ñÂíåË°åÂä®,‰∏ªÂä®ÂèëËµ∑Âçè‰Ωú,Êõ¥ÂèäÊó∂ÁöÑÂìçÂ∫îÂèòÂåñ,Ê∂åÁé∞Êõ¥Â§öÂàõÊñ∞„ÄÇ ÊñáÂåñÂ±ÇÈù¢:‰ªéÂº∫Ë∞ÉÁÆ°Êéß„ÄÅ‰∏ÄËá¥Âà∞Êõ¥Âä†Â§öÂÖÉÂåñ„ÄÅÂÖºÂÆπÂπ∂ËìÑ Âº∫Ë∞ÉÁÆ°Êéß‰πüÊòØÁßëÂ±ÇÂà∂ÁªÑÁªáÁâπÂæÅÁöÑÂª∂Áª≠,‰ªäÂ§©ÁöÑÁªÑÁªáÈúÄË¶ÅÊõ¥Â§öÊ†∑ÂåñÁöÑÊÄùÊÉ≥ÂíåÂÆûË∑µ,‰∫ßÁîüÊñ∞ÁöÑÂèòÂåñ,Âú®ÂÖßÂ§ñÈÉ®ÂΩ¢ÊàêÊõ¥Âä†ÂÅ•Â∫∑ÁöÑÁîüÊÄÅ,ÊâçËÉΩ‰∫ßÁîüÊõ¥Â§öÂèØËÉΩÊÄß„ÄÇ OKRËÆ©ÊØè‰∏Ä‰ΩçÂëòÂ∑•‰∫ÜËß£ÁªÑÁªáÁöÑÊï¥‰ΩìÁõÆÊ†á,ÊâæÂà∞Ëá™Â∑±Â∑•‰Ωú‰∏éÁªÑÁªáÁõÆÊ†áÁöÑËÅîÁ≥ª,Ëé∑ÂæóÊÑè‰πâ‰∏éÊàêÂ∞±ÊÑü OKRËÆ§Áü•Á¨¨‰∏Ä,OKRÂπ∂‰∏çËß£ÂÜ≥ÊàòÁï•ËßÑÂàíÁöÑÈóÆÈ¢ò ‚óãKRËÉΩÂ§üÂ∏ÆÂä©‰ºÅ‰∏öÊõ¥Â•ΩÂú∞ÊÄùËÄÉÂíåËêΩÂú∞ÊàòÁï•,‰ΩÜ‰∏çÊòØÁî®‰∫ÜOKRÂ∞±ÊúâÊõ¥Â•ΩÁöÑÊàòÁï•OKRÊú¨Ë¥®ÊòØ‰∏ÄÁßç‰∫∫‰∫∫ÁöÜÂõ¥ÁªïÊàòÁï•Âú®‰∏ªÂä®ÊÄùËÄÉÂπ∂Â∫¶ÈáèÁªìÊûúÁöÑÊñπÊ≥ïÂíåÂ∑•ÂÖ∑ Á¨¨‰∫å,OKR‰∏çËÉΩ‰ª£ÊõøÈ¢ÜÂØºÂäõ ‰ªÖ‰ªÖËÆæÂÆö‰∏Ä‰∏™ÁõÆÊ†áÂπ∂‰∏çËÉΩÂ∏¶Êù•ÊàêÂäü,È¢ÜÂØºËÄÖ„ÄÅÁÆ°ÁêÜËÄÖÂ∏¶È¢ÜÂõ¢ÈòüÂÖ±ÂêåÂä™Âäõ,ÊâçËÉΩÊõ¥Â•ΩËææÊàêÁõÆÊ†áÂêÑÁ∫ßÁÆ°ÁêÜËÄÖÈÉΩÂøÖÈ°ª‰∏ªÂä®ÊÄùËÄÉ‰∏öÂä°Êú¨Ë¥®ÂíåÊúÄ‰Ω≥Ë∑ØÂæÑÈÄöËøáOKRÂàÜÊ¥æ‰ªªÂä°,ÊòØÂØπOKRÁöÑËØØÁî®,Êõ¥ÊòØÁÆ°ÁêÜ‰∏äÁöÑÊáíÊîø Á¨¨‰∏â,OKR‰∏çÊòØÁª©ÊïàËÄÉÊ†∏ ÁõÆÊ†áÁÆ°ÁêÜËÆ©ÂëòÂ∑•‰∏ìÊ≥®ÊÄùËÄÉÂ¶Ç‰ΩïÂÆûÁé∞ÁõÆÊ†á,Áª©ÊïàËÄÉÊ†∏‰∏ìÊ≥®‰∫éÂØπÂëòÂ∑•ÊâÄÂÅöË¥°ÁåÆÁªô‰∫àÂÖ¨Âπ≥ÂõûÊä•,ÂâçËÄÖÊòØ‰ª∑ÂÄºÂàõÈÄ†,ÂêéËÄÖÊòØ‰ª∑ÂÄºÂàÜÈÖç,‰∫åËÄÖÊúâÊú¨Ë¥®Âå∫Âà´È¢ÜÂÖàÂÆûË∑µ‰∏ªÂº†Â∞ÜÁõÆÊ†áÁÆ°ÁêÜÂíåÁª©ÊïàËØÑ‰ª∑Ëß£Áªë„ÄÇ‰æãÂ¶ÇË∞∑Ê≠å„ÄÅÂ≠óËäÇË∑≥Âä®,‚óãKR‰Ωú‰∏∫ÁõÆÊ†áÁÆ°ÁêÜÂ∑•ÂÖ∑,Áª©ÊïàËÄÉÊ†∏ÈÄöËøá360¬∞ËØÑ‰ª∑ÂÆûÁé∞„ÄÇÂ¶ÇÊûúÁõ¥Êé•ËÄÉÊ†∏OKRËææÊàêÁéá,ÁªÑÁªáÂäøÂøÖÂèàÂ∞ÜÈô∑ÂÖ•KP|ÂºèÁöÑËÆ®‰ª∑Ëøò‰ª∑,‰πüÊõ¥ÂÆπÊòìÊªãÁîüÁü≠ÊúüË°å‰∏∫ OKRËêΩÂú∞ OKRÁöÑÂÆûÊñΩÊ≠•È™§ÈÅµÂæ™ÁªèÂÖ∏ÁöÑ‚ÄúPDCA‚ÄùÁõÆÊ†áÁÆ°ÁêÜÊµÅÁ®ã„ÄÇ‰ª•Âπ¥Â∫¶‰∏∫‰æã,‚óãKRÁöÑËøêË°å‰∏ÄËà¨ÈÅµÂæ™ ÁõÆÊ†áÂà∂ÂÆö-ËøáÁ®ãË∑üËøõ-ÊÄªÁªìÂ§çÁõò-ËÄÉÊ†∏Â∫îÁî®ÂõõÊ≠•ÂÆûÊñΩÊµÅÁ®ã,Âπ∂ÂΩ¢ÊàêÈó≠ÁéØÁÆ°ÁêÜ„ÄÇ Âú®‰∏Ä‰∏™Âπ¥Â∫¶ÂÜÖ,‰ºöÊúâÂ§ö‰∏™ÂèåÊúàÊàñÂ≠£Â∫¶OKRÂë®Êúü,Ê≠§Âë®ÊúüÂÜÖ‰∏ªË¶Å‰ª•ÁõÆÊ†áÂà∂ÂÆö-ËøáÁ®ãË∑üËøõ-ÊÄªÁªìÂ§çÁõòÁéØËäÇÂΩ¢ÊàêÁöÑÂ∞èÈó≠ÁéØËøõË°åËøê‰Ωú„ÄÇ ‰∫îÂ§ßÊàêÂäüÂõ†Á¥† È´òÂ±ÇÁÆ°ÁêÜËÄÖÁöÑÁßØÊûÅÂèÇ‰∏é ÊääOKRÂ∫îÁî®Âà∞Êó•Â∏∏ÁÆ°ÁêÜ ÂàõÈÄ†ËâØÂ•ΩÁöÑÂÆûÊñΩÁéØÂ¢É ‰æøÊç∑È´òÊïàÁöÑOKRÁ≥ªÁªü ‰∏ìÈó®ÁöÑOKRËøêËê•Âõ¢Èòü ËøôÈáåÊàëËÆ§‰∏∫ Á¨¨‰∏Ä Á¨¨‰∫åÁÇπÂ∞§‰∏∫ÈáçË¶Å„ÄÇ ÊÄªÁªì OKR‰∏çÂêå‰∫éKPIÔºåOKR+SMART ‰πü‰∏çÁ≠â‰∫éKPI OKRÊòØÊõ¥ÈÄÇÂ∫îÂΩì‰ª£ÁöÑÁÆ°ÁêÜÂ∑•ÂÖ∑ÔºåÈù¢ÂØπÊñ∞Êó∂‰ª£ÁöÑ‚Äù‰∫∫‚ÄùÂíåÁû¨Âç≥‰∏áÂèòÁöÑÂø´ËäÇÂ•è OKRÊõ¥Ê≥®ÈáçÁõÆÊ†áÂØºÂêë,Ê≤°ÊúâÁ≤æÁ°ÆËßÑÁªìÊûúÔºåÊõ¥ËÉΩÊøÄÂèëÂõ¢ÈòüËá™‰∏ªÊÄß Âπ∂‰∏çÊÑèÂë≥ÁùÄÂèØ‰ª•ÊëàÂºÉKPIÔºåËÄåÂ∫îÈááÂèñOKR‰∏∫‰∏ªKPI‰∏∫ËæÖÁöÑÊñπÂºè„ÄÇ ÂØπKPIÁöÑËÆ§Áü•Â∞§‰∏∫ÈáçË¶ÅÔºå‰∏äÂà∞ÊúÄÈ´òÂ±Ç‰∏ãÂà∞Âü∫Â±ÇÈÉΩÂ∫îËØ•ÁêÜËß£OKRÁöÑ‰ΩúÁî®ÂíåÂ¶Ç‰ΩïËøêÁî®OKR„ÄÇ ÊâÄÊúâÁÆ°ÁêÜÊñπÊ≥ïÈÉΩÂ∫î‰ª•‰∫∫‰∏∫Êú¨ÔºåÁ¶ª‰∏çÂºÄÂü∫Á°ÄÁöÑÊ≤üÈÄö„ÄÅÊºîËÆ≤ÊäÄÂ∑ß„ÄÇË¶ÅËÆ©ÊñπÊ≥ïÂèëÊå•ÂäüÊïàÔºåËøòÈúÄË¶ÅÊúâÂº∫Â§ßÁöÑÊÑüÂè¨Âäõ„ÄÇ","categories":[],"tags":[{"name":"ÁÆ°ÁêÜ","slug":"ÁÆ°ÁêÜ","permalink":"http://visonforcoding.xyz/tags/%E7%AE%A1%E7%90%86/"}]},{"title":"‰ª£Á†ÅÊï¥Ê¥Å‰πãÈÅì","slug":"‰ª£Á†ÅÊï¥Ê¥Å‰πãÈÅì","date":"2021-07-30T01:42:27.000Z","updated":"2021-10-30T02:59:33.282Z","comments":true,"path":"2021/07/30/‰ª£Á†ÅÊï¥Ê¥Å‰πãÈÅì/","link":"","permalink":"http://visonforcoding.xyz/2021/07/30/%E4%BB%A3%E7%A0%81%E6%95%B4%E6%B4%81%E4%B9%8B%E9%81%93/","excerpt":"ËΩØ‰ª∂Ë¥®Èáè‰∏ç‰ΩÜ‰æùËµñ‰∫éÊû∂ÊûÑÂèäÈ°πÁõÆÁÆ°ÁêÜÔºåËøò‰∏é‰ª£Á†ÅË¥®ÈáèÁ¥ßÂØÜÁõ∏ÂÖ≥„ÄÇ ‰ª£Á†ÅË¥®Èáè‰∏éÊï¥Ê¥ÅÂ∫¶ÊàêÊ≠£ÊØîÔºåÂπ≤ÂáÄÁöÑ‰ª£Á†ÅÂç≥Âú®Ë¥®Èáè‰∏äËæÉ‰∏∫ÂèØÈù†Ôºå‰πü‰∏∫ÂêéÊúüÁª¥Êä§„ÄÅÂçáÁ∫ßÂ•†ÂÆöËâØÂ•ΩÂü∫Á°Ä„ÄÇ Âè¶‰∏ÄÁßçÊ¶ÇÂøµÂè´ÂÅöÊûÅÈôêÁºñÁ®ã ÂéüÂàô SOLID DRY KISS Á´•Â≠êÂÜõÂÜõËßÑËÆ©Ëê•Âú∞ÊØî‰Ω†Êù•Êó∂Êõ¥Âπ≤ÂáÄ","text":"ËΩØ‰ª∂Ë¥®Èáè‰∏ç‰ΩÜ‰æùËµñ‰∫éÊû∂ÊûÑÂèäÈ°πÁõÆÁÆ°ÁêÜÔºåËøò‰∏é‰ª£Á†ÅË¥®ÈáèÁ¥ßÂØÜÁõ∏ÂÖ≥„ÄÇ ‰ª£Á†ÅË¥®Èáè‰∏éÊï¥Ê¥ÅÂ∫¶ÊàêÊ≠£ÊØîÔºåÂπ≤ÂáÄÁöÑ‰ª£Á†ÅÂç≥Âú®Ë¥®Èáè‰∏äËæÉ‰∏∫ÂèØÈù†Ôºå‰πü‰∏∫ÂêéÊúüÁª¥Êä§„ÄÅÂçáÁ∫ßÂ•†ÂÆöËâØÂ•ΩÂü∫Á°Ä„ÄÇ Âè¶‰∏ÄÁßçÊ¶ÇÂøµÂè´ÂÅöÊûÅÈôêÁºñÁ®ã ÂéüÂàô SOLID DRY KISS Á´•Â≠êÂÜõÂÜõËßÑËÆ©Ëê•Âú∞ÊØî‰Ω†Êù•Êó∂Êõ¥Âπ≤ÂáÄ ÊúâÊÑè‰πâÁöÑÂëΩÂêç ÂêçÂâØÂÖ∂ÂÆûÔºåË°®ËææÁúüÂÆûÊÑè‰πâ ‰∏çËØØÂØº ÂÅöÊúâÊÑè‰πâÁöÑÂå∫ÂàÜÔºåÈÅøÂÖç a„ÄÅb„ÄÅc ÂèØËØª„ÄÅÂèØÊêúÁ¥¢ ÂáΩÊï∞ Âçï‰∏ÄËÅåË¥£ Ë°åÊï∞ 20-100 ÂáΩÊï∞ÂèÇÊï∞ 0ÂèÇÊï∞ÊúÄ‰Ω≥Ôºå3‰∏™ÂèÇÊï∞Â∑≤ÁªèÂãâ‰∏∫ÂÖ∂Èöæ Ê†áËØÜÂèÇÊï∞‰∏ëÈôã‰∏çÂ†™ÔºåÂêëÂèÇÊï∞‰º†ÂÖ•Â∏ÉÂ∞îÂÄºÈ™á‰∫∫Âê¨Èóª Â¶ÇÊûúÂáΩÊï∞ÈúÄË¶Å‰∏â‰∏™‰ª•‰∏äÁöÑÂèÇÊï∞ÔºåËØ¥ÊòéËøô‰∫õÂèÇÊï∞Â∫îËØ•Â∞ÅË£Ö‰∏∫Á±ª‰∫Ü Circle makeCircle(double x,double y,double radius); Circle makeCircle(Point center,double radius); class Foo &#123; public function bar($flag = true) &#123; &#125; Êó†ÂâØ‰ΩúÁî®ÂáΩÊï∞ÊâøËØ∫Âè™ÂÅö‰∏Ä‰ª∂‰∫ãÔºåÂÆûÈôÖ‰∏äËøòÂÅö‰∫ÜÂÖ∂‰ªñÁöÑ„ÄÇ public class UserValidator &#123; private Cryptographer cryptographer; public boolean checkPassword(String userName, String password)&#123; User user = UserGateway.findByName(userName) ; if (user != User.NULL) &#123; String codedPhrase = user.getPhraseEncodedByPassword(); String phrase = cryptographer.decrypt (codedPhrase,password ); if(\"Valid Password\".equals(phrase))&#123; Session.initialize(); //ÂÆûÈôÖ‰∏äËøòÂÅö‰∫Üsession ÂàùÂßãÂåñÁöÑÊìç‰Ωú return true; &#125; return false; &#125; Ë¶Å‰πàÊäΩÁ¶ªSession.initialize(),Ë¶Å‰πàÈáçÂëΩÂêç‰∏∫checkPasswordAndInitializeSession ‰∏çË¶ÅÁªô‰∫∫ËØØÂØº„ÄÇ ‰ΩøÁî®ÂºÇÂ∏∏‰ª£ÊõøÈîôËØØÁ†Å‰ΩøÁî®ÈîôËØØÁ†ÅÂ∞±Ë¶ÅÂÆö‰πâÈîôËØØÁ†ÅÊûö‰∏æÔºåÊûö‰∏æÁ±ªË¢´Â§ßÈáèÂØºÂÖ•Ë∞ÉÁî®„ÄÇ‰∏ÄÊó¶Â¢ûÂä†Êàñ‰øÆÊîπÈîôËØØÊûö‰∏æÔºåÂ∞±Ë¶ÅÂØπÊâÄÊúâÂºïÂÖ•ÁöÑÊñá‰ª∂ËøõË°åÁºñËØë„ÄÇ if (deletePage(page)==E_OK)&#123; if (registry.deleteReference(page.name)==E_OK)&#123; if (configKeys.deleteKey(page.name.makeKey())==E_OK)&#123; logger.log(\"page deleted\"); &#125; else &#123; logger.log(\"configKey not deleted\"); &#125; else &#123; logger. log(\"deleteReference from registry failed\"); &#125; else &#123; logger.log(\"delete failed\"); &#125; return E_ERROR; &#125; try &#123; deletePage(page); registry.deleteReference(page.name); configKeys.deleteKey(page.name.makeKey()); &#125; catch (Exception e) &#123; logger.log(e.getMessage()); &#125; Ê≥®ÈáäÊ≥®ÈáäÂπ∂‰∏çÂÉèËæõÂæ∑ÂãíÁöÑÂêçÂçï„ÄÇÂÆÉ‰ª¨Âπ∂‰∏ç‚ÄúÁ∫ØÁÑ∂Âú∞Â•Ω‚Äù„ÄÇÂÆûÈôÖ‰∏äÔºåÊ≥®ÈáäÊúÄÂ§ö‰πüÂ∞±ÊòØ‰∏ÄÁßçÂøÖÈ°ªÁöÑÊÅ∂„ÄÇËã•ÁºñÁ®ãËØ≠Ë®ÄË∂≥Â§üÊúâË°®ËææÂäõÔºåÊàñËÄÖÊàë‰ª¨Èïø‰∫éÁî®Ëøô‰∫õËØ≠Ë®ÄÊù•Ë°®ËææÊÑèÂõæÔºåÂ∞±‰∏çÈÇ£‰πàÈúÄË¶ÅÊ≥®Èáä‚Äî‚Äî‰πüËÆ∏Ê†πÊú¨‰∏çÈúÄË¶Å„ÄÇ Ê≥®ÈáäÊéâÁöÑ‰ª£Á†Å20‰∏ñÁ∫™60Âπ¥‰ª£ÔºåÊõæÁªèÊúâÈÇ£‰πà‰∏ÄÊÆµÊó∂Èó¥ÔºåÊ≥®ÈáäÊéâÁöÑ‰ª£Á†ÅÂèØËÉΩÊúâÁî®„ÄÇ‰ΩÜÊàë‰ª¨Â∑≤ÁªèÊã•Êúâ‰ºòËâØÁöÑÊ∫ê‰ª£Á†ÅÊéßÂà∂Á≥ªÁªüÂ¶ÇÊ≠§‰πã‰πÖÔºåËøô‰∫õÁ≥ªÁªüÂèØ‰ª•‰∏∫Êàë‰ª¨ËÆ∞‰Ωè‰∏çË¶ÅÁöÑ‰ª£Á†Å„ÄÇÊàë‰ª¨Êó†ÈúÄÂÜçÁî®Ê≥®ÈáäÊù•Ê†áËÆ∞ÔºåÂà†ÊéâÂç≥ÂèØÔºåÂÆÉ‰ª¨‰∏¢‰∏ç‰∫Ü„ÄÇÊàëÊãÖ‰øù„ÄÇ Ê†ºÂºèÊñá‰ª∂ÈïøÂ∫¶ 200-500 Ë°åÂ≠óÁ¨¶Êï∞ ‰∏äÈôê120 ÂØπË±°ÂíåÊï∞ÊçÆÁªìÊûÑÂæ∑Ëé´ÁâπÂÆöÂæãËëóÂêçÁöÑÂæóÂ¢®ÂºèËÄ≥ÂæãÔºàThe Law of Demeter)ËÆ§‰∏∫ÔºåÊ®°Âùó‰∏çÂ∫î‰∫ÜËß£ÂÆÉÊâÄÊìç‰ΩúÂØπË±°ÁöÑÂÜÖÈÉ®ÂΩ¢„ÄÇÂ¶Ç‰∏äËäÇÊâÄËßÅÔºåÂØπË±°ÈöêËóèÊï∞ÊçÆÔºåÊõùÈú≤Êìç‰Ωú„ÄÇËøôÊÑèÂë≥ÁùÄÂØπË±°‰∏çÂ∫îÈÄöËøáÂ≠òÂèñÂô®ÊõùÈú≤ÂÖ∂ÂÜÖÈÉ®ÁªìÊûÑÂõ†‰∏∫ËøôÊ†∑Êõ¥ÂÉèÊòØÊõùÈú≤ËÄåÈùûÈöêËóèÂÖ∂ÂÜÖÈÉ®ÁªìÊûÑ„ÄÇÊõ¥ÂáÜÁ°ÆÂú∞ËØ¥ÔºåÂæóÂ¢®ÂºèËÄ≥ÂæãËÆ§‰∏∫ÔºåÁ±ªCÁöÑÊñπÊ≥ïfÂè™Â∫îËØ•Ë∞ÉÁî®‰ª•‰∏ãÂØπË±°ÁöÑÊñπÊ≥ïÔºö C Áî±fÂàõÂª∫ÁöÑÂØπË±°Ôºõ ‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄíÁªôfÁöÑÂØπË±°Ôºõ Áî±CÁöÑÂÆû‰ΩìÂèòÈáèÊåÅÊúâÁöÑÂØπË±°„ÄÇ null Âà´‰º†nullÂÄº Âà´ËøîÂõûnullÂÄº Á≥ªÁªü‚ÄúÂ§çÊùÇË¶Å‰∫∫ÂëΩ„ÄÇÂÆÉÊ∂àÁ£®ÂºÄÂèëËÄÖÁöÑÁîüÂëΩÔºåËÆ©‰∫ßÂìÅÈöæ‰ª•ËßÑÂàí„ÄÅÊûÑÂª∫ÂíåÊµãËØï„ÄÇ‚Äù‚Äî‚ÄîRay Ozzie,ÂæÆËΩØÂÖ¨Âè∏È¶ñÂ∏≠ÊäÄÊúØÂÆò ‰æùËµñÊ≥®ÂÖ•Âú®‰æùËµñÁÆ°ÁêÜÊÉÖÊôØ‰∏≠ÔºåÂØπË±°‰∏çÂ∫îË¥üË¥£ÂÆû‰ΩìÂåñÂØπËá™Ë∫´ÁöÑ‰æùËµñ„ÄÇÂèç‰πãÔºåÂÆÉÂ∫îÂΩìÂ∞ÜËøô‰ªΩÊùÉË¥£Áßª‰∫§ÁªôÂÖ∂‰ªñ‚ÄúÊúâÊùÉÂäõ‚ÄùÁöÑÊú∫Âà∂Ôºå‰ªéËÄåÂÆûÁé∞ÊéßÂà∂ÁöÑÂèçËΩ¨„ÄÇÂõ†‰∏∫ÂàùÂßãËÆæÁΩÆÊòØ‰∏ÄÁßçÂÖ®Â±ÄÈóÆÈ¢òÔºåËøôÁßçÊéàÊùÉÊú∫Âà∂ÈÄöÂ∏∏Ë¶Å‰πàÊòØmain‰æãÁ®ãÔºåË¶Å‰πàÊòØÊúâÁâπÂÆöÁõÆÁöÑÁöÑÂÆπÂô®„ÄÇ Êâ©ÂÆπ ‚Äú‰∏ÄÂºÄÂßãÂ∞±ÂÅöÂØπÁ≥ªÁªü‚ÄùÁ∫ØÂ±ûÁ•ûËØù„ÄÇ ‰ª£ÁêÜAOPÊúâÊó∂‰ºö‰∏éÂÆûÁé∞ÂÆÉÁöÑÊäÄÊúØÁõ∏Ê∑∑Ê∑ÜÔºå‰æãÂ¶ÇÊñπÊ≥ïÊã¶Êà™ÂíåÈÄöËøá‰ª£ÁêÜÂÅöÁöÑ‚ÄúÂ∞ÅÂåÖ‚Äù„ÄÇAOPÁ≥ªÁªüÁöÑÁúüÊ≠£‰ª∑ÂÄºÂú®‰∫éÁî®ÁÆÄÊ¥ÅÂíåÊ®°ÂùóÂåñÁöÑÊñπÂºèÊåáÂÆöÁ≥ªÁªüË°å‰∏∫„ÄÇ Âπ∂ÂèëÁºñÁ®ãÂπ∂ÂèëÁºñÁ®ãÂæàÈöæÔºåÈùûÂ∏∏Èöæ„ÄÇÂ¶ÇÊûú‰Ω†‰∏çÈÇ£‰πàÁªÜÂøÉÔºåÂ∞±‰ºöÊêûÂá∫‰∏çÂ†™ÂÖ•ÁõÆÁöÑ‰∏úË•øÊù•„ÄÇÁúãÁúã‰ª•‰∏ãÂ∏∏ËßÅÁöÑËø∑ÊÄùÂíåËØØËß£Ôºö Âπ∂ÂèëÊÄªËÉΩÊîπËøõÊÄßËÉΩÂπ∂ÂèëÊúâÊó∂ËÉΩÊîπËøõÊÄßËÉΩÔºå‰ΩÜÂè™Âú®Â§ö‰∏™Á∫øÁ®ãÊàñÂ§ÑÁêÜÂô®‰πãÈó¥ËÉΩÂàÜ‰∫´Â§ßÈáèÁ≠âÂæÖÊó∂Èó¥ÁöÑÊó∂ÂÄôÁÆ°Áî®„ÄÇ‰∫ãÊÉÖÊ≤°ÈÇ£‰πàÁÆÄÂçï„ÄÇ ÁºñÂÜôÂπ∂ÂèëÁ®ãÂ∫èÊó†ÈúÄ‰øÆÊîπËÆæËÆ°‰∫ãÂÆû‰∏äÔºåÂπ∂ÂèëÁÆóÊ≥ïÁöÑËÆæËÆ°ÊúâÂèØËÉΩ‰∏éÂçïÁ∫øÁ®ãÁ≥ªÁªüÁöÑËÆæËÆ°ÊûÅ‰∏çÁõ∏Âêå„ÄÇÁõÆÁöÑ‰∏éÊó∂Êú∫ÁöÑËß£ËóïÂæÄÂæÄÂØπÁ≥ªÁªüÁªìÊûÑ‰∫ßÁîüÂ∑®Â§ßÂΩ±Âìç„ÄÇ Âú®ÈááÁî®WebÊàñEJBÂÆπÂô®ÁöÑÊó∂ÂÄôÔºåÁêÜËß£Âπ∂ÂèëÈóÆÈ¢òÂπ∂‰∏çÈáçË¶ÅÂÆûÈôÖ‰∏äÔºå‰Ω†ÊúÄÂ•Ω‰∫ÜËß£ÂÆπÂô®Âú®ÂÅö‰ªÄ‰πàÔºå‰∫ÜËß£Â¶Ç‰ΩïÂØπ‰ªòÊú¨Á´†ÂêéÊñáÂ∞ÜÊèêÂà∞ÁöÑÂπ∂ÂèëÊõ¥Êñ∞„ÄÅÊ≠ªÈîÅÁ≠âÈóÆÈ¢ò„ÄÇ ‰∏ãÈù¢ÊòØ‰∏Ä‰∫õÊúâÂÖ≥ÁºñÂÜôÂπ∂ÂèëËΩØ‰ª∂ÁöÑ‰∏≠ËÇØËØ¥Ê≥ïÔºö Âπ∂Âèë‰ºöÂú®ÊÄßËÉΩÂíåÁºñÂÜôÈ¢ùÂ§ñ‰ª£Á†Å‰∏äÂ¢ûÂä†‰∏Ä‰∫õÂºÄÈîÄÔºõ Ê≠£Á°ÆÁöÑÂπ∂ÂèëÊòØÂ§çÊùÇÁöÑÔºåÂç≥‰æøÂØπ‰∫éÁÆÄÂçïÁöÑÈóÆÈ¢ò‰πüÊòØÂ¶ÇÊ≠§ÔºõÂπ∂ÂèëÁº∫Èô∑Âπ∂ÈùûÊÄªËÉΩÈáçÁé∞ÔºåÊâÄ‰ª•Â∏∏Ë¢´ÁúãÂÅöÂÅ∂Âèë‰∫ã‰ª∂ËÄåÂøΩÁï•ÔºåÊú™Ë¢´ÂΩìÂÅöÁúüÁöÑÁº∫Èô∑ÁúãÂæÖÔºõ Âπ∂ÂèëÂ∏∏Â∏∏ÈúÄË¶ÅÂØπËÆæËÆ°Á≠ñÁï•ÁöÑÊ†πÊú¨ÊÄß‰øÆÊîπ„ÄÇ Âë≥ÈÅìÂª∫ËÆÆÂëΩÂêçÂ∏∏Èáè‰ª£ÊõøÈ≠îÊúØÊï∞ÂáÜÁ°Æ Áî®ÊµÆÁÇπÊï∞Ë°®Á§∫Ë¥ßÂ∏ÅÂá†Ëøë‰∫éÁäØÁΩ™„ÄÇ Âõ†‰∏∫‰Ω†‰∏çÊÉ≥ÂÅöÂπ∂ÂèëÊõ¥Êñ∞Â∞±ÈÅøÂÖç‰ΩøÁî®ÈîÅÂíå/Êàñ‰∫ãÂä°ÁÆ°ÁêÜÂæÄÂ•ΩÂ§ÑËØ¥‰πüÊòØ‰∏ÄÁßçÊáíÊÉ∞Ë°å‰∏∫„ÄÇÂú®‰ª£Á†Å‰∏≠ÂÅöÂÜ≥ÂÆöÊó∂ÔºåÁ°ÆËÆ§Ëá™Â∑±Ë∂≥Â§üÂáÜÁ°Æ„ÄÇ ÊòéÁ°ÆËá™Â∑±‰∏∫‰ΩïË¶ÅËøô‰πàÂÅöÔºåÂ¶ÇÊûúÈÅáÂà∞ÂºÇÂ∏∏ÊÉÖÂÜµÂ¶Ç‰ΩïÂ§ÑÁêÜ„ÄÇ Âà´ÊáíÂæóÁêÜ‰ºöÂÜ≥ÂÆöÁöÑÂáÜÁ°ÆÊÄß„ÄÇÂ¶ÇÊûú‰Ω†ÊâìÁÆóË∞ÉÁî®ÂèØËÉΩËøîÂõûnullÁöÑÂáΩÊï∞ÔºåÁ°ÆËÆ§Ëá™Â∑±Ê£ÄÊü•‰∫ÜnullÂÄº„ÄÇ Â¶ÇÊûúÊü•ËØ¢‰Ω†ËÆ§‰∏∫ÊòØÊï∞ÊçÆÂ∫ì‰∏≠ÂîØ‰∏ÄÁöÑËÆ∞ÂΩïÔºåÁ°Æ‰øù‰ª£Á†ÅÊ£ÄÊü•‰∏çÂ≠òÂú®ÂÖ∂‰ªñËÆ∞ÂΩï„ÄÇ Â¶ÇÊûúË¶ÅÂ§ÑÁêÜË¥ßÂ∏ÅÊï∞ÊçÆÔºå‰ΩøÁî®Êï¥Êï∞ÔºÅÂπ∂ÊÅ∞ÂΩìÂú∞Â§ÑÁêÜÂõõËàç‰∫îÂÖ•„ÄÇ Â¶ÇÊûúÂèØËÉΩÊúâÂπ∂ÂèëÊõ¥Êñ∞ÔºåÁ°ÆËÆ§‰Ω†ÂÆûÁé∞‰∫ÜÊüêÁßçÈîÅÂÆöÊú∫Âà∂„ÄÇ ‰ª£Á†Å‰∏≠ÁöÑÂê´Á≥äÂíå‰∏çÂáÜÁ°ÆË¶Å‰πàÊòØÊÑèËßÅ‰∏çÂêåÁöÑÁªìÊûúÔºåË¶Å‰πàÊ∫ê‰∫éÊáíÊÉ∞„ÄÇÊó†ËÆ∫ÂéüÂõ†ÊòØ‰ªÄ‰πàÔºåÈÉΩË¶ÅÊ∂àÈô§„ÄÇ ËøîÂõûÂºÇÂ∏∏/** * * @param array $awbnos * @throws Exception|ConnectionTimeOutException * @return array Description */ public function fetchTrace(array $awbnos):array &#123; &#125; php Âà©Áî® phpdoc Âíå php7 ÁâπÊÄßËÉΩÊîØÊåÅËÆ©Ë∞ÉÁî®ËÄÖÊ≥®ÊÑèÂºÇÂ∏∏ÂíåËøîÂõûÂÄºÁöÑÊ≠£Á°ÆÂ§ÑÁêÜ„ÄÇ public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception&#123; &#125; java ÂáΩÊï∞ÂÆö‰πâËØ≠Ê≥ïÂ§©ÁîüÊîØÊåÅ„ÄÇ ÈÅøÂÖçËøáÂ§öÂµåÂ•ó Âü∫Êú¨Ê≥ï Âçï‰∏ÄËÅåË¥£ÔºåË¥ØÂΩªËêΩÂÆû Áü≠„ÄÅÂ∞ëÔºåÁ±ª1000Ë°åÔºåÊñπÊ≥ï120Ë°åÔºåÂèÇÊï∞3‰∏™Ôºå‰∏•Ê†ºË¶ÅÊ±Ç„ÄÇ Ê∂àÁÅ≠mess,Êúâ1‰∏™Â∞±‰ºöÊúâÊó†Êï∞‰∏™ Later equals never Á®çÂêéÁ≠â‰∫éÊ∞∏‰∏çÔºåÂà´Á≠âÁé∞Âú®Â∞±ÂéªÂÅö ÊâìÁ£®ÔºåÂàÜËß£ÂáΩÊï∞„ÄÅ‰øÆÊîπÂêçÁß∞„ÄÅÊ∂àÈô§ÈáçÂ§ç„ÄÇÁº©Áü≠ÂíåÈáçÊñ∞ÂÆâÁΩÆÊñπÊ≥ï„ÄÇÊúâÊãÜÊï£Á±ª„ÄÇÂêåÊó∂‰øùÊåÅÊµãËØïÈÄöËøá„ÄÇ‰øùÊåÅÈáçÊûÑ„ÄÅÁÉ≠Áà±ÈáçÊûÑ„ÄÅÊ≥®ÊÑèÂçïÂÖÉÊµãËØïÂõûÂΩíÊµãËØï Êé®ËçêÈòÖËØª „ÄäClean Code„Äã http://kaelzhang81.github.io/2020/04/10/ËØë-ËÆæËÆ°È´òË¥®ÈáèËΩØ‰ª∂/","categories":[],"tags":[{"name":"ÊäÄÊúØÂ∑•Á®ã","slug":"ÊäÄÊúØÂ∑•Á®ã","permalink":"http://visonforcoding.xyz/tags/%E6%8A%80%E6%9C%AF%E5%B7%A5%E7%A8%8B/"}]},{"title":"Âà©Áî®PHPMDËÆ©‰Ω†ÁöÑphp‰ª£Á†ÅÊõ¥Âπ≤ÂáÄÊõ¥ÊòìÁª¥Êä§","slug":"php/Âà©Áî®PHPMDËÆ©‰Ω†ÁöÑphp‰ª£Á†ÅÊõ¥Âπ≤ÂáÄÊõ¥ÊòìÁª¥Êä§","date":"2021-07-27T06:01:44.000Z","updated":"2021-11-28T05:55:36.758Z","comments":true,"path":"2021/07/27/php/Âà©Áî®PHPMDËÆ©‰Ω†ÁöÑphp‰ª£Á†ÅÊõ¥Âπ≤ÂáÄÊõ¥ÊòìÁª¥Êä§/","link":"","permalink":"http://visonforcoding.xyz/2021/07/27/php/%E5%88%A9%E7%94%A8PHPMD%E8%AE%A9%E4%BD%A0%E7%9A%84php%E4%BB%A3%E7%A0%81%E6%9B%B4%E5%B9%B2%E5%87%80%E6%9B%B4%E6%98%93%E7%BB%B4%E6%8A%A4/","excerpt":"PHPMD - PHP Mess Detector Á≠â‰ª∑‰∫éjavaÂ∑•ÂÖ∑PMDÔºåËÉΩÂ§üÂØπphp Ê∫ê‰ª£Á†ÅËøõË°åÂ¶Ç‰∏ãÈóÆÈ¢òÊ£ÄÊµãÔºö ÂèØËÉΩÁöÑbug Ê¨†‰Ω≥ÁöÑ‰ª£Á†Å Ëøá‰∫éÂ§çÊùÇÁöÑË°®ËææÂºè Êú™‰ΩøÁî®ÁöÑÊñπÊ≥ï„ÄÅÂèòÈáè„ÄÅÂèÇÊï∞„ÄÅÂ±ûÊÄß ÊúÄÊñ∞ÁâàÊú¨ÂèëÂ∏É‰∫é 2021/05/11","text":"PHPMD - PHP Mess Detector Á≠â‰ª∑‰∫éjavaÂ∑•ÂÖ∑PMDÔºåËÉΩÂ§üÂØπphp Ê∫ê‰ª£Á†ÅËøõË°åÂ¶Ç‰∏ãÈóÆÈ¢òÊ£ÄÊµãÔºö ÂèØËÉΩÁöÑbug Ê¨†‰Ω≥ÁöÑ‰ª£Á†Å Ëøá‰∫éÂ§çÊùÇÁöÑË°®ËææÂºè Êú™‰ΩøÁî®ÁöÑÊñπÊ≥ï„ÄÅÂèòÈáè„ÄÅÂèÇÊï∞„ÄÅÂ±ûÊÄß ÊúÄÊñ∞ÁâàÊú¨ÂèëÂ∏É‰∫é 2021/05/11 https://phpmd.org/about.html Âü∫Êú¨‰ΩøÁî®phpmd /path/to/source text codesize Á¨¨‰∏Ä‰∏™ÂèÇÊï∞ Ë¶ÅÊ£ÄÊµãÁöÑ‰ª£Á†ÅÂú∞ÂùÄ Á¨¨‰∫å‰∏™ÂèÇÊï∞ÊåáÂÆöËæìÂá∫Ê£ÄÊµãÁªìÊûúÁöÑÊ†ºÂºè Á¨¨‰∏â‰∏™ÂèÇÊï∞ÊòØÊåáÂÆöÁöÑËßÑÂàôÈõÜ ËßÑÂàôÈõÜÂêà Clean Code: ‰∏Ä‰∫õÂåÖÂê´clean codeÁöÑËßÑÂàôÈõÜÂêàÔºåÂåÖÊã¨Èù¢ÂêëÂØπË±°ËÆæËÆ°ÁöÑ SOLIDÔºàÂçï‰∏ÄÂäüËÉΩ„ÄÅÂºÄÈó≠ÂéüÂàô„ÄÅÈáåÊ∞èÊõøÊç¢„ÄÅÊé•Âè£ÈöîÁ¶ª‰ª•Âèä‰æùËµñÂèçËΩ¨ÔºâÂéüÂàô„ÄÇ Code Size : ÊúâÂÖ≥‰ª£Á†ÅÂ§ßÂ∞èÁöÑÁõ∏ÂÖ≥ÈóÆÈ¢òÔºå‰æãÂ¶ÇË°åÊï∞Á≠â Controversial : ÂÖ∑Êúâ‰∫âËÆÆÁöÑËßÑÂàôÔºåÂèØ‰ª•‰∏çÂèÇËÄÉÊ≠§ËßÑÂàô Design Ôºö ËÆæËÆ°ËßÑÂàôÔºåÂåÖÂê´Á±ª‰æùËµñÊï∞ÈáèÁ≠âÁ≠â Naming: ÂëΩÂêçËßÑÂàô Unused Code: Êú™‰ΩøÁî®‰ª£Á†ÅËßÑÂàô ÂÖ≥‰∫éclean code Êúâ‰∏ÄÊú¨‰π¶ÂêçÂ∞±Âè´ &lt;&lt; Clean Code &gt;&gt;,‰∏™‰∫∫ËØª‰∏ãÊù•ÊÑüÂèóÈ¢áÊ∑±„ÄÇ ËøôÈáå‰∏ªË¶Å‰ªãÁªç‰∏Ä‰∫õÊàëËÆ§‰∏∫ÈùûÂ∏∏ÊúâÂøÖË¶ÅÊ≥®ÊÑèÁöÑËßÑÂàô Clean CodeBooleanArgumentFlagÂ∏ÉÂ∞îÊ†áÂøóÂèÇÊï∞ËøùÂèçÂçï‰∏ÄË¥£‰ªªÂéüÂàôÔºàSRPÔºâ,ÂèØ‰ª•Â∞ÜÊ≠§Á±ªÊñπÊ≥ï‰∏ÄÊãÜ‰∏∫‰∫å„ÄÇ class Foo &#123; public function drink($thirsty &#x3D; true) &#123; if($thirsty)&#123; &#x2F;&#x2F; Âñù2ÊùØ &#125;else&#123; &#x2F;&#x2F; Âñù‰∏ÄÊùØ &#125; &#125; &#125; class Foo &#123; public function drinkThirsty() &#123; // Âñù2ÊùØ &#125; public function drinkUnThirsty() &#123; // Âñù2ÊùØ &#125; &#125; ElseExpressionclass Foo &#123; public function bar($flag) &#123; if ($flag) &#123; // one branch &#125; else &#123; // another branch &#125; &#125; &#125; ÂÉèËøôÊ†∑ÁöÑif elseÁöÑË°®ËææÂºèÂÖ∂ÂÆûÊòØÊ≤°ÂøÖË¶ÅÁöÑÔºåÂèØÈÄöËøá‰∏âÂÖÉË°®ËææÂºè„ÄÅÊãÜÂàÜÊñπÊ≥ïÊàñËÄÖÂèØËÉΩÁöÑÊÉÖÂÜµ‰∏ãÂÖàreturnÊù•ËßÑÈÅøËøôÁ±ªÈóÆÈ¢òÔºå‰ª•Â∞Ü‰ª£Á†ÅÁÆÄÂçïÊàñÂ¢ûÂä†ÂèØËØªÊÄß„ÄÇ class Foo &#123; public function bar($flag) &#123; if ($flag) &#123; // one branch return &#125; // another branch &#125; &#125; Code SizeCyclomaticComplexityÂúàÂ§çÊùÇÂ∫¶ÔºåÁî®Êù•Ë°°Èáè‰ª£Á†ÅÂ§çÊùÇÂ∫¶ÁöÑ‰∏Ä‰∏™ËÆ°ÁÆóËßÑÂàô„ÄÇÂ§çÊùÇÂ∫¶Ë∂äÈ´ò‰ª£Ë°®‰ª£Á†ÅÂèØËØªÊÄß„ÄÅÂèØÁª¥Êä§ÊÄßË∂äÂ∑ÆÔºåÊòìÈîôÊÄßÊõ¥È´ò„ÄÅÈõÜÊàêÊµãËØïÊõ¥Èöæ„ÄÇ ÁÇπËæπËÆ°ÁÆóÊ≥ï ‰∏äËø∞Ë°®ËææÂºèÁöÑÂúàÂ§çÊùÇÂ∫¶‰∏∫ e = 10 n = 8 Cyclomatic Complexity = 10 - 8 + 2 = 4 ËÆ°ÁÆóÂÖ¨Âºè‰∏∫Ôºö V(G) = E - N + 2 ÂÖ∂‰∏≠ÔºåeË°®Á§∫ÊéßÂà∂ÊµÅÂõæ‰∏≠ËæπÁöÑÊï∞ÈáèÔºånË°®Á§∫ÊéßÂà∂ÊµÅÂõæ‰∏≠ËäÇÁÇπÁöÑÊï∞Èáè„ÄÇ Êõ¥Â§öÂèØÂèÇËÄÉ http://kaelzhang81.github.io/2017/06/18/ËØ¶Ëß£ÂúàÂ§çÊùÇÂ∫¶/ ExcessiveMethodLengthÊñπÊ≥ïÈïøÂ∫¶ÔºåËØ•ËßÑÂàôÊúâ2‰∏™Â±ûÊÄß minimum ÊúÄÂ∞èÈôêÂÆöÂÄº ÈªòËÆ§ 100 ignore-whitespace ÊòØÂê¶ÂøΩÁï•Á©∫ÁôΩË°å ÈªòËÆ§ false ExcessiveClassLengthÁ±ªÈïøÂ∫¶ minimum ÊúÄÂ∞èÈôêÂÆöÂÄº ÈªòËÆ§ 1000 ignore-whitespace ÊòØÂê¶ÂøΩÁï•Á©∫ÁôΩË°å ÈªòËÆ§ false ExcessiveParameterListÂèÇÊï∞‰∏™Êï∞ÈôêÂÆö minimum 10ÔºåÊ†πÊçÆ„Ääclean code„Äã‰∏Ä‰π¶ÁöÑËØ¥Ê≥ïÔºåËøô‰∏™ÂÄºÂ∫îËØ•ÈôêÂÆö‰∏∫3 ExcessivePublicCountÂÖ¨ÂÖ±ÊñπÊ≥ï„ÄÅÂÖ¨ÂÖ±Â±ûÊÄß minimum 45 TooManyFieldsmaxfields 15 TooManyMethodsmaxmethods 25ignorepattern (^(set|get))i TooManyPublicMethodsmaxmethods 10 The method count reporting thresholdignorepattern (^(set|get))i Ëá™ÂÆö‰πâËßÑÂàôÊúâÁöÑÈªòËÆ§ËßÑÂàô‰πüËÆ∏Âπ∂‰∏çËÉΩÊª°Ë∂≥Ëá™Ë∫´ÈúÄÊ±ÇÈúÄÂÅöËàçÂºÉÊàñ‰øÆÊîπ„ÄÇ‰æãÂ¶ÇÂáΩÊï∞ÂèÇÊï∞Êï∞ÔºåÂú®„Ääclean code„Äã‰∏Ä‰π¶‰∏≠ÂÆö‰πâÁöÑÊòØÊúÄÂ§ö‰∏∫3ÔºåËÄåphpmdÈªòËÆ§ÊåáÂÆöÁöÑÊòØ10. 10‰∏™Á°ÆÂÆûÂ∑≤ÁªèÈùûÂ∏∏ÈöæÁúã‰∫ÜÔºåÊÉ≥Ë±°‰Ω†ÂéªË∞ÉÁî®‰∏Ä‰∏™Êúâ10‰∏™ÂèÇÊï∞ÁöÑÂáΩÊï∞Ôºå‰Ω†‰∏ÄÂÆö‰ºöÂêêÊßΩÊáµÈÄºÁöÑ„ÄÇ Â•ΩÂú®phpmdËøô‰∫õÈÉΩÂèØ‰ª•‰øÆÊîπÔºåÂ¶Ç‰∏ãÔºö ÂºïÂÖ•unusedcodeËßÑÂàôÈõÜ ÂºïÂÖ•codesize,Âπ∂ÊöÇÊó∂ÊéíÈô§NPathComplexityÂíåCyclomaticComplexityËøô‰∏§‰∏™ÁêÜËß£Ëµ∑Êù•Êúâ‰∏ÄÂÆöÂõ∞ÈöæÁöÑËßÑÂàô„ÄÇËØöÁÑ∂CyclomaticComplexityÂú®Â∫¶ÈáèÂ§çÊùÇÂ∫¶ÂçÅÂàÜÊúâÊïàÔºå‰ΩÜËã•‰Ω†ÁöÑÊâÄÊúâÂáΩÊï∞Â∑≤ÁªèÊª°Ë∂≥ExcessiveMethodLengthÂ∑≤ÁªèËøõÊ≠•ÂæàÂ§ß‰∫ÜÔºåÊâÄ‰ª•‰∏ÄÊ≠•Ê≠•Êù•„ÄÇ ‰øÆÊîπExcessiveParameterList,ËÆ©ÈôêÂÆöÂÄº‰∏∫3. ‰øÆÊîπExcessiveMethodLengthÂíåExcessiveClassLength,ÂøΩÁï•Á©∫ÁôΩË°å ÊéíÈô§StaticAccessËßÑÂàô &lt;?xml version=\"1.0\"?> &lt;ruleset name=\"My first PHPMD rule set\" xmlns=\"http://pmd.sf.net/ruleset/1.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://pmd.sf.net/ruleset/1.0.0 http://pmd.sf.net/ruleset_xml_schema.xsd\" xsi:noNamespaceSchemaLocation=\" http://pmd.sf.net/ruleset_xml_schema.xsd\"> &lt;description> My custom rule set that checks my code... &lt;/description> &lt;rule ref=\"rulesets/unusedcode.xml\" /> &lt;rule ref=\"rulesets/codesize.xml\"> &lt;exclude name=\"ExcessiveParameterList\" /> &lt;exclude name=\"NPathComplexity\"/> &lt;exclude name=\"CyclomaticComplexity\"/> &lt;/rule> &lt;rule ref=\"rulesets/codesize.xml/ExcessiveParameterList\"> &lt;properties> &lt;property name=\"minimum\"> &lt;value> 3 &lt;/value> &lt;/property> &lt;/properties> &lt;/rule> &lt;rule ref=\"rulesets/codesize.xml/ExcessiveClassLength\"> &lt;properties> &lt;property name=\"ignore-whitespace\"> &lt;value> true &lt;/value> &lt;/property> &lt;/properties> &lt;/rule> &lt;rule ref=\"rulesets/codesize.xml/ExcessiveMethodLength\"> &lt;properties> &lt;property name=\"ignore-whitespace\"> &lt;value> true &lt;/value> &lt;/property> &lt;/properties> &lt;/rule> &lt;rule ref=\"rulesets/cleancode.xml\"> &lt;exclude name=\"StaticAccess\" /> &lt;/rule> &lt;/ruleset>","categories":[],"tags":[{"name":"PHP","slug":"PHP","permalink":"http://visonforcoding.xyz/tags/PHP/"}]},{"title":"Áî®phpunitËøõË°åÂçïÂÖÉÊµãËØï","slug":"php/Áî®phpunitËøõË°åÂçïÂÖÉÊµãËØï","date":"2021-07-23T01:48:24.000Z","updated":"2021-10-30T02:59:33.281Z","comments":true,"path":"2021/07/23/php/Áî®phpunitËøõË°åÂçïÂÖÉÊµãËØï/","link":"","permalink":"http://visonforcoding.xyz/2021/07/23/php/%E7%94%A8phpunit%E8%BF%9B%E8%A1%8C%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/","excerpt":"ÊúÄËøëËØª‰∫Ü‰∏ÄÊú¨‰π¶„Ääclean code„Äã„ÄÇÊ∑±ÊúâÊÑüÊÇüÔºåÊÑüËßâÈùûÂ∏∏Êé•Â∫ïÊ∞îÔºåËÆ≤Âà∞‰∫ÜÊó•Â∏∏ÁºñÁ†Å‰∏≠ÁúüÊ≠£ÈÅáÂà∞ÁöÑÂõ∞Êâ∞„ÄÇÂ§ßËá¥ÊàëÊÄªÁªì‰∏ãÂ∞±ÊòØË¶ÅÂÅöÂá†‰ª∂‰∫ãÔºö ÈáçÊûÑÔºåÂÆöÊúüÈáçÊûÑÔºå‰øùÊåÅÈáçÊûÑ clean code,ÁºñÂÜôÊï¥Ê¥Å„ÄÅÊòìÁª¥Êä§ÁöÑ‰ª£Á†Å ÂçïÂÖÉÊµãËØï Êú¨ÁØáÊàë‰ª¨ËÆ≤‰∏ãÂ¶Ç‰ΩïÂà©Áî®phpunitËøõË°åÂçïÂÖÉÊµãËØï","text":"ÊúÄËøëËØª‰∫Ü‰∏ÄÊú¨‰π¶„Ääclean code„Äã„ÄÇÊ∑±ÊúâÊÑüÊÇüÔºåÊÑüËßâÈùûÂ∏∏Êé•Â∫ïÊ∞îÔºåËÆ≤Âà∞‰∫ÜÊó•Â∏∏ÁºñÁ†Å‰∏≠ÁúüÊ≠£ÈÅáÂà∞ÁöÑÂõ∞Êâ∞„ÄÇÂ§ßËá¥ÊàëÊÄªÁªì‰∏ãÂ∞±ÊòØË¶ÅÂÅöÂá†‰ª∂‰∫ãÔºö ÈáçÊûÑÔºåÂÆöÊúüÈáçÊûÑÔºå‰øùÊåÅÈáçÊûÑ clean code,ÁºñÂÜôÊï¥Ê¥Å„ÄÅÊòìÁª¥Êä§ÁöÑ‰ª£Á†Å ÂçïÂÖÉÊµãËØï Êú¨ÁØáÊàë‰ª¨ËÆ≤‰∏ãÂ¶Ç‰ΩïÂà©Áî®phpunitËøõË°åÂçïÂÖÉÊµãËØï ÂÆâË£ÖËøôÈáå‰∏ªË¶ÅËØ¥Êòé‰∏ãÂÆâË£ÖÁöÑÁâàÊú¨ÈóÆÈ¢òÔºåÊúÄÊñ∞Áâàphpunit-latestÁõÆÂâç‰æùËµñphp7.4. ‰ΩÜÊòØÊàë‰ª¨Á∫ø‰∏äÁâàÊú¨‰ªçÁÑ∂ÊòØphp7.2,Âõ†Ê≠§Êàë‰ª¨ÈúÄË¶ÅÂÆâË£ÖÊóßÁöÑÁâàÊú¨. https://phpunit.de/announcements/phpunit-8.html ‰ªéËøô‰∏™ÈìæÊé•ËÉΩÊâæÂà∞phpunit-8„ÄÇ ÂÆâË£ÖÁöÑÊñπÂºèÊúâ2ÁßçÔºåPHAR Âíå composerÔºå‰∏§ÁßçÊñπÂºèÈÉΩÂèØ‰ª•ÂÖ®Â±ÄÂÆâË£Ö„ÄÇ https://phpunit.readthedocs.io/zh_CN/latest/installation.html#installation-requirements ÂÆòÊñπÁöÑÊïôÁ®ãÊñáÊ°£Èáå‰∏çÊé®ËçêËøõË°åÂÖ®Â±ÄÂÆâË£Ö„ÄÇ ËØ∑Ê≥®ÊÑèÔºåÂπ∂‰∏çÊé®ËçêÂÖ®Â±ÄÂÆâË£Ö PHPUnitÔºåÊØîÂ¶ÇËØ¥ÊîæÂú® /usr/bin/phpunit Êàñ /usr/local/bin/phpunit„ÄÇÁõ∏ÂèçÔºåPHPUnit Â∫îËØ•‰Ωú‰∏∫È°πÁõÆÊú¨Âú∞‰æùËµñÈ°πËøõË°åÁÆ°ÁêÜ„ÄÇ ‰ΩÜÊòØÊàëËøòÊòØÈÄâÊã©ÂÖ®Â±ÄÂÆâË£ÖÔºåÂõ†‰∏∫‰∏çÊÉ≥Â∞ÜÊú¨Âú∞Â§™Â§ö‰æùËµñ„ÄÇ ‰ΩøÁî®IDEÊèêÁ§∫&lt;?php declare(strict_types=1); use PHPUnit\\Framework\\TestCase; final class RedisCacheTest extends TestCase &#123; public function testSet(): void &#123; $res = \\Hll\\Cache\\Cache::set('foo', date('Y-m-d H:i:s'),10); $this->assertTrue($res); &#125; &#125; ËøôÊòØÊàëÁöÑ‰∏Ä‰∏™ÊµãËØïÁî®‰æãËÑöÊú¨ÔºåÊµãËØïËÑöÊú¨Á±ªÈúÄË¶ÅÁªßÊâøTestCase. Áî±‰∫éÊàëÁöÑÂÆâË£ÖÊñπÂºèÂπ∂‰∏çÊòØÊú¨Âú∞È°πÁõÆÂÆâË£ÖÔºåÊâÄ‰ª•Âú®ide‰∏ç‰ºöÊèêÁ§∫TestCaseÁöÑÁõ∏ÂÖ≥ÊñπÊ≥ï„ÄÇËøôÂØπ‰∫éÊù•ËØ¥ÊòØ‰∏çËÉΩÂÆπÂøçÁöÑÔºå‰∏çËøáÂ•ΩÂú®IDEËÉΩÈ¢ùÂ§ñÁöÑÈÖçÁΩÆÂºïÂÖ•È°πÁõÆÂ§ñÁöÑÊñá‰ª∂ËøõË°åÊèêÁ§∫„ÄÇ Â∑•Á®ãÁõÆÂΩïÂÜçÊù•ÁúãÁúãÂ∑•Á®ãÁõÆÂΩïÁªìÊûÑ Âú®ÊàëÁºñÂÜôÁöÑ‰∏Ä‰∏™cacheÁªÑ‰ª∂Â∫ì‰∏≠ src‰Ωú‰∏∫Ê∫ê‰ª£Á†ÅÁõÆÂΩï tests‰Ωú‰∏∫ÊµãËØïÁî®‰æãÁõÆÂΩï bootstrap.phpÊòØphpunitÁöÑÂêØÂä®Âä†ËΩΩÊñá‰ª∂ÔºåÁî®‰∫éÂÅö‰∫õÂÖ®Â±ÄÁöÑÂàùÂßãÂåñÂä®‰ΩúÔºåÊØîÂ¶ÇÂä†ËΩΩautoload. ÊâßË°åÊµãËØïphpunit --bootstrap tests/bootstrap.php --verbose tests/case ËØ•ÂëΩ‰ª§ÊòØÊâßË°åÊµãËØï tests/case‰∏ãÁöÑÊâÄÊúâÊµãËØïÁî®‰æãÊñá‰ª∂ÔºåÂΩìÁÑ∂‰Ω†‰πüÂèØ‰ª•ÂÖ∑‰ΩìÂà∞Âè™ÊâßË°åÂçï‰∏™Êñá‰ª∂„ÄÇ --bootstrap Âä†ËΩΩÂêØÂä®Êñá‰ª∂ --colors ÂΩ©Ëâ≤ËæìÂá∫ --debug ËæìÂá∫Ë∞ÉËØï‰ø°ÊÅØÔºå‰æãÂ¶ÇÂΩì‰∏Ä‰∏™ÊµãËØïÂºÄÂßãÊâßË°åÊó∂ËæìÂá∫ÂÖ∂ÂêçÁß∞„ÄÇ --testtox ‰ª•testtoxÊ†ºÂºèÊòæÁ§∫ÊµãËØïÁªìÊûú --configuration„ÄÅ-c ‰ªé XML Êñá‰ª∂‰∏≠ËØªÂèñÈÖçÁΩÆ‰ø°ÊÅØ„ÄÇ Â¶ÇÊûúphpunit.xml Êàñ phpunit.xml.distÔºàÊåâÊ≠§È°∫Â∫èÔºâÂ≠òÂú®‰∫éÂΩìÂâçÂ∑•‰ΩúÁõÆÂΩïÂπ∂‰∏îÊú™‰ΩøÁî® --configurationÔºåÂ∞ÜËá™Âä®‰ªéÊ≠§Êñá‰ª∂‰∏≠ËØªÂèñÈÖçÁΩÆ„ÄÇ","categories":[],"tags":[{"name":"php","slug":"php","permalink":"http://visonforcoding.xyz/tags/php/"}]},{"title":"Â≠¶‰π†ÁºñÂÜôphpÊãìÂ±ï","slug":"php/Â≠¶‰π†ÁºñÂÜôphpÊãìÂ±ï","date":"2021-07-07T07:10:27.000Z","updated":"2021-10-30T02:59:33.281Z","comments":true,"path":"2021/07/07/php/Â≠¶‰π†ÁºñÂÜôphpÊãìÂ±ï/","link":"","permalink":"http://visonforcoding.xyz/2021/07/07/php/%E5%AD%A6%E4%B9%A0%E7%BC%96%E5%86%99php%E6%8B%93%E5%B1%95/","excerpt":"","text":"ÁõÆÁöÑ‰∏∫‰ªÄ‰πàË¶ÅÂ≠¶‰π†ÁºñÂÜôphpÊãìÂ±ïÔºü 1.ÁõÆÂâçÂ∏ÇÈù¢‰∏äÊúâÊï∞ÊçÆÂ∫ìÊàñ‰∏≠Èó¥‰ª∂Êó†phpÈ©±Âä®2.ÊúâËá™Â∑±ÁöÑÂÖ¨ÂÖ±ÁªÑ‰ª∂ÊàñÂáΩÊï∞,ËôΩÁÑ∂ÂèØ‰ª•‰ΩøÁî®composerÔºå‰∏∫‰∫ÜÊèêÂçáÊÄßËÉΩÊõø‰ª£composerÂåÖ3.‰∏∫‰∫ÜÂ≠¶‰π†phpÂÜÖÊ†∏ÂéüÁêÜÊàñÂÖ∂‰ªñÊãìÂ±ïÁöÑÂÜÖÈÉ®ÂÆûÁé∞ÂéüÁêÜ hello,world1.Ê∫êÁ†Å‰∏ãËΩΩ wget https://www.php.net/distributions/php-7.2.19.tar.bz2 tar -xvf php-7.2.19.tar.bz2 2.Â¢ûÂä†ÂáΩÊï∞Â£∞Êòé vim php_vison.h # Âú®ÂÖ∂‰∏≠Â¢ûÂä† PHP_FUNCTION(vison_print); vim vison.c # Â∞ÜÂ¶Ç‰∏ã‰ª£Á†Å‰∏≠ÁöÑPHP_FEÂíåPHP_FE_END‰∏≠Âä†ÂÖ•‰∏ãÈù¢‰ª£Á†ÅÔºàËøôÁöÑ‰ª£Á†ÅÊòØÂ∞ÜÂáΩÊï∞ÊåáÈíàÊ≥®ÂÜåÂà∞ZendÂºïÊìéÔºâ PHP_FE(vison_print, NULL) 3.ÂáΩÊï∞ÂÆö‰πâ vim vison.c Âú®ÊúÄÂêéÂä†‰∏äÂàõÂª∫ÊâßË°åÊñπÊ≥ïvison_print PHP_FUNCTION(vison_print) &#123; php_printf(\"Hello vison!\\n\"); RETURN_TRUE; &#125; 4.ÁºñËØë phpize .&#x2F;configure &amp;&amp; make &amp;&amp; make install # ÁÑ∂ÂêéÂ∞ÜÁîüÊàêÁöÑvison.soÊîæÂÖ•ÈÖçÁΩÆ vim &#x2F;etc&#x2F;php.ini extension&#x3D;vison.so #ÁÑ∂ÂêéËæìÂÖ•php -mÊü•ÁúãÈÖçÁΩÆ 4.È™åËØÅ php -r \"vison_print();\"","categories":[],"tags":[{"name":"php","slug":"php","permalink":"http://visonforcoding.xyz/tags/php/"}]},{"title":"RabbitMQ‰ªãÁªçÂíåÂú∫ÊôØ‰ΩøÁî®","slug":"RabbitMQ‰ªãÁªçÂíåÂú∫ÊôØ‰ΩøÁî®","date":"2021-06-25T01:28:32.000Z","updated":"2021-11-28T05:58:42.232Z","comments":true,"path":"2021/06/25/RabbitMQ‰ªãÁªçÂíåÂú∫ÊôØ‰ΩøÁî®/","link":"","permalink":"http://visonforcoding.xyz/2021/06/25/RabbitMQ%E4%BB%8B%E7%BB%8D%E5%92%8C%E5%9C%BA%E6%99%AF%E4%BD%BF%E7%94%A8/","excerpt":"ÂÆâË£Översion: '3.1' services: rabbitmq-manger: image: rabbitmq:3-management restart: always ports: - 5672:5672 - 8091:15672 ‰ΩøÁî®dockerËøõË°åÂø´ÈÄüÂÆâË£Ö ÂéÜÂè≤ 2007Âπ¥8ÊúàÔºåRabbitÂÖ¨Âè∏ÂèëË°å‰∫Ü RabbitMQ 1.1.0. 2009Âπ¥8ÊúàÔºåVMwareÂá∫ËµÑ4.2‰∫øÁæéÂÖÉÊî∂Ë¥≠‰∫ÜSpringSource[9]ÔºåÂπ∂Âú®‰∏ÄÊÆµÊó∂Èó¥ÂÜÖ‰Ωú‰∏∫VMwareÁöÑ‰∏Ä‰∏™Áã¨Á´ãÁöÑÈÉ®Èó®ÔºõÂÖ¨Âè∏ÂéüÊúâÁöÑÂïÜ‰∏ö‰∫ßÂìÅ‰ª•vFabricÂ∫îÁî®Â•ó‰ª∂Âêç‰πâÂèëÂîÆ„ÄÇ‰πãÂêéSpringSourceÂèàÊé•ËøûÊî∂Ë¥≠‰∫ÜRabbitMQ[10]„ÄÅRedis[11]ÂíåGemstone[12]„ÄÇÈô§RedisÂ§ñÔºåÂÆÉ‰ª¨ÁöÑ‰∫ßÂìÅ‰πüÊàê‰∏∫‰∫ÜvFabricÂ∫îÁî®Â•ó‰ª∂ÁöÑ‰∏ÄÈÉ®ÂàÜ„ÄÇ ‰Ω†‰ºöÂèëÁé∞‰∏Ä‰∏™ÊúâË∂£ËÄåËØßÂºÇÁöÑ‰∫ãÂÆûÔºåVMware Âíå Spring „ÄÅRabbitMQ„ÄÅRedisËøô‰∫õÂ§ßÂêçÈºéÈºéÁöÑÊäÄÊúØÊòØÂêåÂ±û‰∏ÄÂÆ∂ÂÖ¨Âè∏„ÄÇËÄå ËëóÂêçÁöÑ SpringËÉåÂêéÁöÑSpringSourceÂÖ¨Âè∏‰∏ªË¶Å‰ª•ÂüπËÆ≠ÂíåÂí®ËØ¢ÁõàÂà©„ÄÇ","text":"ÂÆâË£Översion: '3.1' services: rabbitmq-manger: image: rabbitmq:3-management restart: always ports: - 5672:5672 - 8091:15672 ‰ΩøÁî®dockerËøõË°åÂø´ÈÄüÂÆâË£Ö ÂéÜÂè≤ 2007Âπ¥8ÊúàÔºåRabbitÂÖ¨Âè∏ÂèëË°å‰∫Ü RabbitMQ 1.1.0. 2009Âπ¥8ÊúàÔºåVMwareÂá∫ËµÑ4.2‰∫øÁæéÂÖÉÊî∂Ë¥≠‰∫ÜSpringSource[9]ÔºåÂπ∂Âú®‰∏ÄÊÆµÊó∂Èó¥ÂÜÖ‰Ωú‰∏∫VMwareÁöÑ‰∏Ä‰∏™Áã¨Á´ãÁöÑÈÉ®Èó®ÔºõÂÖ¨Âè∏ÂéüÊúâÁöÑÂïÜ‰∏ö‰∫ßÂìÅ‰ª•vFabricÂ∫îÁî®Â•ó‰ª∂Âêç‰πâÂèëÂîÆ„ÄÇ‰πãÂêéSpringSourceÂèàÊé•ËøûÊî∂Ë¥≠‰∫ÜRabbitMQ[10]„ÄÅRedis[11]ÂíåGemstone[12]„ÄÇÈô§RedisÂ§ñÔºåÂÆÉ‰ª¨ÁöÑ‰∫ßÂìÅ‰πüÊàê‰∏∫‰∫ÜvFabricÂ∫îÁî®Â•ó‰ª∂ÁöÑ‰∏ÄÈÉ®ÂàÜ„ÄÇ ‰Ω†‰ºöÂèëÁé∞‰∏Ä‰∏™ÊúâË∂£ËÄåËØßÂºÇÁöÑ‰∫ãÂÆûÔºåVMware Âíå Spring „ÄÅRabbitMQ„ÄÅRedisËøô‰∫õÂ§ßÂêçÈºéÈºéÁöÑÊäÄÊúØÊòØÂêåÂ±û‰∏ÄÂÆ∂ÂÖ¨Âè∏„ÄÇËÄå ËëóÂêçÁöÑ SpringËÉåÂêéÁöÑSpringSourceÂÖ¨Âè∏‰∏ªË¶Å‰ª•ÂüπËÆ≠ÂíåÂí®ËØ¢ÁõàÂà©„ÄÇ Ê¶ÇÂøµ RabbitMQ is a message broker: it accepts and forwards messages. You can think about it as a post office: when you put the mail that you want posting in a post box, you can be sure that Mr. or Ms. Mailperson will eventually deliver the mail to your recipient. In this analogy, RabbitMQ is a post box, a post office and a postman. ËøôÊòØÂÆòÁΩëÊúÄÂºÄÂ§¥ÁöÑ‰∏ÄÊÆµ‰ªãÁªç,ËøôÈáåÂ∞ÜRabbitMQÁ±ªÊØî‰∏∫ÈÇÆÂ±ÄÊ¥æ‰ø°Âú∫ÊôØÔºåRabbitMQÊâÆÊºîÈÇÆÁÆ±„ÄÅÈÇÆÂ±Ä„ÄÅÈÇÆÂ∑ÆÁöÑËßíËâ≤„ÄÇËøôÈáå‰πüÁúãÂà∞‰∫Ü broker Ëøô‰∏™ÂçïËØçÔºåKafka‰πüÊúâbrokerËøô‰∏™Ê¶ÇÂøµÔºåËøôÈáåÊàë‰ª¨ÊöÇ‰∏îÂ∞ÜÂÆÉÁêÜËß£‰∏∫‰ª£ÁêÜÁöÑÊÑèÊÄù„ÄÇ Áîü‰∫ßËÄÖ producerÁÆÄÂçïÁêÜËß£Â∞±ÊòØÂèëÈÄÅÊ∂àÊÅØÁöÑÁ®ãÂ∫è Ê∂àË¥πËÄÖ consumer ÈòüÂàó queue Ê∂àÊÅØÂ≠òÂÇ®‰∫équeueÂΩì‰∏≠ÔºåÂ§ö‰∏™producer ÂèØÂæÄ‰∏Ä‰∏™ queueÂèëÈÄÅÊ∂àÊÅØ ‰∫§Êç¢Êú∫ Exchange ‰∫§Êç¢Êú∫ÊòØÁî®Êù•ÂèëÈÄÅÊ∂àÊÅØÁöÑAMQPÂÆû‰Ωì„ÄÇ‰∫§Êç¢Êú∫ÊãøÂà∞‰∏Ä‰∏™Ê∂àÊÅØ‰πãÂêéÂ∞ÜÂÆÉË∑ØÁî±Áªô‰∏Ä‰∏™ÊàñÈõ∂‰∏™ÈòüÂàó„ÄÇÂÆÉ‰ΩøÁî®Âì™ÁßçË∑ØÁî±ÁÆóÊ≥ïÊòØÁî±‰∫§Êç¢Êú∫Á±ªÂûãÂíåË¢´Áß∞‰ΩúÁªëÂÆöÔºàbindingsÔºâÁöÑËßÑÂàôÊâÄÂÜ≥ÂÆöÁöÑ(Ëøô‰∏™ÂêéÈù¢‰ºöËÆ≤Âà∞)„ÄÇ Exchange Type direct Áõ¥Ëøû fanout ÊâáÂá∫ topic ‰∏ªÈ¢ò headers Â§¥ Èô§‰∫§Êç¢Êú∫Á±ªÂûãÂ§ñÔºåÂú®Â£∞Êòé‰∫§Êç¢Êú∫Êó∂ËøòÂèØ‰ª•ÈôÑÂ∏¶ËÆ∏Â§öÂÖ∂‰ªñÁöÑÂ±ûÊÄßÔºåÂÖ∂‰∏≠ÊúÄÈáçË¶ÅÁöÑÂá†‰∏™ÂàÜÂà´ÊòØÔºö Name Durability ÔºàÊ∂àÊÅØ‰ª£ÁêÜÈáçÂêØÂêéÔºå‰∫§Êç¢Êú∫ÊòØÂê¶ËøòÂ≠òÂú®Ôºâ Auto-delete ÔºàÂΩìÊâÄÊúâ‰∏é‰πãÁªëÂÆöÁöÑÊ∂àÊÅØÈòüÂàóÈÉΩÂÆåÊàê‰∫ÜÂØπÊ≠§‰∫§Êç¢Êú∫ÁöÑ‰ΩøÁî®ÂêéÔºåÂà†ÊéâÂÆÉÔºâ ArgumentsÔºà‰æùËµñ‰ª£ÁêÜÊú¨Ë∫´Ôºâ public function exchange_declare( $exchange, $type, $passive = false, $durable = false, $auto_delete = true, $internal = false, $nowait = false, $arguments = array(), $ticket = null ) ÊåÅ‰πÖÔºàdurableÔºâ„ÄÅÊöÇÂ≠òÔºàtransientÔºâ„ÄÇÊåÅ‰πÖÂåñÁöÑ‰∫§Êç¢Êú∫‰ºöÂú®Ê∂àÊÅØ‰ª£ÁêÜÔºàbrokerÔºâÈáçÂêØÂêé‰æùÊóßÂ≠òÂú®ÔºåËÄåÊöÇÂ≠òÁöÑ‰∫§Êç¢Êú∫Âàô‰∏ç‰ºöÔºàÂÆÉ‰ª¨ÈúÄË¶ÅÂú®‰ª£ÁêÜÂÜçÊ¨°‰∏äÁ∫øÂêéÈáçÊñ∞Ë¢´Â£∞ÊòéÔºâ„ÄÇÁÑ∂ËÄåÂπ∂‰∏çÊòØÊâÄÊúâÁöÑÂ∫îÁî®Âú∫ÊôØÈÉΩÈúÄË¶ÅÊåÅ‰πÖÂåñÁöÑ‰∫§Êç¢Êú∫„ÄÇ ÈªòËÆ§‰∫§Êç¢Êú∫ ÈÇ£Â∞±ÊòØÊØè‰∏™Êñ∞Âª∫ÈòüÂàóÔºàqueueÔºâÈÉΩ‰ºöËá™Âä®ÁªëÂÆöÂà∞ÈªòËÆ§‰∫§Êç¢Êú∫‰∏äÔºåÁªëÂÆöÁöÑË∑ØÁî±ÈîÆÔºàrouting keyÔºâÂêçÁß∞‰∏éÈòüÂàóÂêçÁß∞Áõ∏Âêå„ÄÇ Áõ¥Ëøû‰∫§Êç¢Êú∫ Direct $channel->queue_bind('hello_queue', 'hello_exchange', 'hello_key'); ÂÆÉÊòØÂ¶Ç‰ΩïÂ∑•‰ΩúÁöÑÔºö Â∞Ü‰∏Ä‰∏™ÈòüÂàóÁªëÂÆöÂà∞Êüê‰∏™‰∫§Êç¢Êú∫‰∏äÔºåÂêåÊó∂Ëµã‰∫àËØ•ÁªëÂÆö‰∏Ä‰∏™Ë∑ØÁî±ÈîÆÔºàrouting keyÔºâ ÂΩì‰∏Ä‰∏™Êê∫Â∏¶ÁùÄË∑ØÁî±ÈîÆ‰∏∫hello_keyÁöÑÊ∂àÊÅØË¢´ÂèëÈÄÅÁªôÁõ¥Ëøû‰∫§Êç¢Êú∫hello_exchangeÊó∂Ôºå‰∫§Êç¢Êú∫‰ºöÊääÂÆÉË∑ØÁî±Áªôhello_queueÁöÑÈòüÂàó„ÄÇ $channel->basic_publish($msg, 'hello_exchange', 'hello_key'); ÊâáÂΩ¢‰∫§Êç¢Êú∫ fanout ÊâáÂûã‰∫§Êç¢Êú∫Ôºàfunout exchangeÔºâÂ∞ÜÊ∂àÊÅØË∑ØÁî±ÁªôÁªëÂÆöÂà∞ÂÆÉË∫´‰∏äÁöÑÊâÄÊúâÈòüÂàóÔºåËÄå‰∏çÁêÜ‰ºöÁªëÂÆöÁöÑË∑ØÁî±ÈîÆ„ÄÇ Â¶ÇÊûúN‰∏™ÈòüÂàóÁªëÂÆöÂà∞Êüê‰∏™ÊâáÂûã‰∫§Êç¢Êú∫‰∏äÔºåÂΩìÊúâÊ∂àÊÅØÂèëÈÄÅÁªôÊ≠§ÊâáÂûã‰∫§Êç¢Êú∫Êó∂Ôºå‰∫§Êç¢Êú∫‰ºöÂ∞ÜÊ∂àÊÅØÁöÑÊã∑Ë¥ùÂàÜÂà´ÂèëÈÄÅÁªôËøôÊâÄÊúâÁöÑN‰∏™ÈòüÂàó„ÄÇ // RabbitFanoutProduce.php $faker = Factory::create('zh_CN'); $connection = new AMQPStreamConnection('192.168.106.179', 5672, 'guest', 'guest'); // ÂàõÂª∫ÈÄöÈÅì $channel = $connection->channel(); $channel->exchange_declare('test.fanout', AMQPExchangeType::FANOUT, false, false, false); $body = $faker->text(20); $msg = new AMQPMessage($body, ['delivery_mode' => AMQPMessage::DELIVERY_MODE_PERSISTENT]); $channel->basic_publish($msg, 'test.fanout'); RabbitFanoutProduce Áîü‰∫ßËÄÖÂÆö‰πâ‰∫Ü‰∏Ä‰∏™test.fanout ‰∫§Êç¢Êú∫Á±ªÂûãÊòØAMQPExchangeType::FANOUT // lmsConsoumer.php $connection = new AMQPStreamConnection('192.168.106.179', 5672, 'guest', 'guest'); // ÂàõÂª∫ÈÄöÈÅì $channel = $connection->channel(); $channel->queue_declare('test.lms', false, false, false); $channel->queue_bind('test.lms', 'test.fanout'); $callback = function ($msg) &#123; echo ' [x] ', $msg->body, \"\\n\"; &#125;; $channel->basic_consume('test.lms', '', false, true, false, false, $callback); while ($channel->is_open()) &#123; $channel->wait(); &#125; lmsConsoumer ËÆ¢ÈòÖ‰∫Ü‰∏Ä‰∏™test.lmsÁöÑÈòüÂàóÂπ∂ÁªëÂÆöÂà∞test.fanout‰∫§Êç¢Êú∫ // omsConsoumer.php $connection = new AMQPStreamConnection('192.168.106.179', 5672, 'guest', 'guest'); // ÂàõÂª∫ÈÄöÈÅì $channel = $connection->channel(); $channel->queue_declare('test.oms', false, false, false,false); $channel->queue_bind('test.oms', 'test.fanout'); $callback = function ($msg) &#123; echo ' [x] ', $msg->body, \"\\n\"; &#125;; $channel->basic_consume('test.oms', '', false, true, false, false, $callback); while ($channel->is_open()) &#123; $channel->wait(); &#125; omsConsoumer ËÆ¢ÈòÖ‰∫Ü‰∏Ä‰∏™test.omsÁöÑÈòüÂàóÂπ∂ÁªëÂÆöÂà∞test.fanout‰∫§Êç¢Êú∫ Á§∫‰æã‰∏≠ÊºîÁ§∫‰∫ÜÔºå‰∏Ä‰∏™Áîü‰∫ßËÄÖÁîü‰∫ßÊ∂àÊÅØÁªô2‰∏™Á≥ªÁªüËÆ¢ÈòÖÊ∂àË¥π„ÄÇ Fanout ÂÖ∏ÂûãÁöÑ‰∏Ä‰∏™Â∫îÁî®Âú∫ÊôØÊòØÂ§ö‰∏™Â∫îÁî®Á≥ªÁªüËÆ¢ÈòÖ‰∏Ä‰∏™Ê∂àÊÅØ‰∫ã‰ª∂„ÄÇ egÔºö ÂÆ¢ÊúçÁ≥ªÁªü„ÄÅËøêËê•Á≥ªÁªü„ÄÅË¥¢Âä°Á≥ªÁªüÂêåÊó∂ËÆ¢ÈòÖËÆ¢ÂçïÁ≥ªÁªüÁöÑËÆ¢ÂçïÁä∂ÊÄÅÂèòÊõ¥‰∫ã‰ª∂„ÄÇ ËøôÊ†∑‰∏çÂêåÁ≥ªÁªüÈÉΩËÉΩÂêÑËá™‰ΩøÁî®ÂêÑËá™ÁöÑÈòüÂàóÂ§ÑÁêÜËÆ¢ÂçïÁöÑÂèòÊõ¥‰∏öÂä°ÈÄªËæë„ÄÇ ÁªÜÂåñ‰∏ãÂú∫ÊôØ‰∏æ‰∏™‰æãÂ≠êÔºö ÂΩìËÆ¢ÂçïÂÆåÁªì order close: ÂÆ¢ÊúçÁ≥ªÁªüÈúÄË¶ÅÁªôÂÆ¢Êà∑ÂèëÈÄÅ‰∏Ä‰∏™ÂÆ¢Êà∑Êª°ÊÑèÂ∫¶Ë∞ÉÊü• ËøêËê•Á≥ªÁªüÈúÄË¶ÅÂèëÈÄÅ‰∏ÄÂº†ÊåâËÆ¢ÂçïÊ∂àË¥πÈáëÈ¢ùÈÖçÊØîÁöÑ‰ºòÊÉ†Âà∏ Ë¥¢Âä°Á≥ªÁªüÈúÄË¶ÅËÆ°ÁÆóËøôÁ¨îËÆ¢ÂçïÁöÑÂÖ•Ë¥¶ ‰∏ªÈ¢ò‰∫§Êç¢Êú∫ topic ‰∏ªÈ¢ò‰∫§Êç¢Êú∫Ôºàtopic exchangesÔºâÈÄöËøáÂØπÊ∂àÊÅØÁöÑË∑ØÁî±ÈîÆÂíåÈòüÂàóÂà∞‰∫§Êç¢Êú∫ÁöÑÁªëÂÆöÊ®°Âºè‰πãÈó¥ÁöÑÂåπÈÖçÔºåÂ∞ÜÊ∂àÊÅØË∑ØÁî±Áªô‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÈòüÂàó„ÄÇ topicÊúâÁÇπÁ±ª‰ºº directÂíåfanoutÁöÑÁªìÂêà‰ΩìÔºåÂç≥ÂèØ‰ª•ÂπøÊí≠ÂèàÂèØ‰ª•Êåâ‰∏ÄÂÆöËßÑÂàôÊåáÂÆö route. ‰∏äÈù¢Á§∫‰æãÂõæÊ°à‰æãÔºö ËøôÊòØ‰∏Ä‰∏™ÂÖ≥‰∫éÂä®Áâ©ÁöÑÊ∂àÊÅØÊ∂àË¥πÁ®ãÂ∫è ÊúâÂÖ≥orangeÁöÑÂä®Áâ©Â∞ÜËøõÂÖ•Q1 Ôºå‰æãÂ¶Ç fast.orange.pig Âø´ÈÄüÁöÑÊ©ôËâ≤Áå™ ÊúâÂÖ≥ rabbit Âíå lazy ÁöÑÂä®Áâ©Â∞ÜËøõÂÖ• Q2 Ôºå‰æãÂ¶Ç lazy.green.rabbit Êàñ lazy.yellow.monkey Â¶ÇÊûúÂåπÈÖçÂ§ö‰∏™Ê®°ÂºèÂàôËøõÂÖ•Â§ö‰∏™Áõ∏Â∫îÁöÑÈòüÂàóÔºå‰æãÂ¶Ç lazy.orange.monkey Âàô‰ºöËøõÂÖ•Q1ÂíåQ2 $faker = Factory::create('zh_CN'); $connection = new AMQPStreamConnection('192.168.106.179', 5672, 'guest', 'guest'); // ÂàõÂª∫ÈÄöÈÅì $channel = $connection->channel(); $channel->exchange_declare('test.topic', AMQPExchangeType::TOPIC, false, false, false); $channel->queue_declare('Q1'); $channel->queue_declare('Q2'); $channel->queue_bind('Q1', 'test.topic', '*.orange.*'); $channel->queue_bind('Q2', 'test.topic', '*.*.rabbit'); $channel->queue_bind('Q2', 'test.topic', 'lazy.#'); $body = $faker->name(); $msg = new AMQPMessage($body, ['delivery_mode' => AMQPMessage::DELIVERY_MODE_PERSISTENT]); $channel->basic_publish($msg, 'test.topic', 'fast.orange.pig'); $channel->basic_publish($msg, 'test.topic', 'lazy.green.rabbit'); $channel->basic_publish($msg, 'test.topic', 'lazy.orange.monkey'); ÂèØ‰ª•ÁúãÂà∞3‰∏™Ê∂àÊÅØÔºåÂèëÈÄÅÂà∞‰∫Ü2‰∏™ÈòüÂàó„ÄÇQ1ÂíåQ2ÂêÑÊúâ2‰∏™ÔºåÂõ†‰∏∫lazy.orange.monkeyËøõÂÖ•‰∫Ü2‰∏™ÈòüÂàó„ÄÇ Â§¥‰∫§Êç¢Êú∫ header ÊúâÊó∂Ê∂àÊÅØÁöÑË∑ØÁî±Êìç‰Ωú‰ºöÊ∂âÂèäÂà∞Â§ö‰∏™Â±ûÊÄßÔºåÊ≠§Êó∂‰ΩøÁî®Ê∂àÊÅØÂ§¥Â∞±ÊØîÁî®Ë∑ØÁî±ÈîÆÊõ¥ÂÆπÊòìË°®ËææÔºåÂ§¥‰∫§Êç¢Êú∫Ôºàheaders exchangeÔºâÂ∞±ÊòØ‰∏∫Ê≠§ËÄåÁîüÁöÑ„ÄÇÂ§¥‰∫§Êç¢Êú∫‰ΩøÁî®Â§ö‰∏™Ê∂àÊÅØÂ±ûÊÄßÊù•‰ª£ÊõøË∑ØÁî±ÈîÆÂª∫Á´ãË∑ØÁî±ËßÑÂàô„ÄÇÈÄöËøáÂà§Êñ≠Ê∂àÊÅØÂ§¥ÁöÑÂÄºËÉΩÂê¶‰∏éÊåáÂÆöÁöÑÁªëÂÆöÁõ∏ÂåπÈÖçÊù•Á°ÆÁ´ãË∑ØÁî±ËßÑÂàô„ÄÇ ÂÆÉÊèê‰æõÊõ¥Â§öÁöÑÂåπÈÖçÔºåÂèØËÆæÁΩÆx-match ‰∏∫any Êàñall Êù•ÊéßÂà∂ÊòØ‰ªªÊÑèÂåπÈÖçËøòÊòØÂÖ®ÈÉ®ÂåπÈÖç„ÄÇ ÈòüÂàó queueAMQP‰∏≠ÁöÑÈòüÂàóÔºàqueueÔºâË∑üÂÖ∂‰ªñÊ∂àÊÅØÈòüÂàóÊàñ‰ªªÂä°ÈòüÂàó‰∏≠ÁöÑÈòüÂàóÊòØÂæàÁõ∏‰ººÁöÑÔºöÂÆÉ‰ª¨Â≠òÂÇ®ÁùÄÂç≥Â∞ÜË¢´Â∫îÁî®Ê∂àË¥πÊéâÁöÑÊ∂àÊÅØ„ÄÇÈòüÂàóË∑ü‰∫§Êç¢Êú∫ÂÖ±‰∫´Êüê‰∫õÂ±ûÊÄßÔºå‰ΩÜÊòØÈòüÂàó‰πüÊúâ‰∏Ä‰∫õÂè¶Â§ñÁöÑÂ±ûÊÄß„ÄÇ Name DurableÔºàÊ∂àÊÅØ‰ª£ÁêÜÈáçÂêØÂêéÔºåÈòüÂàó‰æùÊóßÂ≠òÂú®Ôºâ ExclusiveÔºàÂè™Ë¢´‰∏Ä‰∏™ËøûÊé•ÔºàconnectionÔºâ‰ΩøÁî®ÔºåËÄå‰∏îÂΩìËøûÊé•ÂÖ≥Èó≠ÂêéÈòüÂàóÂç≥Ë¢´Âà†Èô§Ôºâ Auto-deleteÔºàÂΩìÊúÄÂêé‰∏Ä‰∏™Ê∂àË¥πËÄÖÈÄÄËÆ¢ÂêéÂç≥Ë¢´Âà†Èô§Ôºâ ArgumentsÔºà‰∏Ä‰∫õÊ∂àÊÅØ‰ª£ÁêÜÁî®‰ªñÊù•ÂÆåÊàêÁ±ª‰ºº‰∏éTTLÁöÑÊüê‰∫õÈ¢ùÂ§ñÂäüËÉΩÔºâ Ê∂àÊÅØÁ°ÆËÆ§Ê∂àË¥πËÄÖÂ∫îÁî®ÔºàConsumer applicationsÔºâ - Áî®Êù•Êé•ÂèóÂíåÂ§ÑÁêÜÊ∂àÊÅØÁöÑÂ∫îÁî® - Âú®Â§ÑÁêÜÊ∂àÊÅØÁöÑÊó∂ÂÄôÂÅ∂Â∞î‰ºöÂ§±Ë¥•ÊàñËÄÖÊúâÊó∂‰ºöÁõ¥Êé•Â¥©Ê∫ÉÊéâ„ÄÇËÄå‰∏îÁΩëÁªúÂéüÂõ†‰πüÊúâÂèØËÉΩÂºïËµ∑ÂêÑÁßçÈóÆÈ¢ò„ÄÇËøôÂ∞±ÁªôÊàë‰ª¨Âá∫‰∫Ü‰∏™ÈöæÈ¢òÔºåAMQP‰ª£ÁêÜÂú®‰ªÄ‰πàÊó∂ÂÄôÂà†Èô§Ê∂àÊÅØÊâçÊòØÊ≠£Á°ÆÁöÑÔºüAMQP 0-9-1 ËßÑËåÉÁªôÊàë‰ª¨‰∏§ÁßçÂª∫ËÆÆÔºö ÂΩìÊ∂àÊÅØ‰ª£ÁêÜÔºàbrokerÔºâÂ∞ÜÊ∂àÊÅØÂèëÈÄÅÁªôÂ∫îÁî®ÂêéÁ´ãÂç≥Âà†Èô§„ÄÇÔºà‰ΩøÁî®AMQPÊñπÊ≥ïÔºöbasic.deliverÊàñbasic.get-okÔºâ ÂæÖÂ∫îÁî®ÔºàapplicationÔºâÂèëÈÄÅ‰∏Ä‰∏™Á°ÆËÆ§ÂõûÊâßÔºàacknowledgementÔºâÂêéÂÜçÂà†Èô§Ê∂àÊÅØ„ÄÇÔºà‰ΩøÁî®AMQPÊñπÊ≥ïÔºöbasic.ackÔºâ ÂâçËÄÖË¢´Áß∞‰ΩúËá™Âä®Á°ÆËÆ§Ê®°ÂºèÔºàautomatic acknowledgement modelÔºâÔºåÂêéËÄÖË¢´Áß∞‰ΩúÊòæÂºèÁ°ÆËÆ§Ê®°ÂºèÔºàexplicit acknowledgement model)„ÄÇ $callback = function ($msg) &#123; echo ' [x] Received ', $msg->body, \"\\n\"; sleep(substr_count($msg->body, '.')); echo \" [x] Done\\n\"; $msg->ack(); &#125;; $channel->basic_consume('task_queue', '', false, false, false, false, $callback); ‰ª•‰∏ä‰ª£Á†ÅÁ§∫‰æãÂ±ïÁ§∫ack‰ΩøÁî®Ôºåbasic_consumeÁöÑÁ¨¨4‰∏™ÂèÇÊï∞Ë¶Å ËÆæÁΩÆ‰∏∫true„ÄÇ ÊãíÁªùÊ∂àÊÅØÂΩì‰∏Ä‰∏™Ê∂àË¥πËÄÖÊé•Êî∂Âà∞ÊüêÊù°Ê∂àÊÅØÂêéÔºåÂ§ÑÁêÜËøáÁ®ãÊúâÂèØËÉΩÊàêÂäüÔºåÊúâÂèØËÉΩÂ§±Ë¥•„ÄÇÂ∫îÁî®ÂèØ‰ª•ÂêëÊ∂àÊÅØ‰ª£ÁêÜË°®ÊòéÔºåÊú¨Êù°Ê∂àÊÅØÁî±‰∫é‚ÄúÊãíÁªùÊ∂àÊÅØÔºàRejecting MessagesÔºâ‚ÄùÁöÑÂéüÂõ†Â§ÑÁêÜÂ§±Ë¥•‰∫ÜÔºàÊàñËÄÖÊú™ËÉΩÂú®Ê≠§Êó∂ÂÆåÊàêÔºâ„ÄÇÂΩìÊãíÁªùÊüêÊù°Ê∂àÊÅØÊó∂ÔºåÂ∫îÁî®ÂèØ‰ª•ÂëäËØâÊ∂àÊÅØ‰ª£ÁêÜÂ¶Ç‰ΩïÂ§ÑÁêÜËøôÊù°Ê∂àÊÅØ‚Äî‚ÄîÈîÄÊØÅÂÆÉÊàñËÄÖÈáçÊñ∞ÊîæÂÖ•ÈòüÂàó„ÄÇÂΩìÊ≠§ÈòüÂàóÂè™Êúâ‰∏Ä‰∏™Ê∂àË¥πËÄÖÊó∂ÔºåËØ∑Á°ÆËÆ§‰∏çË¶ÅÁî±‰∫éÊãíÁªùÊ∂àÊÅØÂπ∂‰∏îÈÄâÊã©‰∫ÜÈáçÊñ∞ÊîæÂÖ•ÈòüÂàóÁöÑË°å‰∏∫ËÄåÂºïËµ∑Ê∂àÊÅØÂú®Âêå‰∏Ä‰∏™Ê∂àË¥πËÄÖË∫´‰∏äÊó†ÈôêÂæ™ÁéØÁöÑÊÉÖÂÜµÂèëÁîü„ÄÇ ËøûÊé•AMQPËøûÊé•ÈÄöÂ∏∏ÊòØÈïøËøûÊé•„ÄÇAMQPÊòØ‰∏Ä‰∏™‰ΩøÁî®TCPÊèê‰æõÂèØÈù†ÊäïÈÄíÁöÑÂ∫îÁî®Â±ÇÂçèËÆÆ„ÄÇAMQP‰ΩøÁî®ËÆ§ËØÅÊú∫Âà∂Âπ∂‰∏îÊèê‰æõTLSÔºàSSLÔºâ‰øùÊä§„ÄÇÂΩì‰∏Ä‰∏™Â∫îÁî®‰∏çÂÜçÈúÄË¶ÅËøûÊé•Âà∞AMQP‰ª£ÁêÜÁöÑÊó∂ÂÄôÔºåÈúÄË¶Å‰ºòÈõÖÁöÑÈáäÊîæÊéâAMQPËøûÊé•ÔºåËÄå‰∏çÊòØÁõ¥Êé•Â∞ÜTCPËøûÊé•ÂÖ≥Èó≠„ÄÇ ËôöÊãü‰∏ªÊú∫ vhost‰∏∫‰∫ÜÂú®‰∏Ä‰∏™ÂçïÁã¨ÁöÑ‰ª£ÁêÜ‰∏äÂÆûÁé∞Â§ö‰∏™ÈöîÁ¶ªÁöÑÁéØÂ¢ÉÔºàÁî®Êà∑„ÄÅÁî®Êà∑ÁªÑ„ÄÅ‰∫§Êç¢Êú∫„ÄÅÈòüÂàó Á≠âÔºâÔºåAMQPÊèê‰æõ‰∫Ü‰∏Ä‰∏™ËôöÊãü‰∏ªÊú∫Ôºàvirtual hosts - vhostsÔºâÁöÑÊ¶ÇÂøµ„ÄÇËøôË∑üWeb serversËôöÊãü‰∏ªÊú∫Ê¶ÇÂøµÈùûÂ∏∏Áõ∏‰ººÔºåËøô‰∏∫AMQPÂÆû‰ΩìÊèê‰æõ‰∫ÜÂÆåÂÖ®ÈöîÁ¶ªÁöÑÁéØÂ¢É„ÄÇ $connection = new AMQPStreamConnection('192.168.106.179', 5672, 'guest', 'guest','test-vhost'); Âä®ÊÄÅÂåπÈÖçÊ®°ÂûãÁîü‰∫ßËÄÖ protected function execute(InputInterface $input, OutputInterface $output): int &#123; $connection = new AMQPStreamConnection('192.168.106.179', 5672, 'guest', 'guest'); // ÂàõÂª∫ÈÄöÈÅì $channel = $connection->channel(); $channel->exchange_declare('order.lifecycle', AMQPExchangeType::TOPIC, false, false, false); //ÂÆö‰πâ‰∏Ä‰∏™ÈªòËÆ§ ÂÖ®Áä∂ÊÄÅÈòüÂàó $channel->queue_declare('order.all'); //ÂåπÈÖç ÂÖ®Áä∂ÊÄÅ ËÆ¢ÂçïÊ∂àÊÅØ $channel->queue_bind('order.all', 'order.lifecycle', 'order.*'); $faker = Factory::create('zh_CN'); $orderStatus = [ self::ORDER_CREATE, self::ORDER_SENDED, self::ORDER_WAIT_PAY ]; $status = $orderStatus[array_rand($orderStatus)]; $body = [ 'status' => $status, 'name' => $faker->name, 'order_no' => $faker->uuid ]; dump($body); $msg = new AMQPMessage(json_encode($body), ['delivery_mode' => AMQPMessage::DELIVERY_MODE_PERSISTENT]); //Ê∂àÊÅØ Âä®ÊÄÅ ÁªëÂÆö Ë∑ØÁî±ÈîÆ $channel->basic_publish($msg, 'order.lifecycle','order.'.$status); return Command::SUCCESS; &#125; Ê∂àË¥πËÄÖ public function handPay() &#123; $connection = new AMQPStreamConnection('192.168.106.179', 5672, 'guest', 'guest'); // ÂàõÂª∫ÈÄöÈÅì $channel = $connection->channel(); //ÂÆö‰πâ h66 Ê∂àË¥π pay ÈòüÂàó $channel->queue_declare('h66.pay'); //Â∞Ü WAIY_PAY Á±ªÂûãÊ∂àÊÅØ ÁªëÂÆöÂà∞ËØ•ÈòüÂàó $channel->queue_bind('h66.pay', 'order.lifecycle', 'order.WAIT_PAY'); $callback = function($msg) &#123; $body = json_decode($msg->body, true); $this->info(\"Â§ÑÁêÜÊï∞ÊçÆ...&#123;$body['status']&#125; &#123;$body['order_no']&#125;\"); &#125;; // Ê∂àË¥π ÈòüÂàó $channel->basic_consume('h66.pay', '', false, true, false, false, $callback); // ÈòªÂ°ûÈòüÂàóÁõëÂê¨‰∫ã‰ª∂ while ($channel->is_open()) &#123; $channel->wait(); &#125; &#125; ‰ª£Á†ÅÁ§∫‰æã‰∏≠ ÁîüÊàêËÄÖÊ†πÊçÆËÆ¢ÂçïÁä∂ÊÄÅÂä®ÊÄÅÁîü‰∫ßÁõ∏Â∫îË∑ØÁî±ÈîÆÊ∂àÊÅØÂà∞‰∫§Êç¢Êú∫ÔºåÊ∂àË¥πËÄÖËÆ¢ÈòÖËá™Â∑±ÊâÄÈúÄÁöÑÁä∂ÊÄÅÂà∞Ëá™Â∑±ÁöÑÈòüÂàóÂΩì‰∏≠ËøõË°åÊ∂àË¥π„ÄÇ ‰æãÂ¶Ç handPay Ê∂àË¥πËÄÖÂè™ËÆ¢ÈòÖÂæÖÊîØ‰ªòÁ±ªÂûã„ÄÇ ÂèÇËÄÉ https://rabbitmq.mr-ping.com/ https://www.rabbitmq.com/getstarted.html","categories":[],"tags":[{"name":"Êû∂ÊûÑ","slug":"Êû∂ÊûÑ","permalink":"http://visonforcoding.xyz/tags/%E6%9E%B6%E6%9E%84/"}]},{"title":"mysqlÁöÑwaitimeout","slug":"mysqlÁöÑwaitimeout","date":"2021-06-02T12:33:18.000Z","updated":"2021-10-30T02:59:33.279Z","comments":true,"path":"2021/06/02/mysqlÁöÑwaitimeout/","link":"","permalink":"http://visonforcoding.xyz/2021/06/02/mysql%E7%9A%84waitimeout/","excerpt":"È¶ñÂÖàÔºåÊàë‰ª¨Êù•Áúã‰∏ã show GLOBAL VARIABLES like '%timeout%'; ÈªòËÆ§ÂÄº‰∏∫28800sÂç≥8Â∞èÊó∂,Êàë‰ª¨Êîπ‰∏∫100s # Default Homebrew MySQL server config [mysqld] # Only allow connections from localhost bind-address = 0.0.0.0 wait_timeout=100 interactive_timeout=100 ÈáçÊñ∞Êü•ÁúãÁªìÊûú","text":"È¶ñÂÖàÔºåÊàë‰ª¨Êù•Áúã‰∏ã show GLOBAL VARIABLES like '%timeout%'; ÈªòËÆ§ÂÄº‰∏∫28800sÂç≥8Â∞èÊó∂,Êàë‰ª¨Êîπ‰∏∫100s # Default Homebrew MySQL server config [mysqld] # Only allow connections from localhost bind-address = 0.0.0.0 wait_timeout=100 interactive_timeout=100 ÈáçÊñ∞Êü•ÁúãÁªìÊûú Êü•ÁúãÂØπÂÆàÊä§ËøõÁ®ãËøûÊé•ÁöÑÂΩ±Âìç public function longT() &#123; $TicketModel = new TicketModel(); $this->success('ÂºÄÂßãÂª∫Á´ãËøûÊé•...'); while (true) &#123; sleep(120); dump($TicketModel->select('t_id')->fetch()); &#125; &#125; ÂèëÁé∞Âú®100sÂêéÁöÑËøûÊé•Â∑≤Ë¢´‰∏ªÂä®Êñ≠ÂºÄ ‰ª£Á†Å‰∏≠ÁöÑÂú∫ÊôØÊòØÔºåÂú®wait_timeout‰πãÂÜÖÊó†‰ªª‰ΩïÊìç‰Ωú‰ºöËá™Âä®ÂÖ≥Èó≠ ÂÆòÊñπËß£Èáäinteractive_timeout 28800 The number of seconds the server waits for activity on an interactive connection before closing it. An interactive client is defined as a client that uses the CLIENT_INTERACTIVE option to mysql_real_connect(). See also wait_timeout. waitimeout 28800 The number of seconds the server waits for activity on a noninteractive connection before closing it. On thread startup, the session wait_timeout value is initialized from the global wait_timeout value or from the global interactive_timeout value, depending on the type of client (as defined by the CLIENT_INTERACTIVE connect option to mysql_real_connect()). See also interactive_timeout. ÈÄöËøáMySQLÂÆ¢Êà∑Á´ØËøûÊé•dbÁöÑÊòØ‰∫§‰∫í‰ºöËØùÔºåÈÄöËøájdbcÁ≠âÁ®ãÂ∫èËøûÊé•dbÁöÑÊòØÈùû‰∫§‰∫í‰ºöËØù„ÄÇ ÊÄªÁªìÔºö Â¶ÇÊûúÂ∫îÁî®Á®ãÂ∫èÈïøÊó∂Èó¥ÁöÑ‰ΩøÁî®‰∏Ä‰∏™ËøûÊé•ÔºåËÄåÊúâÊú∫‰ºöÈïøÊó∂Èó¥‰∏çËøõË°å‰ªª‰ΩïÊìç‰Ωú„ÄÇÂàô‰ºöÂØºËá¥ËøûÊé•Ë¢´ÂÖ≥Èó≠„ÄÇ ÂèÇËÄÉÊñáÁåÆ: 1.https://dev.mysql.com/doc/refman/5.7/en/server-system-variables.html2.https://cloud.tencent.com/developer/article/1181515","categories":[],"tags":[{"name":"mysql","slug":"mysql","permalink":"http://visonforcoding.xyz/tags/mysql/"}]},{"title":"vue+quasar+electron+springboot+mysqlÊí∏‰∏Ä‰∏™TODO LIST ÁúãÊùø","slug":"vue-quasar-electron-springboot-mysqlÊí∏‰∏Ä‰∏™TODO-LIST-ÁúãÊùø","date":"2021-04-09T03:39:08.000Z","updated":"2021-10-30T02:59:33.282Z","comments":true,"path":"2021/04/09/vue-quasar-electron-springboot-mysqlÊí∏‰∏Ä‰∏™TODO-LIST-ÁúãÊùø/","link":"","permalink":"http://visonforcoding.xyz/2021/04/09/vue-quasar-electron-springboot-mysql%E6%92%B8%E4%B8%80%E4%B8%AATODO-LIST-%E7%9C%8B%E6%9D%BF/","excerpt":"ÂÖàÁúãÊïàÊûú ÂÜôÊú¨È°πÁõÆÁöÑÁõÆÁöÑÊúâÂá†ÁÇπÔºö Â≠¶‰π†‰∏ãvue+electronÊ°åÈù¢ÂºÄÂèë Â≠¶‰π†‰∏ãjavaÂíåspringÂºÄÂèë(Êú¨‰∫∫‰∏ÄÁõ¥‰ΩøÁî®PHP) ‰∏ÄÁõ¥Áº∫Â∞ë‰∏ÄÊ¨æËÉΩÈÄÇÂêàËá™Â∑±ÁöÑTODO LISTËΩØ‰ª∂ÔºåËÉΩÊúâÊ°åÈù¢Á´ØÁöÑ","text":"ÂÖàÁúãÊïàÊûú ÂÜôÊú¨È°πÁõÆÁöÑÁõÆÁöÑÊúâÂá†ÁÇπÔºö Â≠¶‰π†‰∏ãvue+electronÊ°åÈù¢ÂºÄÂèë Â≠¶‰π†‰∏ãjavaÂíåspringÂºÄÂèë(Êú¨‰∫∫‰∏ÄÁõ¥‰ΩøÁî®PHP) ‰∏ÄÁõ¥Áº∫Â∞ë‰∏ÄÊ¨æËÉΩÈÄÇÂêàËá™Â∑±ÁöÑTODO LISTËΩØ‰ª∂ÔºåËÉΩÊúâÊ°åÈù¢Á´ØÁöÑ ÂèØÁõ¥Êé•ÊâìÂåÖÊàêdmg„ÄÅexe Á≠â‰∫åËøõÂà∂Êñá‰ª∂‰ΩøÁî®„ÄÇËøôÊòØÊàëÊâìÂåÖÂêéÁöÑÊïàÊûú„ÄÇ ÊäÄÊúØÊ†à vue quasar electron springboot mysql Ëá™ÂÆö‰πâÊ≥®Ëß£Ê∫êÁ†ÅÂú∞ÂùÄ ÂâçÁ´Ø https://github.com/visonforcoding/carambola-todo ÂêéÁ´Ø https://github.com/visonforcoding/carambola-todo-service","categories":[],"tags":[{"name":"web","slug":"web","permalink":"http://visonforcoding.xyz/tags/web/"}]},{"title":"Âπ∂ÂèëÁºñÁ®ãÊó•ËÆ∞-Á∫øÁ®ã‰∏çÂÆâÂÖ®ÁöÑÂç±ÂÆ≥","slug":"ÁºñÂèëÁºñÁ®ãÊó•ËÆ∞-Á∫øÁ®ã‰∏çÂÆâÂÖ®ÁöÑÂç±ÂÆ≥","date":"2021-03-03T11:16:37.000Z","updated":"2021-10-30T02:59:33.283Z","comments":true,"path":"2021/03/03/ÁºñÂèëÁºñÁ®ãÊó•ËÆ∞-Á∫øÁ®ã‰∏çÂÆâÂÖ®ÁöÑÂç±ÂÆ≥/","link":"","permalink":"http://visonforcoding.xyz/2021/03/03/%E7%BC%96%E5%8F%91%E7%BC%96%E7%A8%8B%E6%97%A5%E8%AE%B0-%E7%BA%BF%E7%A8%8B%E4%B8%8D%E5%AE%89%E5%85%A8%E7%9A%84%E5%8D%B1%E5%AE%B3/","excerpt":"","text":"ËÆ°Êï∞Âô®@WebServlet(name = \"HelloServlet\", urlPatterns = &#123;\"/hello\"&#125;) public class HelloServlet extends HttpServlet &#123; private static final Logger LOG = Logger.getLogger(HelloServlet.class.getName()); private Integer count = 0; @Override protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123; ++count; processRequest(request, response); LOG.info(String.format(\"ËÆ°Êï∞ %d\", count)); &#125; &#125; ÊåâÂ∏∏ÁêÜÂ§öÂ∞ëÊ¨°ËØ∑Ê±ÇÂêéÂ∞±‰ºöÊâìÂç∞Âá∫ËÆ°Êï∞Â§öÂ∞ë„ÄÇ ab -n300 -c20 http:&#x2F;&#x2F;localhost:8080&#x2F;servlet-demo&#x2F;hello Ê≠£Â∏∏‰∏ãÔºåÊâßË°åÁ¨¨‰∏ÄÊ¨° ËÆ°Êï∞Â∫î‰∏∫300 ‰∫ãÂÆû‰∏äÂæóÂà∞ÁöÑÂç¥‰∏çÊòØ ÂÜçÊâßË°å.. 2 ~ 5903 ~ 8794 ~ 1170 Âá†‰πéÊ≤°ÊúâËßÑÂæãÔºåÂπ∂‰∏çÊòØÈ¢ÑÊúüÁöÑ 300ÁöÑÂÄçÊï∞„ÄÇ Ëß£ÈáäÂÆûÈôÖ‰∏ä++countÊòØ‰∏Ä‰∏™ËØªÂèñ-‰øÆÊîπ-ÂÜôÂÖ•ÁöÑÊìç‰Ωú„ÄÇ ÂÅáËÆæÁ∫øÁ®ãA„ÄÅB ÂêåÊó∂ËØªÂèñÂà∞‰∫ÜÂÄºÊòØm,ÂêåÊó∂ÂÜôÂÖ•+1ÂêéÁöÑÂÄºm+1„ÄÇÁªìÊûúcount = m+1,Âàô‰∫ãÂÆû‰∏äÊï¥‰∏™ËÆ°Êï∞Â∞±Â∞ë‰∫Ü1,Â∫îËØ•‰∏∫m+2„ÄÇ Â§ÑÁêÜÂ∞ÜcountÂ£∞Êòé‰∏∫AtomicInter private Integer count = 0; private AtomicInteger atomicCount = new AtomicInteger(0); @Override protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123; ++count; processRequest(request, response); LOG.info(String.format(\"ËÆ°Êï∞count %d\", count)); LOG.info(String.format(\"ËÆ°Êï∞atomicCount %d\", atomicCount.incrementAndGet())); &#125; ÂèØ‰ª•ÁúãÂà∞ÔºåAtomicIntegerÁªüËÆ°ÁöÑÊòØÊ≠£Á°ÆÁöÑ‰∫Ü„ÄÇ","categories":[],"tags":[{"name":"java","slug":"java","permalink":"http://visonforcoding.xyz/tags/java/"}]},{"title":"spring-boot+vue+supervisor+nginxÁöÑÂâçÂêéÁ´ØÂàÜÁ¶ªÈÉ®ÁΩ≤","slug":"java/spring-boot-vueÁöÑÂâçÂêéÁ´ØÂàÜÁ¶ªÈÉ®ÁΩ≤","date":"2021-02-22T06:43:54.000Z","updated":"2021-10-30T02:59:33.277Z","comments":true,"path":"2021/02/22/java/spring-boot-vueÁöÑÂâçÂêéÁ´ØÂàÜÁ¶ªÈÉ®ÁΩ≤/","link":"","permalink":"http://visonforcoding.xyz/2021/02/22/java/spring-boot-vue%E7%9A%84%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB%E9%83%A8%E7%BD%B2/","excerpt":"Ë¶Å‰øùËØÅÂêåÂüüÈÉ®ÁΩ≤,Âõ†‰∏∫Ë∑®Âüü‰ºöÊúâÂæàÂ§öÈóÆÈ¢òË¶ÅÈáçÊñ∞Ëß£ÂÜ≥ È°∫‰æøÊ†ë‰∏ãÔºå‰ΩÜÂÖ∂ÂÆûÁé∞Âú®‰∫íËÅîÁΩë‰∫ßÂìÅ‰∏ÄËà¨ÈÉΩÊúâÂ§öÂÆ¢Êà∑Á´ØÔºåpc web „ÄÅÂ∞èÁ®ãÂ∫è„ÄÅapp„ÄÇ‰øùÂÆàÁöÑÂêåÂüüsessionÊ®°Âºè‰øùÊåÅ‰ºöËØùÂ∑≤ÁªèÊª°Ë∂≥‰∏ç‰∫Ü‰∏Ä‰∫õÈúÄÊ±Ç„ÄÇÊØîÂ¶ÇÔºåÂçïÁ´ØÁôªÂΩïÁ≠â„ÄÇ Ë®ÄÂΩíÊ≠£‰º†ÔºåÊàëÈááÂèñÁöÑÊÄùË∑ØÊòØÔºåÂâçÁ´ØËØ∑Ê±ÇÊé•Âè£Êó∂Áªü‰∏ÄÂä†‰∏äapiÂâçÁºÄÔºånginxÂ∞ÜapiÂâçÁºÄÁöÑË∑ØÁî±ËØ∑Ê±Ç‰ª£ÁêÜËΩ¨ÂèëÂà∞spring-boot","text":"Ë¶Å‰øùËØÅÂêåÂüüÈÉ®ÁΩ≤,Âõ†‰∏∫Ë∑®Âüü‰ºöÊúâÂæàÂ§öÈóÆÈ¢òË¶ÅÈáçÊñ∞Ëß£ÂÜ≥ È°∫‰æøÊ†ë‰∏ãÔºå‰ΩÜÂÖ∂ÂÆûÁé∞Âú®‰∫íËÅîÁΩë‰∫ßÂìÅ‰∏ÄËà¨ÈÉΩÊúâÂ§öÂÆ¢Êà∑Á´ØÔºåpc web „ÄÅÂ∞èÁ®ãÂ∫è„ÄÅapp„ÄÇ‰øùÂÆàÁöÑÂêåÂüüsessionÊ®°Âºè‰øùÊåÅ‰ºöËØùÂ∑≤ÁªèÊª°Ë∂≥‰∏ç‰∫Ü‰∏Ä‰∫õÈúÄÊ±Ç„ÄÇÊØîÂ¶ÇÔºåÂçïÁ´ØÁôªÂΩïÁ≠â„ÄÇ Ë®ÄÂΩíÊ≠£‰º†ÔºåÊàëÈááÂèñÁöÑÊÄùË∑ØÊòØÔºåÂâçÁ´ØËØ∑Ê±ÇÊé•Âè£Êó∂Áªü‰∏ÄÂä†‰∏äapiÂâçÁºÄÔºånginxÂ∞ÜapiÂâçÁºÄÁöÑË∑ØÁî±ËØ∑Ê±Ç‰ª£ÁêÜËΩ¨ÂèëÂà∞spring-boot nginxÈÖçÁΩÆ server &#123; server_name admin.domain.xyz; index index.html; location / &#123; index index.html; root /home/wwwuser/webroot/itdoc-admin-web/dist/spa; &#125; location /api/ &#123; proxy_pass http://127.0.0.1:8081/; &#125; # optionally disable falling back to PHP script for the asset directories; # nginx will return a 404 error when files are not found instead of passing the # request to Symfony (improves performance but Symfony's 404 page is not displayed) # location /bundles &#123; # try_files $uri =404; # &#125; error_log /var/log/nginx/admin_error.log; access_log /var/log/nginx/admin_access.log; &#125; supervisorÂÆàÊä§java -jarÊàëËøôÈáåÈááÂèñjava -jarÊ®°ÂºèÈÉ®ÁΩ≤Ôºå‰ΩÜÊòØÂçïÁ∫ØÁöÑËøôÁßçÊ®°ÂºèÂπ∂‰∏çËÉΩ‰øùËØÅËá™ÂêØÂä®ÂíåËøõÁ®ãÁõëÊéßÁ≠â„ÄÇÂõ†Ê≠§ÈúÄË¶ÅÂÄüÂä©supervisor„ÄÇ [program:itdoc] command=/usr/local/jdk-11.0.2/bin/java -jar itdoc-0.0.2-SNAPSHOT.jar process_name=%(program_name)s numprocs=1 directory=/home/wwwuser/webroot umask=022 priority=999 autostart=true autorestart=unexpected startsecs=10 startretries=3 exitcodes=0 stopsignal=TERM stopwaitsecs=10 stopasgroup=false killasgroup=false user=wwwuser redirect_stderr=false stdout_logfile=/var/log/webroot/itdoc-out.log stdout_logfile_maxbytes=1MB stdout_logfile_backups=10 stdout_capture_maxbytes=1MB stdout_events_enabled=false stderr_logfile=/var/log/webroot/itdoc-err.log stderr_logfile_maxbytes=1MB stderr_logfile_backups=10 stderr_capture_maxbytes=1MB ËøôÈáåÁöÑautostart Âíå autorestart ËÉΩ‰øùËØÅËá™ÂêØÂä®ÂíåÂêØÂä®ÈáçÂêØ","categories":[],"tags":[{"name":"java","slug":"java","permalink":"http://visonforcoding.xyz/tags/java/"}]},{"title":"Âà©Áî®LocustËøõË°åÊÄßËÉΩÊµãËØï","slug":"Âà©Áî®LocustËøõË°åÊÄßËÉΩÊµãËØï","date":"2021-01-23T02:17:02.000Z","updated":"2021-12-20T05:58:04.239Z","comments":true,"path":"2021/01/23/Âà©Áî®LocustËøõË°åÊÄßËÉΩÊµãËØï/","link":"","permalink":"http://visonforcoding.xyz/2021/01/23/%E5%88%A9%E7%94%A8Locust%E8%BF%9B%E8%A1%8C%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/","excerpt":"Ë¶ÅÁúã‰∏Ä‰∏™È°πÁõÆÁöÑÊúÄÂ§ßÂèØÁî®ËÉΩÂäõÊòØÂ§öÂ∞ëÔºåÊÄßËÉΩÊµãËØïÂ∑•‰ΩúÂ∞ë‰∏ç‰∫Ü. ÊØè‰∏Ä‰∏™È°πÁõÆÈÉΩÂ∫îËØ•ÂÅöÂéãÊµã Â§öÁ∫øÁ®ãÂπ∂ÂèëÊ®°Âûã‰∏ÄÂÆöË¶ÅÂÅöÂéãÊµã","text":"Ë¶ÅÁúã‰∏Ä‰∏™È°πÁõÆÁöÑÊúÄÂ§ßÂèØÁî®ËÉΩÂäõÊòØÂ§öÂ∞ëÔºåÊÄßËÉΩÊµãËØïÂ∑•‰ΩúÂ∞ë‰∏ç‰∫Ü. ÊØè‰∏Ä‰∏™È°πÁõÆÈÉΩÂ∫îËØ•ÂÅöÂéãÊµã Â§öÁ∫øÁ®ãÂπ∂ÂèëÊ®°Âûã‰∏ÄÂÆöË¶ÅÂÅöÂéãÊµã ÂÆâË£Ö$ pip3 install locust ÁºñÂÜôËÑöÊú¨import time from locust import HttpUser, task, between class QuickstartUser(HttpUser): wait_time = between(1, 2.5) @task def hello_world(self): self.client.get(\"/hello\") self.client.get(\"/world\") @task(3) def view_items(self): for item_id in range(10): self.client.get(f\"/item?id=&#123;item_id&#125;\", name=\"/item\") time.sleep(1) def on_start(self): self.client.post(\"/login\", json=&#123;\"username\":\"foo\", \"password\":\"bar\"&#125;) wait_time = between(1, 2.5) Our class defines a wait_time that will make the simulated users wait between 1 and 2.5 seconds after each task (see below) is executed. For more info see wait_time attribute. def hello_world(self): @task def hello_world(self): self.client.get(\"/hello\") self.client.get(\"/world\") @task(3) def view_items(self): ... task(3) ÂÜÖÁöÑÂèÇÊï∞Ë°®Á§∫‰ªªÂä°ÊâßË°åÁöÑÊùÉÈáçÔºåview_itemsÁöÑÊ¨°Êï∞Â∞ÜÊòØhello_worldÊ¨°Êï∞ÁöÑ3ÂÄç„ÄÇ ÊâßË°å$ locust -f locust_files&#x2F;my_locust_file.py ‰ªªÂä°ÊâßË°åÁïåÈù¢ÂíåÁªìÊûú","categories":[],"tags":[{"name":"ËΩØ‰ª∂Â∑•Á®ã","slug":"ËΩØ‰ª∂Â∑•Á®ã","permalink":"http://visonforcoding.xyz/tags/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/"}]},{"title":"ÈªëÂêØÂä®","slug":"ÈªëÂêØÂä®","date":"2021-01-21T13:38:28.000Z","updated":"2021-11-29T09:41:14.347Z","comments":true,"path":"2021/01/21/ÈªëÂêØÂä®/","link":"","permalink":"http://visonforcoding.xyz/2021/01/21/%E9%BB%91%E5%90%AF%E5%8A%A8/","excerpt":"","text":"facebookÊ°à‰æã‰Ωú‰∏∫ÈªëÂêØÂä®ÊµÅÁ®ãÁöÑ‰∏ÄÈÉ®ÂàÜÔºåÊØè‰∏™Facebook Áî®Êà∑‰ºöËØùÔºàÂú®Áî®Êà∑Á´ØÊµèËßàÂô®‰∏≠ËøêË°åJavaScript ‰ª£Á†ÅÔºâÈÉΩÂä†ËΩΩ‰∫ÜÊµãËØïÂ∑•ÂÖ∑„ÄÇËôΩÁÑ∂ËÅäÂ§©ÂäüËÉΩÁöÑÁî®Êà∑ÁïåÈù¢ÂÖÉÁ¥†Ë¢´ÈöêËóèËµ∑Êù•Ôºå‰ΩÜÊµèËßàÂô®ËøòÊòØ‰ºöÂêëÂ∑≤ÈÉ®ÁΩ≤Âú®Áîü‰∫ßÁéØÂ¢É‰∏≠ÁöÑÂêéÂè∞ËÅäÂ§©ÊúçÂä°Âô®ÂèëÈÄÅÁî®Êà∑‰∏çÂèØËßÅÁöÑËÅäÂ§©ÊµãËØï‰ø°ÊÅØÔºåËøô‰ΩøÂºÄ ÂèëÂõ¢ÈòüËÉΩÂ§üÂú®Êï¥‰∏™È°πÁõÆËøáÁ®ã‰∏≠Ê®°ÊãüÂá∫Á±ªÁîü‰∫ßË¥üËΩΩÔºå‰ªéËÄåÂú®ÂèëÂ∏É‰πãÂâçÊâæÂá∫Âπ∂Ëß£ÂÜ≥ÊÄßËÉΩÈóÆÈ¢ò„ÄÇ ËÄÅÂ≠êÊÉä‰∫Ü,ËøôÊúâÁÇπÁâõÁöÆ","categories":[],"tags":[{"name":"ÊñπÊ°à","slug":"ÊñπÊ°à","permalink":"http://visonforcoding.xyz/tags/%E6%96%B9%E6%A1%88/"}]},{"title":"servlet | servletÈõÜÊàêmybatis-Êó†xml&Ê≥®Ëß£ÊñπÂºè","slug":"java/servletÈõÜÊàêmybatis-Êó†xml-Ê≥®Ëß£ÊñπÂºè","date":"2021-01-06T08:14:24.000Z","updated":"2021-11-28T05:27:39.248Z","comments":true,"path":"2021/01/06/java/servletÈõÜÊàêmybatis-Êó†xml-Ê≥®Ëß£ÊñπÂºè/","link":"","permalink":"http://visonforcoding.xyz/2021/01/06/java/servlet%E9%9B%86%E6%88%90mybatis-%E6%97%A0xml-%E6%B3%A8%E8%A7%A3%E6%96%B9%E5%BC%8F/","excerpt":"‰π†ÊÉØ‰∫ÜphpÈ°πÁõÆ‰πãÂêéÔºåÊÅêÊÄïÈùûÂ∏∏‰∏çÂñúÊ¨¢Êìç‰ΩúxmlÂêß.Êú¨Á´†Â∞Ü‰ªãÁªçservlet+mybatisÊó†xmlÈÖçÁΩÆÊ®°Âºè„ÄÇ","text":"‰π†ÊÉØ‰∫ÜphpÈ°πÁõÆ‰πãÂêéÔºåÊÅêÊÄïÈùûÂ∏∏‰∏çÂñúÊ¨¢Êìç‰ΩúxmlÂêß.Êú¨Á´†Â∞Ü‰ªãÁªçservlet+mybatisÊó†xmlÈÖçÁΩÆÊ®°Âºè„ÄÇ ‰æùËµñ&lt;dependency> &lt;groupId>mysql&lt;/groupId> &lt;artifactId>mysql-connector-java&lt;/artifactId> &lt;version>5.1.26&lt;/version> &lt;/dependency> &lt;!-- https://mvnrepository.com/artifact/org.mybatis/mybatis --> &lt;dependency> &lt;groupId>org.mybatis&lt;/groupId> &lt;artifactId>mybatis&lt;/artifactId> &lt;version>3.5.6&lt;/version> &lt;/dependency> ÂºïÂÖ•È¶ñÂÖàÂÆö‰πâdatasource public class DatabaseConfig &#123; static String driver = \"com.mysql.jdbc.Driver\"; static String url = \"jdbc:mysql://localhost:3306/db_itdoc?useSSL=false\"; static String username = \"root\"; static String password = \"12345678\"; public static DataSource getDataSource() &#123; Properties properties = new Properties(); properties.setProperty(\"driver\", driver); properties.setProperty(\"url\", url); properties.setProperty(\"username\", username); properties.setProperty(\"password\", password); UnpooledDataSourceFactory unpooledDataSourceFactory = new UnpooledDataSourceFactory(); unpooledDataSourceFactory.setProperties(properties); DataSource dataSource = unpooledDataSourceFactory.getDataSource(); return dataSource; &#125; &#125; Ëé∑ÂèñsessionFactory public class MybatisLoader &#123; static SqlSessionFactory sqlSessionFactory = null; public static SqlSessionFactory getSqlSessionFactory() &#123; if (sqlSessionFactory == null) &#123; DataSource dataSource = DatabaseConfig.getDataSource(); TransactionFactory transactionFactory = new JdbcTransactionFactory(); Environment environment = new Environment(\"development\", transactionFactory, dataSource); Configuration configuration = new Configuration(environment); configuration.addMapper(UserMapper.class); sqlSessionFactory = new SqlSessionFactoryBuilder().build(configuration); &#125; return sqlSessionFactory; &#125; &#125; ÂÆö‰πâmapperpublic interface UserMapper &#123; @Select(\"SELECT * FROM user WHERE id = #&#123;id&#125;\") User selectUser(int id); @Insert(\"INSERT INTO user(name,email) VALUES(#&#123;name&#125;, #&#123;email&#125;)\") int insertUser(User user); &#125; Êü•ËØ¢ÂíåÊèíÂÖ•public class UserController &#123; public UserController() &#123; &#125; @GetMapping(path = \"/user/profile\") public String profile(HttpServletRequest request, HttpServletResponse response) &#123; System.out.print(request.getCookies()); return \"i am user profile\"; &#125; @GetMapping(path = \"/user\") public Response user(HttpServletRequest request, int id) &#123; User user = null; SqlSession session = MybatisLoader.getSqlSessionFactory().openSession(); UserMapper mapper = session.getMapper(UserMapper.class); user = mapper.selectUser(id); return new Response(0, \"Ëé∑ÂèñÊàêÂäü\", user); &#125; @PostMapping(path = \"/user/add\") public Response add(User user) &#123; Log.info(\"request user\", user); try &#123; SqlSession session = MybatisLoader.getSqlSessionFactory().openSession(); UserMapper mapper = session.getMapper(UserMapper.class); int id = mapper.insertUser(user); session.commit(); Log.debug(\"ËøîÂõû\", id); &#125; catch (Exception e) &#123; Log.error(\"‰øùÂ≠òÂ§±Ë¥•\", e); &#125; return new Response(0, \"‰øùÂ≠ò\", user); &#125; &#125;","categories":[],"tags":[{"name":"java","slug":"java","permalink":"http://visonforcoding.xyz/tags/java/"}]},{"title":"Introduction to Spring MVC HandlerInterceptorÊã¶Êà™Âô®‰ªãÁªç","slug":"java/Introduction-to-Spring-MVC-HandlerInterceptorÊã¶Êà™Âô®‰ªãÁªç","date":"2020-09-24T06:41:22.000Z","updated":"2021-10-30T02:59:33.276Z","comments":true,"path":"2020/09/24/java/Introduction-to-Spring-MVC-HandlerInterceptorÊã¶Êà™Âô®‰ªãÁªç/","link":"","permalink":"http://visonforcoding.xyz/2020/09/24/java/Introduction-to-Spring-MVC-HandlerInterceptor%E6%8B%A6%E6%88%AA%E5%99%A8%E4%BB%8B%E7%BB%8D/","excerpt":"","text":"","categories":[],"tags":[{"name":"JAVA","slug":"JAVA","permalink":"http://visonforcoding.xyz/tags/JAVA/"}]},{"title":"Java JPAÂ≠¶‰π†","slug":"java/Java-JPAÊÄùËÄÉ","date":"2020-09-23T08:56:11.000Z","updated":"2021-12-24T03:16:54.568Z","comments":true,"path":"2020/09/23/java/Java-JPAÊÄùËÄÉ/","link":"","permalink":"http://visonforcoding.xyz/2020/09/23/java/Java-JPA%E6%80%9D%E8%80%83/","excerpt":"JPAÂç≥Java Persistence API. 2006Âπ¥5Êúà11Âè∑ÔºåJPA 1.0 ËßÑËåÉ‰Ωú‰∏∫ JCP JSR 220 ÁöÑ‰∏ÄÈÉ®ÂàÜÊúÄÁªàË¢´ÂèëÂ∏É„ÄÇ Âú®PHP‰∏ñÁïåÂΩì‰∏≠doctrine„ÄÅcake ORM ÈÉΩÊúâJPAÁöÑÂΩ±Â≠ê„ÄÇ","text":"JPAÂç≥Java Persistence API. 2006Âπ¥5Êúà11Âè∑ÔºåJPA 1.0 ËßÑËåÉ‰Ωú‰∏∫ JCP JSR 220 ÁöÑ‰∏ÄÈÉ®ÂàÜÊúÄÁªàË¢´ÂèëÂ∏É„ÄÇ Âú®PHP‰∏ñÁïåÂΩì‰∏≠doctrine„ÄÅcake ORM ÈÉΩÊúâJPAÁöÑÂΩ±Â≠ê„ÄÇ EntityÊåÅ‰πÖÂåñÂÆû‰ΩìÊòØ‰∏Ä‰∏™ËΩªÈáèÁ∫ßÁöÑ Java Á±ªÔºåÂÖ∂Áä∂ÊÄÅÈÄöÂ∏∏ÊåÅ‰πÖÂú∞‰øùÂ≠òÂà∞ÂÖ≥Á≥ªÊï∞ÊçÆÂ∫ìÁöÑË°®‰∏≠„ÄÇ ËøôÁßçÂÆû‰ΩìÁöÑÂÆû‰æãÂØπÂ∫î‰∫éË°®‰∏≠ÁöÑÂêÑ‰∏™Ë°å„ÄÇ ÂÆû‰Ωì‰πãÈó¥ÈÄöÂ∏∏ÊúâÂÖ≥Á≥ªÔºåËøô‰∫õÂÖ≥Á≥ªÈÄöËøáÂØπË±°/ÂÖ≥Á≥ªÂÖÉÊï∞ÊçÆË°®Á§∫„ÄÇ ÂèØ‰ª•Âú®ÂÆû‰ΩìÁ±ªÊñá‰ª∂‰∏≠Áõ¥Êé•‰ΩøÁî®Ê≥®ÈáäÊù•ÊåáÂÆöËøôÁßçÂÖ≥Á≥ªÔºå‰πüÂèØ‰ª•Âú®ÈöèÂ∫îÁî®Á®ãÂ∫èÂàÜÂèëÁöÑÂçïÁã¨XMLÊèèËø∞Êñá‰ª∂‰∏≠ÊåáÂÆö„ÄÇ JPQLJavaÊåÅ‰πÖÂåñÊü•ËØ¢ËØ≠Ë®Ä ÔºàJPQLÔºâÂØπÂ≠òÂÇ®Âú®ÂÖ≥Á≥ªÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑÂÆû‰ΩìËøõË°åÊü•ËØ¢„ÄÇÊü•ËØ¢Âú®ËØ≠Ê≥ï‰∏äÁ±ª‰ºº‰∫éSQLÊü•ËØ¢Ôºå‰ΩÜÊòØÊìç‰ΩúÁöÑÊòØÂÆû‰ΩìÂØπË±°ËÄå‰∏çÊòØÁõ¥Êé•ÂØπÊï∞ÊçÆÂ∫ìË°®ËøõË°åÊìç‰Ωú„ÄÇ Âä®Êú∫Âú®ÂºïÂÖ•EJB 3.0ËßÑËåÉ‰πãÂâçÔºåËÆ∏Â§ö‰ºÅ‰∏öÁ∫ßJavaÂºÄÂèë‰∫∫Âëò‰ΩøÁî®Áî±ÊåÅ‰πÖÂåñÊ°ÜÊû∂Ôºà‰æãÂ¶ÇHibernateÔºâÊàñÊï∞ÊçÆËÆøÈóÆÂØπË±°ÔºàDAOÔºâÊèê‰æõÁöÑËΩªÈáèÁ∫ßÊåÅ‰πÖÂåñÂØπË±°ÔºåÊù•‰ª£ÊõøÂÆû‰ΩìbeanÔºàEJBÁöÑ‰∏ÄÁßçÔºâ„ÄÇ ËøôÊòØÂõ†‰∏∫Âú®‰ª•ÂâçÁöÑEJBËßÑËåÉ‰∏≠ÔºåÂÆû‰ΩìbeanÈúÄË¶ÅÂ§™Â§öÂ§çÊùÇÁöÑ‰ª£Á†ÅÂíåÁπÅÈáçÁöÑËµÑÊ∫êÂç†Áî®ÔºåÂπ∂‰∏îÁî±‰∫ébeanÂíåDAOÂØπË±°ÊàñÊåÅ‰πÖÂåñÊ°ÜÊû∂‰πãÈó¥ÁöÑÊ∫ê‰ª£Á†Å‰∏≠ÁöÑ‰∫íËøûÂíå‰æùËµñÊÄßÔºåÂÆÉ‰ª¨Âè™ËÉΩÂú®Java EEÂ∫îÁî®Á®ãÂ∫èÊúçÂä°Âô®‰∏≠‰ΩøÁî®„ÄÇ Âõ†Ê≠§ÔºåÊúÄÂàùÂú®Á¨¨‰∏âÊñπÊåÅ‰πÖÊÄßÊ°ÜÊû∂‰∏≠Êèê‰æõÁöÑËÆ∏Â§öÂäüËÉΩÈÉΩË¢´ÂêàÂπ∂Âà∞Java Persistence API‰∏≠ÔºåÂπ∂‰∏î‰ªé2006Âπ¥ÂºÄÂßãÔºåÂÉèHibernateÔºàÁâàÊú¨3.2ÔºâÂíåTopLink EssentialsËøôÊ†∑ÁöÑÈ°πÁõÆÂ∑≤ÁªèÂÆûÁé∞Java Persistence APIËßÑËåÉ„ÄÇ JPAÊèê‰æõÂïÜJPAÊòØ‰∏Ä‰∏™ÂºÄÊ∫êAPIÔºåÂõ†Ê≠§OracleÔºåRedhatÔºåEclipseÁ≠âÂêÑÁßç‰ºÅ‰∏ö‰æõÂ∫îÂïÜÈÄöËøáÂú®ÂÖ∂‰∏≠Ê∑ªÂä†JPAÊåÅ‰πÖÊÄßÈ£éÊ†ºÊù•Êèê‰æõÊñ∞‰∫ßÂìÅ„ÄÇ ÂÖ∂‰∏≠‰∏Ä‰∫õ‰∫ßÂìÅÂåÖÊã¨: Hibernate, Eclipselink, Toplink, Spring Data JPA, etc. JSRÂÆö‰πâ‰∫ÜÊ†áÂáÜÔºå‰ºóÂ§öÁªÑÁªáÂØπËøô‰∏™Ê†áÂáÜËøõË°å‰∫ÜÂÆûÁé∞ÔºåËøô‰ΩøÂæóÂºÄÂèëËÄÖÂá†‰πéÂèØ‰ª•Âú®‰∏çÂêåÁöÑÂÆûÁé∞ÁâàÊú¨ÈáåÊó†ÁºùÂàáÊç¢„ÄÇ spring-data-jpa‰∫ãÂÆû‰∏äSpring-data-jpaÂπ∂‰∏çÊòØjpaÁöÑÂÖ∑‰ΩìÂÆûÁé∞ÊàñÊèê‰æõÂïÜ„ÄÇÂÆÉÂè™ÊòØjpaÁöÑ‰∏Ä‰∏™Êï∞ÊçÆËÆøÈóÆÊäΩË±°.Âú®spring-data-jpa‰∏≠‰Ω†ÂèØ‰ª•‰ΩøÁî®Hibernate, Eclipse Link, ÂíåÂÖ∂‰ªñÁöÑJPA provider„ÄÇ hibernatespring-data-jpa ÈªòËÆ§‰ΩøÁî®ÁöÑÊòØhibernate,Êàë‰ª¨ÂèØ‰ª•Êü•Áúã‰ΩøÁî®ÁöÑÁâàÊú¨„ÄÇ public class Application &#123; public static void main(String[] args) &#123; SpringApplication.run(Application.class, args); log.info(String.format(\"spring version is : %s\",SpringVersion.getVersion())); //Êü•Áúã hibernate ÁâàÊú¨ log.info(String.format(\"hibernate version is : %s\",Version.getVersionString())); &#125; &#125; Êõ¥Â§öÂÆòÊñπÊñáÊ°£ÂèØÊü•ÈòÖ https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html Ê≥®Ëß£ AnnotationsÈÄöÂ∏∏ÔºåXmlÊñá‰ª∂Áî®‰∫éÈÖçÁΩÆÁâπÂÆöÁªÑ‰ª∂ÔºåÊàñÊò†Â∞Ñ‰∏§Áßç‰∏çÂêåËßÑÊ†ºÁöÑÁªÑ‰ª∂„ÄÇ Âú®Êàë‰ª¨ÁöÑ‰æãÂ≠ê‰∏≠ÔºåÊàë‰ª¨ÂøÖÈ°ªÂú®Ê°ÜÊû∂‰∏≠ÂçïÁã¨Áª¥Êä§xml„ÄÇ ËøôÊÑèÂë≥ÁùÄÂú®ÁºñÂÜôÊò†Â∞ÑxmlÊñá‰ª∂Êó∂ÔºåÊàë‰ª¨ÈúÄË¶ÅÂ∞ÜPOJOÁ±ªÂ±ûÊÄß‰∏émapping.xmlÊñá‰ª∂‰∏≠ÁöÑÂÆû‰ΩìÊ†áËÆ∞ËøõË°åÊØîËæÉ„ÄÇ ËøôÊòØËß£ÂÜ≥ÊñπÊ°à:Âú®Á±ªÂÆö‰πâ‰∏≠ÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®Ê≥®ÈáäÁºñÂÜôÈÖçÁΩÆÈÉ®ÂàÜ„ÄÇ Ê≥®ÈáäÁî®‰∫éÁ±ªÔºåÂ±ûÊÄßÂíåÊñπÊ≥ï„ÄÇ Ê≥®Èáä‰ª•‚Äú@‚ÄùÁ¨¶Âè∑ÂºÄÂ§¥„ÄÇ Âú®Â£∞ÊòéÁ±ªÔºåÂ±ûÊÄßÊàñÊñπÊ≥ï‰πãÂâçÂ£∞ÊòéÊ≥®Èáä„ÄÇ JPAÁöÑÊâÄÊúâÊ≥®ÈáäÈÉΩÂú®javax.persistenceÂåÖ‰∏≠ÂÆö‰πâ„ÄÇ ‰ª•‰∏ãÊòØÊàë‰ª¨ÁöÑÁ§∫‰æã‰∏≠‰ΩøÁî®ÁöÑÊ≥®ÈáäÂàóË°® Ê≥®Ëß£ ÊèèËø∞ @Entity Ê≠§ÊâπÊ≥®ÊåáÂÆöÂ∞ÜÁ±ªÂ£∞Êòé‰∏∫ÂÆû‰ΩìÊàñË°® @Table Ê≠§ÊâπÊ≥®ÊåáÂÆöÂ£∞ÊòéË°®Âêç„ÄÇ @Basic Ê≠§ÊâπÊ≥®ÊòéÁ°ÆÊåáÂÆöÈùûÁ∫¶ÊùüÂ≠óÊÆµ @Embedded Ê≠§ÊâπÊ≥®ÊåáÂÆöÁ±ªÊàñÂÆû‰ΩìÁöÑÂ±ûÊÄßÔºåËØ•ÂÆû‰ΩìÁöÑÂèØÂµåÂÖ•Á±ªÁöÑÂÄºÂÆû‰æã„ÄÇ @Id Ê≠§ÊâπÊ≥®ÊåáÂÆöÂ±ûÊÄßÔºåÁî®‰∫éÁ±ªÁöÑÊ†áËØÜÔºàË°®ÁöÑ‰∏ªÈîÆÔºâ„ÄÇ @GeneratedValue Ê≠§ÊâπÊ≥®ÊåáÂÆö‰∫ÜÂ¶Ç‰ΩïÂàùÂßãÂåñÊ†áËØÜÂ±ûÊÄßÔºå‰æãÂ¶ÇËá™Âä®ÔºåÊâãÂä®Êàñ‰ªéÂ∫èÂàóË°®‰∏≠Ëé∑ÂèñÁöÑÂÄº„ÄÇ @Transient Ê≠§ÊâπÊ≥®ÊåáÂÆö‰∫Ü‰∏çÊåÅ‰πÖÁöÑÂ±ûÊÄßÔºåÂç≥ËØ•ÂÄºÊ∞∏Ëøú‰∏ç‰ºöÂ≠òÂÇ®Âà∞Êï∞ÊçÆÂ∫ì‰∏≠„ÄÇ @Column Ê≠§ÊâπÊ≥®Áî®‰∫éÊåáÂÆöÊåÅ‰πÖÊÄßÂ±ûÊÄßÁöÑÂàóÊàñÂ±ûÊÄß„ÄÇ @SequenceGenerator Ê≠§ÊâπÊ≥®Áî®‰∫éÂÆö‰πâ@GeneratedValueÊâπÊ≥®‰∏≠ÊåáÂÆöÁöÑÂ±ûÊÄßÁöÑÂÄº„ÄÇ ÂÆÉÂàõÂª∫‰∫Ü‰∏Ä‰∏™Â∫èÂàó„ÄÇ @TableGenerator Ê≠§ÊâπÊ≥®Áî®‰∫éÊåáÂÆö@GeneratedValueÊâπÊ≥®‰∏≠ÊåáÂÆöÁöÑÂ±ûÊÄßÁöÑÂÄºÁîüÊàêÂô®„ÄÇ ÂÆÉÂàõÂª∫‰∫Ü‰∏Ä‰∏™‰ª∑ÂÄºÁîüÊàêË°®„ÄÇ @AccessType Ê≠§Á±ªÊ≥®ÈáäÁî®‰∫éËÆæÁΩÆËÆøÈóÆÁ±ªÂûã„ÄÇ Â¶ÇÊûúËÆæÁΩÆ@AccessTypeÔºàFIELDÔºâÔºåÂàô‰ºöÂèëÁîüÂ≠óÊÆµËÆøÈóÆ„ÄÇ Â¶ÇÊûúËÆæÁΩÆ@AccessTypeÔºàPROPERTYÔºâÔºåÂàôÂ∞ÜËøõË°åProperty wiseËØÑ‰º∞„ÄÇ @JoinColumn Ê≠§ÊâπÊ≥®Áî®‰∫éÊåáÂÆöÂÆû‰ΩìÂÖ≥ËÅîÊàñÂÆû‰ΩìÈõÜÂêà„ÄÇ ËøôÁî®‰∫éÂ§öÂØπ‰∏ÄÂíå‰∏ÄÂØπÂ§öÂÖ≥ËÅî„ÄÇ @UniqueConstraint Ê≠§ÊâπÊ≥®Áî®‰∫éÊåáÂÆö‰∏ªË¶ÅÊàñËæÖÂä©Ë°®ÁöÑÂ≠óÊÆµÔºåÂîØ‰∏ÄÁ∫¶Êùü„ÄÇ @ColumnResult Ê≠§ÊâπÊ≥®‰ΩøÁî®selectÂ≠êÂè•ÂºïÁî®SQLÊü•ËØ¢‰∏≠ÁöÑÂàóÁöÑÂêçÁß∞„ÄÇ @ManyToMany Ê≠§ÊâπÊ≥®Áî®‰∫éÂÆö‰πâËøûÊé•Ë°®‰πãÈó¥ÁöÑÂ§öÂØπÂ§öÂÖ≥Á≥ª„ÄÇ @ManyToOne Ê≠§ÊâπÊ≥®Áî®‰∫éÂÆö‰πâËøûÊé•Ë°®‰πãÈó¥ÁöÑÂ§öÂØπ‰∏ÄÂÖ≥Á≥ª„ÄÇ @OneToMany Ê≠§ÊâπÊ≥®Áî®‰∫éÂÆö‰πâËøûÊé•Ë°®‰πãÈó¥ÁöÑ‰∏ÄÂØπÂ§öÂÖ≥Á≥ª„ÄÇ @OneToOne Ê≠§ÊâπÊ≥®Áî®‰∫éÂÆö‰πâËøûÊé•Ë°®‰πãÈó¥ÁöÑ‰∏ÄÂØπ‰∏ÄÂÖ≥Á≥ª„ÄÇ @NamedQueries Ê≠§ÊâπÊ≥®Áî®‰∫éÊåáÂÆöÂëΩÂêçÊü•ËØ¢ÁöÑÂàóË°®„ÄÇ @NamedQuery Ê≠§ÊâπÊ≥®Áî®‰∫é‰ΩøÁî®ÈùôÊÄÅÂêçÁß∞ÊåáÂÆöÊü•ËØ¢„ÄÇ Transient Ê≠§ÊâπÊ≥®ÊåáÂÆö‰∫Ü‰∏çÊåÅ‰πÖÁöÑÂ±ûÊÄßÔºåÂç≥ËØ•ÂÄºÊ∞∏Ëøú‰∏ç‰ºöÂ≠òÂÇ®Âà∞Êï∞ÊçÆÂ∫ì‰∏≠„ÄÇ JPAÈªòËÆ§ÊâÄÊúâEntityÂ±ûÊÄßÈÉΩÊòØÊï∞ÊçÆË°®Column,Â¶ÇÊûúÈúÄË¶ÅÂ¢ûÂä†ÂÖ∂‰ªñË°çÁîüÂ±ûÊÄßËÄå‰∏çÈúÄË¶ÅÊàê‰∏∫Êï∞ÊçÆË°®Â≠óÊÆµÔºåÂàôÈúÄË¶ÅÊ≠§Ê≥®Ëß£„ÄÇ private Integer purchasingPriceFen; @Transient private String purchasingPrice; public String getPurchasingPrice() &#123; return String.format(\"%d\", this.purchasingPriceFen / 100); &#125; Êú¨‰æã‰∏≠ÔºåpurchasingPriceÊòØpurchasingPriceFenÁöÑÊ†ºÂºèÂåñË°®Á§∫ÔºåÊñπ‰æø‰∏Ä‰∫õÂÆû‰ΩìÂ±ûÊÄßÁöÑÊ†ºÂºèÂåñËæìÂá∫„ÄÇ TableÂ§ö‰∏∫Êï∞ÊçÆÂ∫ìË°®Âêç‰∏éentityÁ±ªÂêç‰∏ç‰∏ÄËá¥ÁöÑÊÉÖÂÜµ. @Entity(name = \"dorder\") public class Order extends BaseEntity &#123; &#125; Âú®ÂÆûÈôÖÂºÄÂèëÂΩì‰∏≠,Êàë‰ª¨ÈÉΩÂ∏åÊúõ‰ª£Á†ÅÊ≥®ÈáäÂíåÊï∞ÊçÆË°®Ê≥®ÈáäË∂äÂÖ®Ë∂äÂ•Ω„ÄÇÈÇ£‰πàÂ¶Ç‰Ωï‰ΩøÁî®JPAÂÆö‰πâË°®ÁöÑÊ≥®ÈáäÂë¢„ÄÇjavax.persistence.TableÊú¨Ë∫´Âäû‰∏çÂà∞Ôºå‰ΩÜÊòØÂÖ∂ÂÆûÁé∞ÊñπhibernateÁöÑTableÊ≥®Ëß£ÂèØ‰ª•„ÄÇ import org.hibernate.annotations.Table; @Table(appliesTo = \"dorder\", comment = \"ËÆ¢ÂçïË°®\") public class Order extends BaseEntity &#123; &#125; ColumnËØ•Ê≥®Ëß£Áî®‰∫éÂÆö‰πâÂ≠óÊÆµ,ÂØπÂ∫îÂà∞Êï∞ÊçÆÂ∫ìË°®ÁöÑDDL„ÄÇËØ•Â≠óÊÆµÊàëÂª∫ËÆÆÂ§ö‰ΩøÁî®columnDefinitionÂÆö‰πâÂ•ΩÂ≠óÊÆµÁöÑÊï∞ÊçÆÁ±ªÂûã,comment @Column(columnDefinition = \"varchar(25) NOT NULL default 'Êó†Âêç' comment 'ÂïÜÂìÅÂêç'\") private String name; Temporal@Temporal ÊòØÂ±ûÊÄßÊàñÊñπÊ≥ïÁ∫ßÂà´ÁöÑÊ≥®Ëß£ÔºåÁî®‰∫éÂ£∞ÊòéÂ±ûÊÄßÊåÅ‰πÖÂåñÂà∞Êï∞ÊçÆÂ∫ìÊó∂ÊâÄ‰ΩøÁî®ÁöÑÊó∂Èó¥Á≤æÂ∫¶„ÄÇËØ•Ê≥®Ëß£ÂèØ‰ª•Â∫îÁî®‰∫é‰ªª‰Ωï‰ª•‰∏ãÁ±ªÂûãÁöÑÂÆû‰ΩìÁ±ªÂ±ûÊÄßÔºö java.util.Datejava.util.Calendar @Temporal(TemporalType.TIME) private Date tokenExpiredTime; Entity Relationships ÂÆû‰ΩìÂÖ≥Á≥ªÔºåRDBMS‰∏éNoSQLÊúÄÁõ¥Êé•ÁöÑÂå∫Âà´,Áõ¥Êé•ÂΩ±ÂìçÂà∞‰∫ÜÊàë‰ª¨Â∫îÁî®Á®ãÂ∫èÁöÑ‰∏öÂä°Êï∞ÊçÆÂª∫Ê®°„ÄÇÈÇ£‰πàJPAÊòØÂ¶Ç‰ΩïÊù•Ë°®Á§∫ÂÆû‰ΩìÂÖ≥Á≥ªÂë¢„ÄÇ ‰∏ÄÂØπ‰∏ÄÂÖ≥Á≥ªAÂíåÂÖ≥Á≥ªBÊòØ‰∏ÄÂØπ‰∏ÄÁöÑÂÖ≥Á≥ªÔºå‰∏ÄËà¨Âú®‰∏Ä‰∏™Ë°®ÈáåÊúâÂè¶‰∏Ä‰∏™Ë°®ÁöÑÂÖ≥ËÅîid,ËøõË°åÂÖ≥ËÅî„ÄÇ ‰æãÂ¶Ç,Áî®Êà∑‰∏éÂΩìÂâçÂÆ∂Â∫≠‰ΩèÂùÄÊòØ‰∏ÄÂØπ‰∏ÄÂÖ≥Á≥ª„ÄÇÂïÜÂìÅ‰∏éÂïÜÂìÅÁ±ªÂà´ÊòØ‰∏ÄÂØπ‰∏ÄÂÖ≥Á≥ª„ÄÇ Êàë‰ª¨ÂÖàÊåâÂÆòÊñπÊåáÂØºÊù•‰ΩøÁî®„ÄÇ //ÂÆö‰πâÂú∞ÂùÄÂÆû‰Ωì @Entity @Table(appliesTo = \"address\", comment = \"Âú∞ÂùÄË°®\") public class Address extends BaseEntity &#123; @Column(columnDefinition = \"varchar(50) NOT NULL COMMENT 'ËØ¶ÁªÜÂú∞ÂùÄ'\") private String detail; public String getDetail() &#123; return detail; &#125; public void setDetail(String detail) &#123; this.detail = detail; &#125; &#125; //ÂÆö‰πâÁî®Êà∑ÂÆû‰Ωì @Entity public class User extends BaseEntity &#123; @NotBlank(message = \"ÂêçÂ≠ó‰∏çÂèØ‰∏∫Á©∫\") private String name; private short age; private String mobile; @OneToOne @JoinColumn(name = \"address_id\", referencedColumnName = \"id\") private Address address; &#125; JoinColumnÊ≥®Ëß£ÂÆö‰πâ‰∫ÜUserË°®ÁöÑÂÖ≥ËÅîÂ≠óÊÆµÂíåÂÖ≥ËÅîË°®addressÁöÑÂÖ≥ËÅîÂ≠óÊÆµ„ÄÇÂØπÂ∫îÂà∞Êï∞ÊçÆÂ∫ìÈáå‰ºöËá™Âä®ÁîüÊàêÂ§ñÈîÆÂπ∂Ë°åÊàêÂ§ñÈîÆÁ∫¶Êùü„ÄÇ ÂÜçÊù•ÁúãÁúãÂΩìË°®Ë¢´ÂÖ≥ËÅî‰∫ÜÂ¶Ç‰ΩïÂÅöCURD„ÄÇ @RestController @Log4j2 public class UserController &#123; @Autowired UserService userService; @Autowired private UserRepository userRepository; @PostMapping(name = \"Áî®Êà∑Ê∑ªÂä†\", path = \"/user/add\") public Response add(@Valid @RequestBody User user) &#123; Optional&lt;User> user1 = userRepository.findByName(user.getName()); userRepository.save(user); return new Response(0, \"Ëé∑ÂèñÊàêÂäü\", user); &#125; @GetMapping(name = \"Áî®Êà∑ËØ¶ÊÉÖ\",path = \"/user/&#123;id&#125;\") public Response detail(@PathVariable Long id)&#123; Optional&lt;User> user = userRepository.findById(id); if (user.isPresent()) &#123; return new Response(ResponseCode.success, \"Ëé∑ÂèñÊàêÂäü\", user.get()); &#125; return new Response(ResponseCode.noDataFound, \"Ëé∑ÂèñÂ§±Ë¥•\"); &#125; &#125; Âú®Êï∞ÊçÆÊèê‰∫§Êó∂ÔºåÂÖ≥ËÅîË°®ÁöÑÊï∞ÊçÆÁî®ÂµåÂ•óÁöÑjsonËøõË°åÊèê‰∫§Âç≥ÂèØ„ÄÇÊï∞ÊçÆÊü•ËØ¢Êó∂‰ΩøÁî®Repository‰ºöËá™Âä®ËøõË°åÂÖ≥ËÅîÊü•ËØ¢,Êü•ÁúãÊó•ÂøóÂèØ‰ª•ÁúãÂà∞ÂÆûÈôÖÁöÑsql. SELECT user0_.id AS id1_4_0_, user0_.create_time AS create_t2_4_0_, user0_.modify_time AS modify_t3_4_0_, user0_.address_id AS address_7_4_0_, user0_.age AS age4_4_0_, user0_.mobile AS mobile5_4_0_, user0_.name AS name6_4_0_, address1_.id AS id1_0_1_, address1_.create_time AS create_t2_0_1_, address1_.modify_time AS modify_t3_0_1_, address1_.detail AS detail4_0_1_ FROM USER user0_ LEFT OUTER JOIN address address1_ ON user0_.address_id = address1_.id WHERE user0_.id = 3 ËøôÁÇπÂú®ÊüêÁßçÁ®ãÂ∫¶‰∏ä‰ºöËÆ©ÂºÄÂèëÂèòÂæóÂæàÊñπ‰æøÔºå‰ΩÜ‰πü‰ºöÊúâÊΩúÂú®ÁöÑÊÄßËÉΩÈ£éÈô©ÔºåÂõ†‰∏∫Â§öË°®ÂÖ≥ËÅîÊï∞ÊçÆÈáèÂ§ßÁöÑÊÉÖÂÜµ‰∏ãÂøÖÁÑ∂‰ºö‰ΩøÂæóÊÄßËÉΩ‰∏ãÈôç Êü•ËØ¢ÁªìÊûú‰πü‰ª•ÂµåÂ•ójsonÂØπË±°ÁöÑÂΩ¢ÂºèÂ±ïÁé∞ËøôÁÇπÈùûÂ∏∏Ê£í„ÄÇ javax.persistence.CascadeTypeÂú®ÂÆö‰πâÂÖ≥ËÅîÂÖ≥Á≥ªÊó∂ÂèØ‰ª•ÂÆö‰πâ,Á∫ßËÅîÁöÑÂÖ≥Á≥ªÊìç‰Ωú„ÄÇ Á±ªÂûã ËØ¥Êòé Ëß£Èáä ALL Á∫ßËÅîÊâÄÊúâÂÆû‰ΩìÁä∂ÊÄÅËΩ¨Êç¢ Êã•ÊúâÊâÄÊúâÁ∫ßËÅîÊìç‰ΩúÊùÉÈôê„ÄÇ PERSIST Á∫ßËÅîÂÆû‰ΩìÊåÅ‰πÖÂåñÊìç‰Ωú ÂΩìÁà∂ÂÆû‰ΩìË¢´ÊåÅ‰πÖÂåñÊó∂Ôºå‰ºöËøûÂêåÊåÅ‰πÖÂåñÂ≠êÂÆû‰Ωì MERGE Á∫ßËÅîÂÆû‰ΩìÂêàÂπ∂Êìç‰Ωú ÂΩìStudent‰∏≠ÁöÑÊï∞ÊçÆÊîπÂèòÔºå‰ºöÁõ∏Â∫îÂú∞Êõ¥Êñ∞Course‰∏≠ÁöÑÊï∞ÊçÆ„ÄÇ REMOVE Á∫ßËÅîÂÆû‰ΩìÂà†Èô§Êìç‰Ωú Âà†Èô§ÂΩìÂâçÂÆû‰ΩìÊó∂Ôºå‰∏éÂÆÉÊúâÊò†Â∞ÑÂÖ≥Á≥ªÁöÑÂÆû‰Ωì‰πü‰ºöË∑üÁùÄË¢´Âà†Èô§„ÄÇ REFRESH Á∫ßËÅîÂÆû‰ΩìÂà∑Êñ∞Êìç‰Ωú ÂÅáËÆæÂú∫ÊôØ Êúâ‰∏Ä‰∏™ËÆ¢Âçï,ËÆ¢ÂçïÈáåÈù¢ÂÖ≥ËÅî‰∫ÜËÆ∏Â§öÂïÜÂìÅ,Ëøô‰∏™ËÆ¢ÂçïÂèØ‰ª•Ë¢´ÂæàÂ§ö‰∫∫Êìç‰Ωú,ÈÇ£‰πàËøô‰∏™Êó∂ÂÄôAÂØπÊ≠§ËÆ¢ÂçïÂíåÂÖ≥ËÅîÁöÑÂïÜÂìÅËøõË°å‰∫Ü‰øÆÊîπ,‰∏éÊ≠§ÂêåÊó∂,B‰πüËøõË°å‰∫ÜÁõ∏ÂêåÁöÑÊìç‰Ωú,‰ΩÜÊòØBÂÖà‰∏ÄÊ≠•ÊØîA‰øùÂ≠ò‰∫ÜÊï∞ÊçÆ,ÈÇ£‰πàÂΩìA‰øùÂ≠òÊï∞ÊçÆÁöÑÊó∂ÂÄô,Â∞±ÈúÄË¶ÅÂÖàÂà∑Êñ∞ËÆ¢Âçï‰ø°ÊÅØÂèäÂÖ≥ËÅîÁöÑÂïÜÂìÅ‰ø°ÊÅØÂêé,ÂÜçÂ∞ÜËÆ¢ÂçïÂèäÂïÜÂìÅ‰øùÂ≠ò„ÄÇ DETACH Á∫ßËÅîÂÆû‰ΩìÂàÜÁ¶ªÊìç‰Ωú FetchTypeÂú®ÂÆö‰πâÂÆû‰ΩìÂÖ≥Á≥ªÁöÑOneToOneÊàñÂÖ∂‰ªñÂÖ≥Á≥ªÊ≥®Ëß£Êó∂ÔºåÊàë‰ª¨ÂèØ‰ª•ÂÆö‰πâfetchÂ±ûÊÄß„ÄÇ FetchType.LAZY FetchType.EAGER lazyÂç≥ÊáíÊÉ∞Ê®°ÂºèeagerÊ∏¥ÊúõÊ®°Âºè„ÄÇË°®Áé∞Â∑ÆÂºÇÂú®‰∫éeager‰ºö‰∏ÄÂºÄÂßãÂ∞±Êü•ÊâæÂá∫ÂÖ≥ËÅîÂÆû‰ΩìÔºåËÄålazyÊ®°ÂºèÊòØÂΩì‰Ω†Ë∞ÉÁî®Áõ∏Â∫îÂÖ≥ËÅîgetÊñπÊ≥ïÊó∂Êâç‰ºöÊü•ËØ¢„ÄÇÊú¨Ë¥®Âå∫Âà´Âú®‰∫élazyÊòØÂàÜsqlÊü•ËØ¢,eagerÊòØjoinÂÖ≥ËÅîÊü•ËØ¢„ÄÇ ÂΩìÊàë‰ª¨ÂÆö‰πâ@OneToOne(fetch = FetchType.LAZY)Êü•ÁúãÊó•ÂøóÁöÑËØùÔºåÊàë‰ª¨ÂèØ‰ª•ÁúãÂà∞‰πãÂâçÁöÑjoinÂèòÊàê‰∫Ü2‰∏™select„ÄÇ ‰∏çËøá‰ºöÂ≠òÂú®‰∏Ä‰∏™ÈóÆÈ¢òÊòØÂú®Ë¢´ÊåáÂÆö‰∏∫lazyÁöÑÂ±ûÊÄßÂØπË±°ÈáåËøîÂõûÁöÑjson‰ºöÊúâ‰∏™hibernateLazyInitializer,Â¶ÇÊûú‰Ω†‰∏çÊÉ≥Â±ïÁ§∫ÁöÑËØùÂèØ‰ª•‰ΩøÁî®Ê≥®Ëß£JsonIgnorePropertiesÂÆö‰πâÂà∞ËØ•ÂØπË±°Á±ª @JsonIgnoreProperties(value=&#123;\"hibernateLazyInitializer\"&#125;) public class Address extends BaseEntity &#123; &#125; ÊÄùËÄÉÂΩìÂú®Â§ßÂûãÂ∫îÁî®ÂΩì‰∏≠,ÊàëÂª∫ËÆÆ‰∏çË¶ÅËøõË°åÂ§ñÈîÆÁ∫¶ÊùüÂíå‰∏çË¶Å‰ΩøÁî®EAGER„ÄÇÂõ†‰∏∫ÂÖ≥ËÅîÊü•ËØ¢ÂæÄÂæÄ‰ºöÂØºËá¥ÊÖ¢Êü•ËØ¢ËÄåÊãñÂûÆÊï∞ÊçÆÂ∫ìÔºåËÄå1Ê¨°ÁöÑsqlÂíå2-3Ê¨°ÁöÑsqlÂÖ∂ÂÆûÂú®Êé•Âè£Â±ÇÈù¢Â∑ÆÂºÇÂπ∂‰∏çÊòéÊòæ„ÄÇ ManyToManyÂú®ËÆ∏Â§öÂú∫ÊôØÂΩì‰∏≠ÔºåÂÖ≥Á≥ªÈÉΩÊòØÂ§öÂØπÂ§öÁöÑÂØπÂ∫îÂÖ≥Á≥ª„ÄÇÊãøÁîµÂïÜ‰∏öÂä°Êù•ËØ¥ÔºåËÆ¢Âçï‰∏éÂïÜÂìÅÁöÑÂÖ≥Á≥ªÊòØÂ§öÂØπÂ§öÁöÑÂÖ≥Á≥ª„ÄÇÂç≥1‰∏™ËÆ¢ÂçïÂèØ‰ª•ÊúâÂ§ö‰∏™ÂïÜÂìÅÔºå1‰∏™ÂïÜÂìÅÂèØ‰ª•Âú®Â§ö‰∏™ËÆ¢ÂçïÂΩì‰∏≠„ÄÇ @Entity(name = \"dorder\") @Table(appliesTo = \"dorder\", comment = \"ËÆ¢ÂçïË°®\") public class Order extends BaseEntity &#123; private String orderNo; private Long uid; private Integer status; private Integer orderPriceFen; @ManyToMany(fetch = FetchType.LAZY) @JoinTable(foreignKey = @ForeignKey(value = ConstraintMode.NO_CONSTRAINT), inverseForeignKey = @ForeignKey(value = ConstraintMode.NO_CONSTRAINT)) private Set&lt;Goods> goods; &#125; Êàë‰ª¨Âú®ËÆ¢ÂçïË°®‰∏≠ÂÆö‰πâ‰∫ÜgoodsÂ±ûÊÄßÂπ∂Áî®ManyToManyË°®Á§∫ÊòØÂ§öÂØπÂ§öÁöÑÂÖ≥Á≥ª„ÄÇ ‰ΩøÁî®ConstraintMode.NO_CONSTRAINTÂéªÈô§Â§ñÈîÆÁ∫¶Êùü„ÄÇ jpa‰ºöÁîüÊàêÂÖ≥ËÅîË°® @RequestMapping(path = \"/order/create\", name = \"ËÆ¢ÂçïÂàõÂª∫\", method = RequestMethod.POST) public Response createOrder(@Valid @RequestBody Order order) &#123; order.setOrderNo(String.format(\"%d\", new Date().getTime())); order.setUid(3L); Set&lt;Goods> orderGoods = new HashSet&lt;>(); for (Goods g : order.getGoods()) &#123; Optional&lt;Goods> goods = goodsRepository.findById(g.getId()); goods.ifPresent(orderGoods::add); &#125; order.setGoods(orderGoods); orderRepository.save(order); return new Response(ResponseCode.success, \"ÂàõÂª∫ÊàêÂäü\", order); &#125; Many-to-Many With a New EntityÊúâÁßçÂú∫ÊôØÊòØÂ§öÂØπÂ§öÁöÑÂÖ≥ËÅîË°®ËøòÈúÄË¶ÅÂÖ∂‰ªñÂ±ûÊÄßÔºåÂèØËÉΩËøôÊòØÂÆûÈôÖÂΩì‰∏≠Êõ¥‰∏∫Â∏∏ËßÅÁöÑÊÉÖÂÜµ„ÄÇÊØîÂ¶ÇËÆ¢ÂçïÂïÜÂìÅË°®ËøòÈúÄË¶ÅËÆ∞ÂΩïÂïÜÂìÅÊï∞Èáè,Ëøô‰∏™Êó∂ÂÄôÊúÄÂ•ΩÁöÑÊñπÂºèÊòØÁî®‰∏Ä‰∏™Êñ∞ÁöÑEntityÊù•Âª∫Á´ãÂ§öÂØπÂ§öÁöÑÂÖ≥ËÅîÂÖ≥Á≥ª„ÄÇ @Entity public class OrderGoods extends BaseEntity &#123; @Column(columnDefinition = \"int NOT NULL comment 'Êï∞Èáè'\") private int nums; @ManyToOne @JoinColumn(foreignKey = @ForeignKey(value = ConstraintMode.NO_CONSTRAINT)) @JsonIgnoreProperties(value = &#123;\"orderGoods\"&#125;) private Order order; @ManyToOne @JoinColumn(foreignKey = @ForeignKey(value = ConstraintMode.NO_CONSTRAINT)) private Goods goods; &#125; ËøòÈúÄÂØπGoodsÂíåOrderËøõË°åmappedBy,Èò≤Ê≠¢Ë¢´ÈáçÂ§çÂÖ≥ËÅî„ÄÇ @Entity @Table(appliesTo = \"goods\", comment = \"ÂïÜÂìÅË°®\") public class Goods extends BaseEntity &#123; @OneToMany(mappedBy = \"goods\") private Set&lt;OrderGoods> orderGoods; &#125; @Entity(name = \"dorder\") @Table(appliesTo = \"dorder\", comment = \"ËÆ¢ÂçïË°®\") public class Order extends BaseEntity &#123; @OneToMany(mappedBy = \"order\") @Transient @JsonIgnoreProperties(value = &#123;\"order\"&#125;) private Set&lt;OrderGoods> orderGoods; &#125; ÊúÄÁªàÂÆåÊàêËÆ¢ÂçïÂíåËÆ¢ÂçïÂïÜÂìÅÁöÑÊ∑ªÂä† ÈóÆÈ¢ò‰ª•‰∏ä‰ª£Á†Å‰∏éÁõ¥Êé•ÁöÑManyToManyÊñπÂºè‰∏çÂêåÁöÑÊòØÔºåÊàëÊ≤°ËÉΩÂÆûÁé∞‰∏ªË°®ÁöÑsaveËÆ©JPAËá™Âä®Â∞ÜÂÖ≥ËÅîË°®Êï∞ÊçÆ‰πüÊèíÂÖ•,ÊòØÊàëÊâãÂä®Â§ÑÁêÜÁöÑ„ÄÇÂõ†‰∏∫ÈÅáÂà∞ÁöÑÈóÆÈ¢òÁé∞Âú®ËøòÊ≤°Ëß£ÂÜ≥„ÄÇ ÊÉ≥ËÆ©ÂÖ∂Ëá™Âä®Â∞ÜÂÖ≥ËÅîÊï∞ÊçÆsave,ÊäähibernateÁöÑinfoÊó•ÂøóÊâìÂºÄ„ÄÇ‰ºöÂèëÁé∞Collection found: was: [&lt;unreferenced&gt;] (initialized)Êó•ÂøóËÆ∞ÂΩï,Â∫îËØ•ÊòØÂì™Èáå‰∏çÂØπÔºå‰ΩÜÊòØÁõÆÂâç‰∏çÁ∫†Áªì‰∫Ü„ÄÇ ‰ª•‰∏ä‰ª£Á†ÅËôΩÁÑ∂ËÉΩÂÆåÊàêÈúÄÊ±Ç‰ΩÜÊòØÊï∞ÊçÆÊèíÂÖ•Âπ∂‰∏çÊòØÂú®‰∏Ä‰∏™‰∫ãÂä°ÂÜÖÊâßË°åÁöÑÔºåÂõ†Ê≠§ÂÆûÈôÖÁîü‰∫ßÂΩì‰∏≠ËøôÁßçÂÜôÊ≥ï‰πü‰∏çÂèØÂèñ,ÈúÄÂÜôÂú®‰∏Ä‰∏™‰∫ãÂä°ÂÜÖ„ÄÇ ÂèÇËÄÉ https://fanlychie.github.io/post/jpa-column-annotation.html https://dzone.com/articles/what-is-the-difference-between-hibernate-and-sprin-1","categories":[],"tags":[{"name":"Java","slug":"Java","permalink":"http://visonforcoding.xyz/tags/Java/"}]},{"title":"PHP QA","slug":"php/PHP-QA‰πãPHPStan","date":"2020-09-17T12:44:41.000Z","updated":"2021-10-30T02:59:33.279Z","comments":true,"path":"2020/09/17/php/PHP-QA‰πãPHPStan/","link":"","permalink":"http://visonforcoding.xyz/2020/09/17/php/PHP-QA%E4%B9%8BPHPStan/","excerpt":"ÂÜôÂú®ÂâçÈù¢ÔºåÂ∑•‰Ωú7Âπ¥ÔºåPHP‰πüÂÜô‰∫Ü7Âπ¥‰∫Ü„ÄÇÊúüÈó¥‰πüÂÜô‰∏Ä‰∫õjavaÂíåpythonÔºå‰πüÂØπÂêÑËØ≠Ë®ÄÁöÑÁâπÁÇπÊúâ‰∏Ä‰∫õËá™Â∑±ÁöÑ‰Ωì‰ºö„ÄÇËøôÊ¨°Âí±‰ª¨ËÅäËÅäQA‰πã‰Ωô‰πüÊù•ËÅäËÅäPHPËØ≠Ë®ÄÊú¨Ë∫´„ÄÇ","text":"ÂÜôÂú®ÂâçÈù¢ÔºåÂ∑•‰Ωú7Âπ¥ÔºåPHP‰πüÂÜô‰∫Ü7Âπ¥‰∫Ü„ÄÇÊúüÈó¥‰πüÂÜô‰∏Ä‰∫õjavaÂíåpythonÔºå‰πüÂØπÂêÑËØ≠Ë®ÄÁöÑÁâπÁÇπÊúâ‰∏Ä‰∫õËá™Â∑±ÁöÑ‰Ωì‰ºö„ÄÇËøôÊ¨°Âí±‰ª¨ËÅäËÅäQA‰πã‰Ωô‰πüÊù•ËÅäËÅäPHPËØ≠Ë®ÄÊú¨Ë∫´„ÄÇ Êù•Âà∞PHPStanÁöÑÂÆòÁΩëÔºåÊàëÁúãÂà∞‰∫Ü‰∏ÄÊÆµËØù„ÄÇ I really like how much productivity a web developer gains by switching from compiled languages like Java or C# to an interpreted one like PHP. Aside from the dead simple execution model (start, handle one request, and die) and a much shorter feedback loop (no need to wait for the compiler), there‚Äôs a healthy ecosystem of open-source frameworks and libraries to help developers with their everyday tasks. Because of these reasons, PHP is the most popular language for web development by far. Â§ßÊÑèÊòØ‰ΩúËÄÖÂæà‰πêÊÑèÁúãÂà∞webÂºÄÂèëËÄÖ‰ª¨‰ªéC#ÊàñJavaËøô‰∫õÁºñËØëÊÄßËØ≠Ë®ÄÈáåÂàáÊç¢Âà∞Ëß£ÈáäËØ≠Ë®Ä„ÄÇÈô§‰∫ÜÁÆÄÂçïÁöÑÊâßË°åÊ®°ÂûãÔºàÂêØÂä®ÔºåÂ§ÑÁêÜ‰∏Ä‰∏™ËØ∑Ê±ÇÂíåÁªàÊ≠¢ÔºâÂíåËæÉÁü≠ÁöÑÂèçÈ¶àÂë®ÊúüÔºàÊó†ÈúÄÁ≠âÂæÖÁºñËØëÔºâ‰πãÂ§ñÔºåËøòÊúâ‰∏Ä‰∏™ÂÅ•Â∫∑ÁöÑÂºÄÊ∫êÊ°ÜÊû∂ÂíåÂ∫ìÁîüÊÄÅÁ≥ªÁªüÂèØÂ∏ÆÂä©ÂºÄÂèë‰∫∫ÂëòÂÆåÊàêÊó•Â∏∏Â∑•‰Ωú‰ªªÂä°„ÄÇÁî±‰∫éËøô‰∫õÂéüÂõ†ÔºåPHPÊòØËøÑ‰ªä‰∏∫Ê≠¢ÊúÄÊµÅË°åÁöÑWebÂºÄÂèëËØ≠Ë®Ä„ÄÇ ËøôÁØáÊñáÁ´†ÊòØ‰ΩúËÄÖ2016Âπ¥12Êúà4Êó•ÂÜôÁöÑÔºåËØ¥ÂÆûËØùÂØπ‰∫éPHPÊòØËøÑ‰ªä‰∏∫Ê≠¢ÊúÄÊµÅË°åÁöÑWebÂºÄÂèëËØ≠Ë®ÄËøôÂè•ËØùÊàëÂ∑≤ÁªèÂºÄÂßãÊÄÄÁñë‰∫Ü„ÄÇËá≥Â∞ëÂú®ÊúÄËøëËøô‰∫õÂπ¥ÔºåÂú®ÂõΩÂÜÖPHPÁöÑÂ∏ÇÂú∫Â∑≤Áªè‰∏çÈÇ£‰πàÂ•Ω‰∫Ü„ÄÇÂπ∂‰∏îÊàë‰πüÂú®Ë∂ãÂêë‰ªéËß£ÈáäÊÄßËØ≠Ë®ÄÂêëÁºñËØëËØ≠Ë®ÄÂàáÊç¢‰∫Ü„ÄÇ‰ΩÜÊòØÂÖ∂‰∏≠ÂØπ‰∫éËß£ÈáäÊÄßËØ≠Ë®ÄÁöÑ‰ºòÂäøÊèèËø∞ÊàëÊòØÈùûÂ∏∏ËµûÂêåÁöÑÔºåËøô‰πüÊòØÂÆÉÂÆùË¥µÁöÑ‰ºòÂäø„ÄÇ ÁÆÄÂçïÁöÑÊâßË°åÊ®°Âûã ËæÉÁü≠ÁöÑÂèçÈ¶àÂë®Êúü QA‰πãPHPStanË®ÄÂΩíÊ≠£‰º†ÔºåÁªßÁª≠PHPStan ÂÆâË£Öcomposer require --dev phpstan&#x2F;phpstan ËøêË°åvendor&#x2F;bin&#x2F;phpstan analyse src tests PHPmd~&#x2F;vendor&#x2F;bin&#x2F;phpmd src&#x2F;Service&#x2F;OrderService.php text codesize,unusedcode,naming","categories":[],"tags":[{"name":"PHP","slug":"PHP","permalink":"http://visonforcoding.xyz/tags/PHP/"}]},{"title":"vue+vuex+axios+vant+vue-routerÁÆÄÂçïÂçïÈ°µÁôªÂΩïÊÄÅdemo","slug":"web/vue-vuex-axios-vant-vue-routerÁÆÄÂçïÂçïÈ°µÁôªÂΩïÊÄÅdemo","date":"2020-09-15T10:12:12.000Z","updated":"2021-10-30T02:59:33.282Z","comments":true,"path":"2020/09/15/web/vue-vuex-axios-vant-vue-routerÁÆÄÂçïÂçïÈ°µÁôªÂΩïÊÄÅdemo/","link":"","permalink":"http://visonforcoding.xyz/2020/09/15/web/vue-vuex-axios-vant-vue-router%E7%AE%80%E5%8D%95%E5%8D%95%E9%A1%B5%E7%99%BB%E5%BD%95%E6%80%81demo/","excerpt":"","text":"ÂàõÂª∫vantÈ°πÁõÆ# ÂÆâË£Ö Vue Cli npm install -g @vue/cli # ÂàõÂª∫‰∏Ä‰∏™È°πÁõÆ vue create hello-world # ÂàõÂª∫ÂÆåÊàêÂêéÔºåÂèØ‰ª•ÈÄöËøáÂëΩ‰ª§ÊâìÂºÄÂõæÂΩ¢ÂåñÁïåÈù¢ÔºåÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ vue ui # ÊàñËÄÖ ÈÄöËøá yarn ÂÆâË£Ö yarn add vant Âú®ÂõæÂΩ¢ÂåñÁïåÈù¢‰∏≠ÔºåÁÇπÂáª‰æùËµñ -&gt; ÂÆâË£Ö‰æùËµñÔºåÁÑ∂ÂêéÂ∞Ü vant Ê∑ªÂä†Âà∞‰æùËµñ‰∏≠Âç≥ÂèØ„ÄÇ vue-routeryarn add vue-router &lt;template> &lt;div id=\"app\"> &lt;van-nav-bar title=\"Ê†áÈ¢ò\" left-text=\"ËøîÂõû\" right-text=\"ÊåâÈíÆ\" left-arrow @click-left=\"onClickLeft\" @click-right=\"onClickRight\" /> &lt;router-view>&lt;/router-view> &lt;van-tabbar v-model=\"active\"> &lt;van-tabbar-item icon=\"home-o\" to=\"/\">‰∏ªÈ°µ&lt;/van-tabbar-item> &lt;van-tabbar-item icon=\"search\">Ê†áÁ≠æ&lt;/van-tabbar-item> &lt;van-tabbar-item icon=\"friends-o\">Ê†áÁ≠æ&lt;/van-tabbar-item> &lt;van-tabbar-item icon=\"user-o\" to=\"/user/detail\">ÊàëÁöÑ&lt;/van-tabbar-item> &lt;/van-tabbar> &lt;/div> &lt;/template>&lt;template> &lt;div id=\"app\"> &lt;van-nav-bar title=\"Ê†áÈ¢ò\" left-text=\"ËøîÂõû\" right-text=\"ÊåâÈíÆ\" left-arrow @click-left=\"onClickLeft\" @click-right=\"onClickRight\" /> &lt;router-view>&lt;/router-view> &lt;van-tabbar v-model=\"active\"> &lt;van-tabbar-item icon=\"home-o\" to=\"/\">‰∏ªÈ°µ&lt;/van-tabbar-item> &lt;van-tabbar-item icon=\"search\">Ê†áÁ≠æ&lt;/van-tabbar-item> &lt;van-tabbar-item icon=\"friends-o\">Ê†áÁ≠æ&lt;/van-tabbar-item> &lt;van-tabbar-item icon=\"user-o\" to=\"/user/detail\">ÊàëÁöÑ&lt;/van-tabbar-item> &lt;/van-tabbar> &lt;/div> &lt;/template> Ë∑ØÁî±ÈÖçÁΩÆÂíåÁôªÂΩïÊÄÅÊéßÂà∂ import Vue from 'vue' import VueRouter from 'vue-router' // import store from '@/store' // import layout from '@/layout/layout' Vue.use(VueRouter) const routes = [ &#123; path: '/', name: 'home', component: () => import(\"@/views/Home\") &#125;, &#123; path: '/user/detail', name: 'user_detail', meta:&#123; requireLogin:true &#125;, component: () => import(\"@/views/User/detail.vue\") &#125;, &#123; path: '/login', name: 'login', meta:&#123; requireLogin:false &#125;, component: () => import(\"@/views/Login/login.vue\") &#125;, ] const router = new VueRouter(&#123; mode: 'history', base: process.env.BASE_URL, routes &#125;) router.beforeEach((to, from, next) => &#123; const token = sessionStorage.getItem('token'); // store.getters('isLogin') if (to.meta.requireLogin) &#123; //ÈúÄË¶ÅÊ£ÄÊµãÁôªÂΩï if (token) &#123; next(); &#125; else &#123; console.log('ÂâçÂæÄÁôªÂΩï...') next(&#123; path: '/login' &#125;); &#125; &#125; else &#123; next(); &#125; &#125;) export default router ÁôªÂΩïÂºïÂÖ•axios yarn add axios import &#123; login &#125; from \"@/api/loginReq\"; export default &#123; data() &#123; return &#123; loading: false, loginInfo:&#123; username:\"\", pwd:\"\" &#125; &#125;; &#125;, methods: &#123; onSubmit(values) &#123; this.loading = true; login(this.loginInfo).then((response) => &#123; console.log(response); if(response.code===0)&#123; sessionStorage.setItem('token',response.data.username); &#125; this.$router.push('/') &#125;); this.loading = false; &#125;, &#125; &#125;","categories":[],"tags":[{"name":"web","slug":"web","permalink":"http://visonforcoding.xyz/tags/web/"}]},{"title":"spring-boot validationÊï∞ÊçÆÈ™åËØÅ","slug":"java/spring-boot-validationÊï∞ÊçÆÈ™åËØÅ","date":"2020-09-14T14:40:18.000Z","updated":"2021-10-30T02:59:33.277Z","comments":true,"path":"2020/09/14/java/spring-boot-validationÊï∞ÊçÆÈ™åËØÅ/","link":"","permalink":"http://visonforcoding.xyz/2020/09/14/java/spring-boot-validation%E6%95%B0%E6%8D%AE%E9%AA%8C%E8%AF%81/","excerpt":"ÂÅö‰∏öÂä°Â§ÑÁêÜÔºå‰∏çÂèØÈÅøÂÖçÁöÑË¶ÅÂØπÂèÇÊï∞ËøõË°åÊ†°È™åÔºå‰∏ÄÂ•óÂÆåÊï¥ËßÑËåÉÁöÑÊ†°È™å‰ΩìÁ≥ªÂèØ‰ª•ÊèêÈ´ò‰∏çÂ∞ëÁöÑÊïàÁéá„ÄÇ Âú®ÂÜô‰∫ÜPHP„ÄÅjava„ÄÅpython Á≠âÁºñÁ®ãËØ≠Ë®Ä‰πãÂêéÔºåÊàëÂèëÁé∞javaÁöÑ‰ºòÂäøÂ∞±ÊòØÂÆÉÁöÑËßÑËåÉ„ÄÅÂÆÉÁöÑ‰∏•Ë∞®„ÄÇÂú®jsr‰πã‰∏ãÂª∫Á´ãÂêÑÁßçÂú∫ÊôØÁöÑÊ†áÂáÜÔºåÊâÄÊúâ‰∫∫ÈÉΩÂú®ËøôÂ•óËßÑËåÉ‰∏ãÊãìÂ±ï„ÄÅËø≠‰ª£„ÄÅÂçáÁ∫ß„ÄÇÊúÄÁªàËøôÂ•ó‰ΩìÁ≥ªÂèòÂæóË∂äÊù•Ë∂äÂÆåÁæé„ÄÅÁ¨¶Âêà‰ΩìÁ≥ªÁöÑÁîüÊÄÅ‰∫ßÂìÅ‰πüË∂äÊù•Ë∂äÂ§ö„ÄÇ ËøôÂ§ßÊ¶ÇÂ∞±ÊòØjavaÊúÄÂº∫‰πãÂ§ÑÂêß„ÄÇ Êú¨ËäÇ‰ªãÁªç‰∏ãspring-bootÁöÑÈ™åËØÅÔºåÂÆÉ‰πüÊòØÂü∫‰∫éjsrÁöÑvalidation‰πã‰∏ã„ÄÇ","text":"ÂÅö‰∏öÂä°Â§ÑÁêÜÔºå‰∏çÂèØÈÅøÂÖçÁöÑË¶ÅÂØπÂèÇÊï∞ËøõË°åÊ†°È™åÔºå‰∏ÄÂ•óÂÆåÊï¥ËßÑËåÉÁöÑÊ†°È™å‰ΩìÁ≥ªÂèØ‰ª•ÊèêÈ´ò‰∏çÂ∞ëÁöÑÊïàÁéá„ÄÇ Âú®ÂÜô‰∫ÜPHP„ÄÅjava„ÄÅpython Á≠âÁºñÁ®ãËØ≠Ë®Ä‰πãÂêéÔºåÊàëÂèëÁé∞javaÁöÑ‰ºòÂäøÂ∞±ÊòØÂÆÉÁöÑËßÑËåÉ„ÄÅÂÆÉÁöÑ‰∏•Ë∞®„ÄÇÂú®jsr‰πã‰∏ãÂª∫Á´ãÂêÑÁßçÂú∫ÊôØÁöÑÊ†áÂáÜÔºåÊâÄÊúâ‰∫∫ÈÉΩÂú®ËøôÂ•óËßÑËåÉ‰∏ãÊãìÂ±ï„ÄÅËø≠‰ª£„ÄÅÂçáÁ∫ß„ÄÇÊúÄÁªàËøôÂ•ó‰ΩìÁ≥ªÂèòÂæóË∂äÊù•Ë∂äÂÆåÁæé„ÄÅÁ¨¶Âêà‰ΩìÁ≥ªÁöÑÁîüÊÄÅ‰∫ßÂìÅ‰πüË∂äÊù•Ë∂äÂ§ö„ÄÇ ËøôÂ§ßÊ¶ÇÂ∞±ÊòØjavaÊúÄÂº∫‰πãÂ§ÑÂêß„ÄÇ Êú¨ËäÇ‰ªãÁªç‰∏ãspring-bootÁöÑÈ™åËØÅÔºåÂÆÉ‰πüÊòØÂü∫‰∫éjsrÁöÑvalidation‰πã‰∏ã„ÄÇ ‰æùËµñ&lt;dependency> &lt;groupId>org.springframework.boot&lt;/groupId> &lt;artifactId>spring-boot-starter-web&lt;/artifactId> &lt;/dependency> &lt;dependency> &lt;groupId>org.springframework.boot&lt;/groupId> &lt;artifactId>spring-boot-starter-validation&lt;/artifactId> &lt;/dependency> &lt;dependency> &lt;groupId>javax.validation&lt;/groupId> &lt;artifactId>validation-api&lt;/artifactId> &lt;version>2.0.1.Final&lt;/version> &lt;type>jar&lt;/type> &lt;/dependency> javax.validation Ê≠£ÊòØ jsrÁöÑËßÑËåÉ„ÄÇ ÂÆö‰πâÈ™åËØÅËßÑÂàô@NotBlank(message = \"Áî®Êà∑Âêç‰∏çÂèØ‰∏∫Á©∫\") @NotNull(message = \"‰∏çÂèØ‰∏∫Á©∫\") private String username; @NotBlank(message = \"ÂØÜÁ†Å‰∏çÂèØ‰∏∫Á©∫\") @NotNull(message = \"ÂØÜÁ†Å‰∏çÂèØ‰∏∫Á©∫\") private String pwd; controller‰ΩøÁî®public Response login(@Valid @RequestBody LoginInfo loginInfo, HttpServletRequest request, HttpSession session) &#123; &#125; ËøôÈáåË¶ÅÂØπ@Valid ËøõË°å‰ΩøÁî® ÂÖ®Â±ÄÂ§ÑÁêÜ @RestControllerAdvice public class ControllerAdvice &#123; /** * ConstraintViolationException */ @ExceptionHandler(MethodArgumentNotValidException.class) public Response handleConstraintViolationException(MethodArgumentNotValidException ex) &#123; Map&lt;String, String> errors = new HashMap&lt;>(); ex.getBindingResult().getAllErrors().forEach((error) -> &#123; String fieldName = ((FieldError) error).getField(); System.out.println(fieldName); String errorMessage = error.getDefaultMessage(); errors.put(fieldName, errorMessage); System.out.println(errorMessage); &#125;); return new Response(ResponseCode.parametrErrror, \"ÂèÇÊï∞ÈîôËØØ\", errors); &#125; &#125; Áî±‰∫é‰ΩøÁî®@ValidÂØπÂèÇÊï∞ËøõË°åÊ†°È™å‰πãÂêéÔºåÂ¶ÇÊûúÊúâÊ†°È™å‰∏çÈÄöËøá‰ºöÊäõÂá∫‰∏Ä‰∏™MethodArgumentNotValidExceptionÂºÇÂ∏∏„ÄÇÂÖ®Â±ÄËøõË°åÊçïËé∑‰πãÂêéÂèØ‰ª•ÂÖ®Â±ÄÂ§ÑÁêÜÂèÇÊï∞‰∏çÊ≠£Á°ÆÁöÑÊÉÖÂÜµ„ÄÇ ÂèÇËÄÉhttps://www.cnblogs.com/fqybzhangji/p/10384347.html","categories":[],"tags":[{"name":"spring-boot","slug":"spring-boot","permalink":"http://visonforcoding.xyz/tags/spring-boot/"}]},{"title":"IOCÂíåspringÂØπÂÆÉÁöÑÂÆûÁé∞","slug":"java/IOCÂíåspringÂØπÂÆÉÁöÑÂÆûÁé∞","date":"2020-09-09T13:10:50.000Z","updated":"2021-10-30T02:59:33.276Z","comments":true,"path":"2020/09/09/java/IOCÂíåspringÂØπÂÆÉÁöÑÂÆûÁé∞/","link":"","permalink":"http://visonforcoding.xyz/2020/09/09/java/IOC%E5%92%8Cspring%E5%AF%B9%E5%AE%83%E7%9A%84%E5%AE%9E%E7%8E%B0/","excerpt":"","text":"IOSÊ¶ÇËø∞https://www.cnblogs.com/DebugLZQ/archive/2013/06/05/3107957.html ËøôÁØáÊñáÁ´†Â∑≤ÁªèËÆ≤ÁöÑÂæàÂ•Ω„ÄÇ ÊàëÂÅö‰∏ãÊÄªÁªì„ÄÇ Èù¢ÂêëÂØπË±°ÁºñÁ®ãÁöÑ‰∏ñÁïåÔºåÁ®ãÂ∫è‰πãÈó¥ÁöÑËÄ¶Âêà‰∏çÂèØÈÅøÂÖçÔºåËÄå‰∏î‰ºö‰ΩøÂæóÁ≥ªÁªüÂèòÂæóÈöæ‰ª•Áª¥Êä§ IOCÂ∞±ÊòØ‰∏∫‰∫ÜÈôç‰ΩéËøôÁßçËÄ¶Âêà IOS‰πü‰∏çÊòØÂÆåÁæéÁöÑÔºåÊâÄÊúâ‰∫ãÊÉÖÈÉΩÊúâ‰ºòÁº∫ÁÇπ IOCÂ∞±ÊòØ‰∏∫‰∫ÜÊääÂéüÊú¨‰∫íÁõ∏‰πãÈó¥ÊúâËÄ¶ÂêàÂú®‰∏ÄËµ∑Ôºå‰ºöÈÄ†ÊàêÁâµ‰∏ÄÂèëËÄåÂä®ÂÖ®Ë∫´ÁöÑÁé∞Ë±°„ÄÇÈÄöËøáÂÆπÂô®Ëß£ËÄ¶ÂºÄ,ÂêÑËá™ËÉΩÁã¨Á´ãËøê‰Ωú„ÄÇ springÁöÑÂÆûÁé∞org.springframework.beans Âíåorg.springframework.context ÂåÖÊòØSpring Framework ÁöÑIoC ÂÆπÂô®ÁöÑÂü∫Á°Ä„ÄÇ BeanFactory Êé•Âè£Êèê‰æõÈ´òÁ∫ßÁöÑÈÖçÁΩÆÊú∫Âà∂ÔºåÂèØ‰ª•ÁÆ°ÁêÜ‰ªªÊÑèÁ±ªÂûãÁöÑÂØπË±°„ÄÇ ApplicationContext ÊòØBeanFactory ÁöÑÂ≠êÊé•Âè£„ÄÇ ÂÆÉÊ∑ªÂä†‰∫ÜÂíåSpring ÁöÑAOP ÁâπÊÄßÂæàÁÆÄ‰æøÁöÑÊï¥ÂêàÔºõ Ê∂àÊÅØËµÑÊ∫êÂ§ÑÁêÜÔºàÁî®‰∫éÂõΩÈôÖÂåñi18nÔºâÔºå‰∫ã‰ª∂ÂèëÂ∏ÉÔºõ Â∫îÁî®Â±ÇÁâπÂÆöÁöÑ‰∏ä‰∏ãÊñáÔºå ÊØîÂ¶ÇÁî®‰∫éWeb Â∫îÁî®Á®ãÂ∫èÁöÑWebApplicationContext„ÄÇ ÊÄª‰πãÔºåBeanFactory Êèê‰æõ‰∫ÜÈÖçÁΩÆÊ°ÜÊû∂ÂíåÂü∫Êú¨ÂäüËÉΩÔºåËÄåApplicationContext Ê∑ªÂä†‰∫ÜÊõ¥Â§ö‰ºÅ‰∏öÁ∫ßÂºÄÂèëÁâπÂÆöÁöÑÂäüËÉΩ„ÄÇ","categories":[],"tags":[{"name":"java","slug":"java","permalink":"http://visonforcoding.xyz/tags/java/"}]},{"title":"phpÁºñËØëÂèÇÊï∞ËØ¶Ëß£","slug":"php/phpÁºñËØëÂèÇÊï∞ËØ¶Ëß£","date":"2020-09-03T02:19:37.000Z","updated":"2021-10-30T02:59:33.280Z","comments":true,"path":"2020/09/03/php/phpÁºñËØëÂèÇÊï∞ËØ¶Ëß£/","link":"","permalink":"http://visonforcoding.xyz/2020/09/03/php/php%E7%BC%96%E8%AF%91%E5%8F%82%E6%95%B0%E8%AF%A6%E8%A7%A3/","excerpt":"Â∞ΩÁÆ°ÁªèÂéÜ‰∫ÜNÊ¨°ÁöÑÊâãÂä®ÁºñËØëÔºå‰Ω†ÂèØËÉΩËøòÊòØ‰∏çÁü•ÈÅìÂì™‰∫õÁºñËØëÂèÇÊï∞ÈúÄË¶ÅÂì™‰∫õ‰∏çÈúÄË¶Å","text":"Â∞ΩÁÆ°ÁªèÂéÜ‰∫ÜNÊ¨°ÁöÑÊâãÂä®ÁºñËØëÔºå‰Ω†ÂèØËÉΩËøòÊòØ‰∏çÁü•ÈÅìÂì™‰∫õÁºñËØëÂèÇÊï∞ÈúÄË¶ÅÂì™‰∫õ‰∏çÈúÄË¶Å helpÊâßË°åÂ∏ÆÂä©ÂëΩ‰ª§Êü•ÁúãÁºñËØëÈÖçÁΩÆÂ∏ÆÂä© .&#x2F;configure --help&#x3D;short ÂæóÂà∞ÁªìÊûú Optional Features and Packages: --disable-option-checking ignore unrecognized --enable&#x2F;--with options --disable-FEATURE do not include FEATURE (same as --enable-FEATURE&#x3D;no) --enable-FEATURE[&#x3D;ARG] include FEATURE [ARG&#x3D;yes] --with-PACKAGE[&#x3D;ARG] use PACKAGE [ARG&#x3D;yes] --without-PACKAGE do not use PACKAGE (same as --with-PACKAGE&#x3D;no) --with-libdir&#x3D;NAME Look for libraries in ...&#x2F;NAME rather than ...&#x2F;lib --disable-rpath Disable passing additional runtime library search paths --enable-re2c-cgoto Enable -g flag to re2c to use computed goto gcc extension --disable-gcc-global-regs whether to enable GCC global register variables SAPI modules: --with-apxs2&#x3D;FILE Build shared Apache 2.0 Handler module. FILE is the optional pathname to the Apache apxs tool apxs --disable-cli Disable building CLI version of PHP (this forces --without-pear) --enable-embed&#x3D;TYPE EXPERIMENTAL: Enable building of embedded SAPI library TYPE is either &#39;shared&#39; or &#39;static&#39;. TYPE&#x3D;shared --enable-fpm Enable building of the fpm SAPI executable fastcgiËøõÁ®ãÁÆ°ÁêÜ,Ëøô‰∏™Â∫îËØ•ÂøÖ‰∏çÂèØÂ∞ë --with-fpm-user&#x3D;USER Set the user for php-fpm to run as. (default: nobody) --with-fpm-group&#x3D;GRP Set the group for php-fpm to run as. For a system user, this should usually be set to match the fpm username (default: nobody) --with-fpm-systemd Activate systemd integration --with-fpm-acl Use POSIX Access Control Lists --with-litespeed Build PHP as litespeed module --enable-phpdbg Build phpdbg --enable-phpdbg-webhelper Build phpdbg web SAPI support --enable-phpdbg-debug Build phpdbg in debug mode --enable-phpdbg-readline Enable readline support in phpdbg (depends on static ext&#x2F;readline) --disable-cgi Disable building CGI version of PHP Á¶ÅÁî®cgi --with-valgrind&#x3D;DIR Enable valgrind support General settings: --enable-gcov Enable GCOV code coverage (requires LTP) - FOR DEVELOPERS ONLY!! --enable-debug Compile with debugging symbols --with-layout&#x3D;TYPE Set how installed files will be laid out. Type can be either PHP or GNU [PHP] --with-config-file-path&#x3D;PATH Set the path in which to look for php.ini [PREFIX&#x2F;lib] --with-config-file-scan-dir&#x3D;PATH Set the path where to scan for configuration files --enable-sigchild Enable PHP&#39;s own SIGCHLD handler --enable-libgcc Enable explicitly linking against libgcc --disable-short-tags Disable the short-form &lt;? start tag by default --enable-dmalloc Enable dmalloc --disable-ipv6 Disable IPv6 support --enable-dtrace Enable DTrace support --enable-fd-setsize Set size of descriptor sets Extensions: --with-EXTENSION&#x3D;shared[,PATH] NOTE: Not all extensions can be build as &#39;shared&#39;. Example: --with-foobar&#x3D;shared,&#x2F;usr&#x2F;local&#x2F;foobar&#x2F; o Builds the foobar extension as shared extension. o foobar package install prefix is &#x2F;usr&#x2F;local&#x2F;foobar&#x2F; --disable-all Disable all extensions which are enabled by default --disable-libxml Disable LIBXML support --with-libxml-dir&#x3D;DIR LIBXML: libxml2 install prefix --with-openssl&#x3D;DIR Include OpenSSL support (requires OpenSSL &gt;&#x3D; 1.0.1) --with-kerberos&#x3D;DIR OPENSSL: Include Kerberos support --with-system-ciphers OPENSSL: Use system default cipher list instead of hardcoded value --with-pcre-regex&#x3D;DIR Include Perl Compatible Regular Expressions support. DIR is the PCRE install prefix BUNDLED --with-pcre-jit Enable PCRE JIT functionality (BUNDLED only) --with-pcre-valgrind&#x3D;DIR Enable PCRE valgrind support. Developers only! --without-sqlite3&#x3D;DIR Do not include SQLite3 support. DIR is the prefix to SQLite3 installation directory. --with-zlib&#x3D;DIR Include ZLIB support (requires zlib &gt;&#x3D; 1.2.0.4) --with-zlib-dir&#x3D;&lt;DIR&gt; Define the location of zlib install directory --enable-bcmath Enable bc style precision math functions --with-bz2&#x3D;DIR Include BZip2 support --enable-calendar Enable support for calendar conversion --disable-ctype Disable ctype functions --with-curl&#x3D;DIR Include cURL support --enable-dba Build DBA with bundled modules. To build shared DBA extension use --enable-dba&#x3D;shared --with-qdbm&#x3D;DIR DBA: QDBM support --with-gdbm&#x3D;DIR DBA: GDBM support --with-ndbm&#x3D;DIR DBA: NDBM support --with-db4&#x3D;DIR DBA: Oracle Berkeley DB 4.x or 5.x support --with-db3&#x3D;DIR DBA: Oracle Berkeley DB 3.x support --with-db2&#x3D;DIR DBA: Oracle Berkeley DB 2.x support --with-db1&#x3D;DIR DBA: Oracle Berkeley DB 1.x support&#x2F;emulation --with-dbm&#x3D;DIR DBA: DBM support --with-tcadb&#x3D;DIR DBA: Tokyo Cabinet abstract DB support --with-lmdb&#x3D;DIR DBA: Lightning memory-mapped database support --without-cdb&#x3D;DIR DBA: CDB support (bundled) --disable-inifile DBA: INI support (bundled) --disable-flatfile DBA: FlatFile support (bundled) --disable-dom Disable DOM support --with-libxml-dir&#x3D;DIR DOM: libxml2 install prefix --with-enchant&#x3D;DIR Include enchant support. GNU Aspell version 1.1.3 or higher required. --enable-exif Enable EXIF (metadata from images) support --disable-fileinfo Disable fileinfo support --disable-filter Disable input filter support --with-pcre-dir FILTER: pcre install prefix --enable-ftp Enable FTP support --with-openssl-dir&#x3D;DIR FTP: openssl install prefix --with-gd&#x3D;DIR Include GD support. DIR is the GD library base install directory BUNDLED --with-webp-dir&#x3D;DIR GD: Set the path to libwebp install prefix --with-jpeg-dir&#x3D;DIR GD: Set the path to libjpeg install prefix --with-png-dir&#x3D;DIR GD: Set the path to libpng install prefix --with-zlib-dir&#x3D;DIR GD: Set the path to libz install prefix --with-xpm-dir&#x3D;DIR GD: Set the path to libXpm install prefix --with-freetype-dir&#x3D;DIR GD: Set the path to FreeType 2 install prefix --enable-gd-jis-conv GD: Enable JIS-mapped Japanese font support --with-gettext&#x3D;DIR Include GNU gettext support --with-gmp&#x3D;DIR Include GNU MP support --with-mhash&#x3D;DIR Include mhash support --disable-hash Disable hash support --without-iconv&#x3D;DIR Exclude iconv support --with-imap&#x3D;DIR Include IMAP support. DIR is the c-client install prefix --with-kerberos&#x3D;DIR IMAP: Include Kerberos support. DIR is the Kerberos install prefix --with-imap-ssl&#x3D;DIR IMAP: Include SSL support. DIR is the OpenSSL install prefix --with-interbase&#x3D;DIR Include Firebird support. DIR is the Firebird base install directory &#x2F;opt&#x2F;firebird --enable-intl Enable internationalization support --with-icu-dir&#x3D;DIR Specify where ICU libraries and headers can be found --disable-json Disable JavaScript Object Serialization support --with-ldap&#x3D;DIR Include LDAP support --with-ldap-sasl&#x3D;DIR LDAP: Include Cyrus SASL support --enable-mbstring Enable multibyte string support --disable-mbregex MBSTRING: Disable multibyte regex support --disable-mbregex-backtrack MBSTRING: Disable multibyte regex backtrack check --with-libmbfl&#x3D;DIR MBSTRING: Use external libmbfl. DIR is the libmbfl base install directory BUNDLED --with-onig&#x3D;DIR MBSTRING: Use external oniguruma. DIR is the oniguruma install prefix. If DIR is not set, the bundled oniguruma will be used --with-mysqli&#x3D;FILE Include MySQLi support. FILE is the path to mysql_config. If no value or mysqlnd is passed as FILE, the MySQL native driver will be used --enable-embedded-mysqli MYSQLi: Enable embedded support Note: Does not work with MySQL native driver! --with-mysql-sock&#x3D;SOCKPATH MySQLi&#x2F;PDO_MYSQL: Location of the MySQL unix socket pointer. If unspecified, the default locations are searched --with-oci8&#x3D;DIR Include Oracle Database OCI8 support. DIR defaults to $ORACLE_HOME. Use --with-oci8&#x3D;instantclient,&#x2F;path&#x2F;to&#x2F;instant&#x2F;client&#x2F;lib to use an Oracle Instant Client installation --with-odbcver&#x3D;HEX Force support for the passed ODBC version. A hex number is expected, default 0x0350. Use the special value of 0 to prevent an explicit ODBCVER to be defined. --with-adabas&#x3D;DIR Include Adabas D support &#x2F;usr&#x2F;local --with-sapdb&#x3D;DIR Include SAP DB support &#x2F;usr&#x2F;local --with-solid&#x3D;DIR Include Solid support &#x2F;usr&#x2F;local&#x2F;solid --with-ibm-db2&#x3D;DIR Include IBM DB2 support &#x2F;home&#x2F;db2inst1&#x2F;sqllib --with-ODBCRouter&#x3D;DIR Include ODBCRouter.com support &#x2F;usr --with-empress&#x3D;DIR Include Empress support \\$EMPRESSPATH (Empress Version &gt;&#x3D; 8.60 required) --with-empress-bcs&#x3D;DIR Include Empress Local Access support \\$EMPRESSPATH (Empress Version &gt;&#x3D; 8.60 required) --with-birdstep&#x3D;DIR Include Birdstep support &#x2F;usr&#x2F;local&#x2F;birdstep --with-custom-odbc&#x3D;DIR Include user defined ODBC support. DIR is ODBC install base directory &#x2F;usr&#x2F;local. Make sure to define CUSTOM_ODBC_LIBS and have some odbc.h in your include dirs. f.e. you should define following for Sybase SQL Anywhere 5.5.00 on QNX, prior to running this configure script: CPPFLAGS&#x3D;\\&quot;-DODBC_QNX -DSQLANY_BUG\\&quot; LDFLAGS&#x3D;-lunix CUSTOM_ODBC_LIBS&#x3D;\\&quot;-ldblib -lodbc\\&quot; --with-iodbc&#x3D;DIR Include iODBC support &#x2F;usr&#x2F;local --with-esoob&#x3D;DIR Include Easysoft OOB support &#x2F;usr&#x2F;local&#x2F;easysoft&#x2F;oob&#x2F;client --with-unixODBC&#x3D;DIR Include unixODBC support &#x2F;usr&#x2F;local --with-dbmaker&#x3D;DIR Include DBMaker support --disable-opcache Disable Zend OPcache support --disable-opcache-file Disable file based caching --disable-huge-code-pages Disable copying PHP CODE pages into HUGE PAGES --enable-pcntl Enable pcntl support (CLI&#x2F;CGI only) --disable-pdo Disable PHP Data Objects support --with-pdo-dblib&#x3D;DIR PDO: DBLIB-DB support. DIR is the FreeTDS home directory --with-pdo-firebird&#x3D;DIR PDO: Firebird support. DIR is the Firebird base install directory &#x2F;opt&#x2F;firebird --with-pdo-mysql&#x3D;DIR PDO: MySQL support. DIR is the MySQL base directory If no value or mysqlnd is passed as DIR, the MySQL native driver will be used --with-zlib-dir&#x3D;DIR PDO_MySQL: Set the path to libz install prefix --with-pdo-oci&#x3D;DIR PDO: Oracle OCI support. DIR defaults to $ORACLE_HOME. Use --with-pdo-oci&#x3D;instantclient,&#x2F;path&#x2F;to&#x2F;instant&#x2F;client&#x2F;lib for an Oracle Instant Client installation. --with-pdo-odbc&#x3D;flavour,dir PDO: Support for &#39;flavour&#39; ODBC driver. include and lib dirs are looked for under &#39;dir&#39;. &#39;flavour&#39; can be one of: ibm-db2, iODBC, unixODBC, generic If &#39;,dir&#39; part is omitted, default for the flavour you have selected will be used. e.g.: --with-pdo-odbc&#x3D;unixODBC will check for unixODBC under &#x2F;usr&#x2F;local. You may attempt to use an otherwise unsupported driver using the \\&quot;generic\\&quot; flavour. The syntax for generic ODBC support is: --with-pdo-odbc&#x3D;generic,dir,libname,ldflags,cflags When built as &#39;shared&#39; the extension filename is always pdo_odbc.so --with-pdo-pgsql&#x3D;DIR PDO: PostgreSQL support. DIR is the PostgreSQL base install directory or the path to pg_config --without-pdo-sqlite&#x3D;DIR PDO: sqlite 3 support. DIR is the sqlite base install directory BUNDLED --with-pgsql&#x3D;DIR Include PostgreSQL support. DIR is the PostgreSQL base install directory or the path to pg_config --disable-phar Disable phar support --disable-posix Disable POSIX-like functions --with-pspell&#x3D;DIR Include PSPELL support. GNU Aspell version 0.50.0 or higher required --with-libedit&#x3D;DIR Include libedit readline replacement (CLI&#x2F;CGI only) --with-readline&#x3D;DIR Include readline support (CLI&#x2F;CGI only) --with-recode&#x3D;DIR Include recode support --disable-session Disable session support --with-mm&#x3D;DIR SESSION: Include mm support for session storage --enable-shmop Enable shmop support --disable-simplexml Disable SimpleXML support --with-libxml-dir&#x3D;DIR SimpleXML: libxml2 install prefix --with-snmp&#x3D;DIR Include SNMP support --with-openssl-dir&#x3D;DIR SNMP: openssl install prefix --enable-soap Enable SOAP support --with-libxml-dir&#x3D;DIR SOAP: libxml2 install prefix --enable-sockets Enable sockets support --with-sodium&#x3D;DIR Include sodium support --with-password-argon2&#x3D;DIR Include Argon2 support in password_*. DIR is the Argon2 shared library path] --enable-sysvmsg Enable sysvmsg support --enable-sysvsem Enable System V semaphore support --enable-sysvshm Enable the System V shared memory support --with-tidy&#x3D;DIR Include TIDY support --disable-tokenizer Disable tokenizer support --enable-wddx Enable WDDX support --with-libxml-dir&#x3D;DIR WDDX: libxml2 install prefix --with-libexpat-dir&#x3D;DIR WDDX: libexpat dir for XMLRPC-EPI (deprecated) --disable-xml Disable XML support --with-libxml-dir&#x3D;DIR XML: libxml2 install prefix --with-libexpat-dir&#x3D;DIR XML: libexpat install prefix (deprecated) --disable-xmlreader Disable XMLReader support --with-libxml-dir&#x3D;DIR XMLReader: libxml2 install prefix --with-xmlrpc&#x3D;DIR Include XMLRPC-EPI support --with-libxml-dir&#x3D;DIR XMLRPC-EPI: libxml2 install prefix --with-libexpat-dir&#x3D;DIR XMLRPC-EPI: libexpat dir for XMLRPC-EPI (deprecated) --with-iconv-dir&#x3D;DIR XMLRPC-EPI: iconv dir for XMLRPC-EPI --disable-xmlwriter Disable XMLWriter support --with-libxml-dir&#x3D;DIR XMLWriter: libxml2 install prefix --with-xsl&#x3D;DIR Include XSL support. DIR is the libxslt base install directory (libxslt &gt;&#x3D; 1.1.0 required) --enable-zend-test Enable zend-test extension --enable-zip Include Zip read&#x2F;write support --with-zlib-dir&#x3D;DIR ZIP: Set the path to libz install prefix --with-pcre-dir ZIP: pcre install prefix --with-libzip&#x3D;DIR ZIP: use libzip --enable-mysqlnd Enable mysqlnd explicitly, will be done implicitly when required by other extensions --disable-mysqlnd-compression-support Disable support for the MySQL compressed protocol in mysqlnd --with-zlib-dir&#x3D;DIR mysqlnd: Set the path to libz install prefix PEAR: --with-pear&#x3D;DIR Install PEAR in DIR [PREFIX&#x2F;lib&#x2F;php] --without-pear Do not install PEAR Zend: --enable-maintainer-zts Enable thread safety - for code maintainers only!! --disable-inline-optimization If building zend_execute.lo fails, try this switch --disable-zend-signals whether to enable zend signal handling TSRM: --with-tsrm-pth&#x3D;pth-config Use GNU Pth --with-tsrm-st Use SGI&#39;s State Threads --with-tsrm-pthreads Use POSIX threads (default) Libtool: --enable-shared&#x3D;PKGS Build shared libraries default&#x3D;yes --enable-static&#x3D;PKGS Build static libraries default&#x3D;yes --enable-fast-install&#x3D;PKGS Optimize for fast installation default&#x3D;yes --with-gnu-ld Assume the C compiler uses GNU ld default&#x3D;no --disable-libtool-lock Avoid locking (might break parallel builds) --with-pic Try to use only PIC&#x2F;non-PIC objects default&#x3D;use both --with-tags&#x3D;TAGS Include additional configurations automatic Some influential environment variables: CC C compiler command CFLAGS C compiler flags LDFLAGS linker flags, e.g. -L&lt;lib dir&gt; if you have libraries in a nonstandard directory &lt;lib dir&gt; LIBS libraries to pass to the linker, e.g. -l&lt;library&gt; CPPFLAGS (Objective) C&#x2F;C++ preprocessor flags, e.g. -I&lt;include dir&gt; if you have headers in a nonstandard directory &lt;include dir&gt; CPP C preprocessor YACC The &#96;Yet Another Compiler Compiler&#39; implementation to use. Defaults to the first program found out of: &#96;bison -y&#39;, &#96;byacc&#39;, &#96;yacc&#39;. YFLAGS The list of arguments that will be passed by default to $YACC. This script will default YFLAGS to the empty string to avoid a default value of &#96;-d&#39; given by some make applications. CXX C++ compiler command CXXFLAGS C++ compiler flags CXXCPP C++ preprocessor Use these variables to override the choices made by &#96;configure&#39; or to help it to find libraries and programs with nonstandard names&#x2F;locations. ÈªòËÆ§ÊãìÂ±ïÂΩì‰∏çÈÖçÁΩÆ‰ªª‰ΩïÂèÇÊï∞Êó∂ÔºåÂÆÉÈªòËÆ§‰ºöÊúâÂì™‰∫õÊãìÂ±ïÂë¢Ôºü php -m [PHP Modules] Core ctype date dom fileinfo filter hash iconv json libxml pcre PDO pdo_sqlite Phar posix Reflection session SimpleXML SPL sqlite3 standard tokenizer xml xmlreader xmlwriter [Zend Modules] Ê≠§Êó∂‰Ω†‰ºöÂèëÁé∞Ëøûphp-fpmÈÉΩÊ≤°Êúâ Â∏∏Áî®ÈÖçÁΩÆ‰æùËµñÂÆâË£Öyum install -y libxml2-devel openssl-devel .&#x2F;configure --enable-fpm --enable-bcmath --with-openssl \\ --enable-mbstring --with-mysqli --enable-mysqlnd ÁºñËØëÂÆâË£Ömake &amp;&amp; make install ÂêØÂä®Êü•ÁúãiniÈÖçÁΩÆphp -ini | grep &#39;ini&#39; Configuration File (php.ini) Path &#x3D;&gt; &#x2F;usr&#x2F;local&#x2F;lib Loaded Configuration File &#x3D;&gt; &#x2F;usr&#x2F;local&#x2F;lib&#x2F;php.ini Scan this dir for additional .ini files &#x3D;&gt; (none) Additional .ini files parsed &#x3D;&gt; (none) user_ini.cache_ttl &#x3D;&gt; 300 &#x3D;&gt; 300 user_ini.filename &#x3D;&gt; .user.ini &#x3D;&gt; .user.ini init_command_executed_count &#x3D;&gt; 0 init_command_failed_count &#x3D;&gt; 0 com_init_db &#x3D;&gt; 0 ‰ªéÊ∫ê‰ª£Á†ÅÁõÆÂΩï Â§çÂà∂ÈÖçÁΩÆÊñá‰ª∂Âà∞Configuration File (php.ini) Path cp php.ini-production &#x2F;usr&#x2F;local&#x2F;lib&#x2F;php.ini ËÆæÁΩÆÊúçÂä°&amp;ÂºÄÊú∫ÂêØÂä®(centos 7+)ÊúçÂä°ÊúçÂä°ËÑöÊú¨Âà∞systemd cp sapi&#x2F;fpm&#x2F;php-fpm.service &#x2F;etc&#x2F;systemd&#x2F;system&#x2F; Êü•ÁúãÂêØÂä®ËÑöÊú¨ cat sapi&#x2F;fpm&#x2F;php-fpm.service ÁªìÊûú # It&#39;s not recommended to modify this file in-place, because it # will be overwritten during upgrades. If you want to customize, # the best way is to use the &quot;systemctl edit&quot; command. [Unit] Description&#x3D;The PHP FastCGI Process Manager After&#x3D;network.target [Service] Type&#x3D;simple PIDFile&#x3D;&#x2F;usr&#x2F;local&#x2F;var&#x2F;run&#x2F;php-fpm.pid ExecStart&#x3D;&#x2F;usr&#x2F;local&#x2F;sbin&#x2F;php-fpm --nodaemonize --fpm-config &#x2F;usr&#x2F;local&#x2F;etc&#x2F;php-fpm.conf ExecReload&#x3D;&#x2F;bin&#x2F;kill -USR2 $MAINPID PrivateTmp&#x3D;true [Install] WantedBy&#x3D;multi-user.target ÈÖçÁΩÆcp sapi&#x2F;fpm&#x2F;php-fpm.conf &#x2F;usr&#x2F;local&#x2F;etc&#x2F;php-fpm.conf ‰øÆÊîπphp-fpm.conf Áõ∏Â∫îÈÖçÁΩÆ‰ΩøÂæóPIDFileÊñá‰ª∂‰ΩçÁΩÆ‰∏éphp-fpm.serviceÈÖçÁΩÆÁöÑ‰∏ÄËá¥„ÄÇÂπ∂Â§çÂà∂www.confÂà∞ÂØπÂ∫îÁõÆÂΩï ÂêØÂä®systemctl daemon-reload systemctl start php-fpm.service systemctl status php-fpm.service systemctl enable php-fpm.service","categories":[],"tags":[{"name":"php","slug":"php","permalink":"http://visonforcoding.xyz/tags/php/"}]},{"title":"supervisor‰ΩøÁî®","slug":"supervisor‰ΩøÁî®","date":"2020-09-02T02:50:48.000Z","updated":"2021-10-30T02:59:33.281Z","comments":true,"path":"2020/09/02/supervisor‰ΩøÁî®/","link":"","permalink":"http://visonforcoding.xyz/2020/09/02/supervisor%E4%BD%BF%E7%94%A8/","excerpt":"‰Ωú‰∏∫‰∏ÄÊ¨æËøõÁ®ãÁÆ°ÁêÜÂ∑•ÂÖ∑ÔºåsupervisorÊôÆÈÅçÁî®Êù•ÁÆ°ÁêÜÂ∫îÁî®ÁöÑÂÆàÊä§ËøõÁ®ã","text":"‰Ωú‰∏∫‰∏ÄÊ¨æËøõÁ®ãÁÆ°ÁêÜÂ∑•ÂÖ∑ÔºåsupervisorÊôÆÈÅçÁî®Êù•ÁÆ°ÁêÜÂ∫îÁî®ÁöÑÂÆàÊä§ËøõÁ®ã ÂÆâË£ÖÂ∏∏ËßÑÂÆâË£ÖÁöÑÊñπÂºèÊúâ‰∏§Áßç,pipÂÆâË£ÖÊàñÂèëË°åÁâàÂÆâË£Ö ‰ª•centos 8‰∏∫pipÂÆâË£ÖÊñπÂºè‰∏∫‰æã„ÄÇ pipÂÆâË£Öpip install supervisor ËøêË°åÈÖçÁΩÆÊñá‰ª∂echo_supervisord_conf &gt; &#x2F;etc&#x2F;supervisord.conf ÁîüÊàêÈÖçÁΩÆÊñá‰ª∂ ÈÖçÁΩÆsystemdÊúçÂä°Â¶ÇÊûúÊòØÂèëË°åÁâàÂÆâË£ÖÔºåÈªòËÆ§‰ºöÈÖçÁΩÆÂ•ΩÂºÄÊú∫ÂêØÂä®ÊúçÂä°„ÄÇÂ¶ÇÊûúÈùûÂèëË°åÁâàÂÆâË£ÖÔºåÂèØ‰ª•ÊâãÂä®ÈÖçÁΩÆ„ÄÇ There are user-contributed scripts for various operating systems at: https://github.com/Supervisor/initscripts Ê≥®ÊÑèÔºå‰∫ãÂÆû‰∏ägithub‰∏äÁöÑËÑöÊú¨ÊúâÁÇπÈóÆÈ¢òÔºå‰∏éÂÆûÈôÖÂÆâË£ÖÁöÑÁõÆÂΩï‰ΩçÁΩÆ‰∏çÂåπÈÖç„ÄÇÁ®ç‰Ωú‰øÆÊîπ # supervisord service for systemd (CentOS 7.0+) # by ET-CS (https://github.com/ET-CS) [Unit] Description=Supervisor daemon [Service] Type=forking ExecStart=/usr/local/bin/supervisord ExecStop=/usr/local/bin/supervisorctl $OPTIONS shutdown ExecReload=/usr/local/bin/supervisorctl $OPTIONS reload KillMode=process Restart=on-failure RestartSec=42s [Install] WantedBy=multi-user.target Â∞ÜÊ≠§Êñá‰ª∂‰∏∫‰øùÂ≠ò‰∏∫ vim /etc/systemd/system/supervisord.service ÂêØÂä®ÊúçÂä°ÈáçÊñ∞ËØªÂèñÊâÄÊúâÊúçÂä°È°π systemctl daemon-reload ÂêØÂä®ÊúçÂä° systemctl start supervisord.service ÂºÄÊú∫ÂêØÂä® systemctl enable supervisord.service ‰ΩøÁî®ÂêØÁî®Â≠êÈÖçÁΩÆÁõÆÂΩïvim /etc/supervisord.confÊúÄÂêé2Ë°åÊâìÂºÄÊ≥®ÈáäÂπ∂ÁºñËæë‰∏∫ [include] files &#x3D; .&#x2F;supervisord.d&#x2F;*.ini ÈáçÂêØ systemctl reload supervisord.service # ÊàñËÄÖ supervisorctl reload Ê∑ªÂä†È°πÁõÆvim /etc/supervisord.d/glances.ini [program:glances] command=glances --export influxdb -q process_name=%(program_name)s numprocs=1 directory=/tmp umask=022 priority=999 autostart=true autorestart=unexpected startsecs=10 startretries=3 exitcodes=0 stopsignal=TERM stopwaitsecs=10 stopasgroup=false killasgroup=false user=root redirect_stderr=false stdout_logfile=/var/log/glances/glances-out.log stdout_logfile_maxbytes=1MB stdout_logfile_backups=10 stdout_capture_maxbytes=1MB stdout_events_enabled=false stderr_logfile=/var/log/glances/glances-err.log stderr_logfile_maxbytes=1MB stderr_logfile_backups=10 stderr_capture_maxbytes=1MB Ê≥®ÊÑèÂÖàÂª∫Â•ΩÁõÆÂΩï /var/log/glances ÈáçÊñ∞ËØªÂèñÈÖçÁΩÆÂπ∂ÂêØÁî®supervisorctl reload supervisorctl start glances ÂèØÊü•ÁúãËøêË°åÁä∂ÊÄÅsupervisorctl status ÁªìÊûú glances RUNNING pid 46026, uptime 0:05:05","categories":[],"tags":[{"name":"ËøêÁª¥","slug":"ËøêÁª¥","permalink":"http://visonforcoding.xyz/tags/%E8%BF%90%E7%BB%B4/"}]},{"title":"mysqlÂ≠óÁ¨¶ÈõÜÈóÆÈ¢ò","slug":"mysqlÂ≠óÁ¨¶ÈõÜÈóÆÈ¢ò","date":"2020-09-01T11:01:33.000Z","updated":"2021-10-30T02:59:33.278Z","comments":true,"path":"2020/09/01/mysqlÂ≠óÁ¨¶ÈõÜÈóÆÈ¢ò/","link":"","permalink":"http://visonforcoding.xyz/2020/09/01/mysql%E5%AD%97%E7%AC%A6%E9%9B%86%E9%97%AE%E9%A2%98/","excerpt":"Áé∞‰ª£‰∫ßÂìÅÂíåÂõΩÈôÖÂåñ‰∫ßÂìÅÂª∫ËÆÆÈÉΩ‰ΩøÁî®utf8mb4Â≠óÁ¨¶ÈõÜÔºåË°®ÊÉÖÂ∑≤Êó†Â§Ñ‰∏çÂú®ü§ñü¶ñ„ÄÇ‰∫∫ÁîüËã¶Áü≠Âª∫ËÆÆmb4.","text":"Áé∞‰ª£‰∫ßÂìÅÂíåÂõΩÈôÖÂåñ‰∫ßÂìÅÂª∫ËÆÆÈÉΩ‰ΩøÁî®utf8mb4Â≠óÁ¨¶ÈõÜÔºåË°®ÊÉÖÂ∑≤Êó†Â§Ñ‰∏çÂú®ü§ñü¶ñ„ÄÇ‰∫∫ÁîüËã¶Áü≠Âª∫ËÆÆmb4. mysql ÂèØ‰ª•ËÆæÁΩÆÊï∞ÊçÆÂ∫ìÁ∫ßÂà´ÔºåË°®Á∫ßÂà´ÔºåÂàóÁ∫ßÂà´ Â≠óÁ¨¶ÈõÜÁºñÁ†ÅÔºõÊéßÂà∂Á≤íÂ∫¶‰æùÊ¨°ÁªÜÂåñÔºå‰πüÂ∞±ÊòØÂ¶ÇÊûúÈÉΩËÆæÁΩÆ‰∫ÜÔºåÂàóÁ∫ßÂà´‰ºòÂÖàÁ∫ßÊúÄÈ´ò„ÄÇ ÂÆö‰πâÊï∞ÊçÆË°®ÁªìÊûÑÊó∂Âª∫ËÆÆ‰∏çË¶ÅÂÆö‰πâÂàóÁöÑÂ≠óÁ¨¶ÈõÜÔºå‰ª•ÂÖçÂ∞ÜÊù•‰øÆÊîπÂèòÂæóÈ∫ªÁÉ¶„ÄÇ ‰øÆÊîπË°®ÁöÑÂ≠óÁ¨¶ÈõÜ‰øÆÊîπË°®ÁöÑÂ≠óÁ¨¶ÈõÜ Âπ∂Âà∑Êñ∞‰πãÂâçÂ∑≤Â≠òÂú®ÁöÑÊï∞ÊçÆALTER table table_name CONVERT to CHARACTER set Êñ∞ÁöÑÂ≠óÁ¨¶ÈõÜ; ‰øÆÊîπË°®ÁöÑÂ≠óÁ¨¶ÈõÜÔºå‰ΩÜ‰∏çÂØπ‰πãÂâçÂ∑≤Â≠òÂú®ÁöÑÊï∞ÊçÆÂà∑Êñ∞ALTER table table_name DEFAULT to CHARACTER set Êñ∞ÁöÑÂ≠óÁ¨¶ÈõÜ; ÊâπÈáè‰øÆÊîπSELECT CONCAT( 'ALTER TABLE ', TABLE_NAME, ' CONVERT TO CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;' ) FROM information_schema.`TABLES` WHERE TABLE_SCHEMA = 'DATABASE_NAME'; ÂæóÂà∞‰øÆÊîπËØ≠Âè•ÔºåÂ§çÂà∂Âá∫ÊâßË°åËØ≠Âè•ÔºåËøõË°åÊâßË°å„ÄÇÂ¶ÇÊûúÊï∞ÊçÆÂ∫ìÊï∞ÊçÆËæÉÂ§öÔºåÂ∞Ü‰ºöÊØîËæÉËÄóÊó∂„ÄÇ Â¶ÇÊûúÂè™ÊòØ‰øÆÊîπÈªòËÆ§Â≠óÁ¨¶ÈõÜ‰∏ç‰øÆÊîπÊï∞ÊçÆ„ÄÇ SELECT CONCAT( 'ALTER TABLE ', TABLE_NAME, ' DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;' ) FROM information_schema.`TABLES` WHERE TABLE_SCHEMA = 'DATABASE_NAME'; ËøôÊ†∑ÊâßË°åÂ∫îËØ•ËæÉ‰∏∫ÂÆâÂÖ®Ôºå‰πüÊª°Ë∂≥‰∏ÄËà¨ÈúÄÊ±Ç„ÄÇ","categories":[],"tags":[{"name":"mysql","slug":"mysql","permalink":"http://visonforcoding.xyz/tags/mysql/"}]},{"title":"javaÂºÄÂèëÁéØÂ¢ÉÂáÜÂ§á","slug":"java/mac‰∏ã‰ΩøÁî®openjdk-11","date":"2020-08-27T03:41:07.000Z","updated":"2021-11-26T02:58:45.143Z","comments":true,"path":"2020/08/27/java/mac‰∏ã‰ΩøÁî®openjdk-11/","link":"","permalink":"http://visonforcoding.xyz/2020/08/27/java/mac%E4%B8%8B%E4%BD%BF%E7%94%A8openjdk-11/","excerpt":"JDKÊúÄËøë‰ºº‰πéjava 8‰ª•‰∏äÁöÑÁâàÊú¨ÈÉΩ‰∏çËÉΩ‰ªéoracleÂÆòÁΩë‰∏ãËΩΩ‰∫ÜÔºå‰∫éÊòØÂ∞±Â∞ùËØï‰ΩøÁî®open jdk11","text":"JDKÊúÄËøë‰ºº‰πéjava 8‰ª•‰∏äÁöÑÁâàÊú¨ÈÉΩ‰∏çËÉΩ‰ªéoracleÂÆòÁΩë‰∏ãËΩΩ‰∫ÜÔºå‰∫éÊòØÂ∞±Â∞ùËØï‰ΩøÁî®open jdk11 ‰∏ãËΩΩÂèØ‰ª•‰ªé https://mirrors.huaweicloud.com/openjdk/ ‰∏ãËΩΩÂæóÂà∞ macÂÆâË£Ösudo mv &#x2F;Downloads&#x2F;jdk11 &#x2F;Library&#x2F;Java&#x2F;JavaVirtualMachines&#x2F;jdk-11.jdk linuxÈÖçÁΩÆbash_profile vim ~/.bash_profile JAVA_HOME&#x3D;&quot;&#x2F;usr&#x2F;local&#x2F;jdk-11.0.2&quot; PATH&#x3D;$PATH:$HOME&#x2F;bin:$JAVA_HOME&#x2F;bin export PATH mavenÊ∫êÁ†ÅÂÆâË£ÖMaven ‰∏ãËΩΩÂú∞ÂùÄÔºöhttp://maven.apache.org/download.cgi mac brew ÂÆâË£Öbrew install maven","categories":[],"tags":[{"name":"java","slug":"java","permalink":"http://visonforcoding.xyz/tags/java/"}]},{"title":"glances+influxdb+granfanaÊâìÈÄ†ÊúçÂä°Âô®ÁõëÊéßÁ≥ªÁªü","slug":"glances-influxdb-granfanaÊâìÈÄ†ÊúçÂä°Âô®ÁõëÊéßÁ≥ªÁªü","date":"2020-08-25T09:56:32.000Z","updated":"2021-10-30T02:59:33.275Z","comments":true,"path":"2020/08/25/glances-influxdb-granfanaÊâìÈÄ†ÊúçÂä°Âô®ÁõëÊéßÁ≥ªÁªü/","link":"","permalink":"http://visonforcoding.xyz/2020/08/25/glances-influxdb-granfana%E6%89%93%E9%80%A0%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9B%91%E6%8E%A7%E7%B3%BB%E7%BB%9F/","excerpt":"ÊúçÂä°ÁõëÊéßÂ∞±ÊòØ‰Ω†ÁöÑÁúºÁùõÔºåÂΩì‰Ω†ÂØπÊúçÂä°Âô®ËøêË°åÁä∂ÂÜµ‰∏ÄÊó†ÊâÄÁü•Êó∂Ôºå‰Ω†Â∫îËØ•ÊÑüÂà∞ÂùêÁ´ã‰∏çÂÆâ„ÄÇ","text":"ÊúçÂä°ÁõëÊéßÂ∞±ÊòØ‰Ω†ÁöÑÁúºÁùõÔºåÂΩì‰Ω†ÂØπÊúçÂä°Âô®ËøêË°åÁä∂ÂÜµ‰∏ÄÊó†ÊâÄÁü•Êó∂Ôºå‰Ω†Â∫îËØ•ÊÑüÂà∞ÂùêÁ´ã‰∏çÂÆâ„ÄÇ glancesÂÆâË£ÖglancesÊòØÁî±pythonÁºñÂÜôÁöÑÔºåÂõ†Ê≠§ÂèØ‰ª•‰ΩøÁî®pipÁõ¥Êé•ÂÆâË£Ö pip3 install glances influxdbÂÆâË£Öwget https:&#x2F;&#x2F;dl.influxdata.com&#x2F;influxdb&#x2F;releases&#x2F;influxdb-1.8.2.x86_64.rpm sudo yum localinstall influxdb-1.8.2.x86_64.rpm Êî∂ÈõÜÊï∞ÊçÆÂà∞influxdbÈÖçÁΩÆ glances vim /etc/glances/glances.conf [influxdb] # Configuration for the --export influxdb option # https://influxdb.com/ host=localhost port=8086 user=root password=root db=glances prefix=localhost #tags=foo:bar,spam:eggs pip3 install influxdb glances --export influxdb ÊâßË°å glances --export influxdb ÊµãËØï‰∏ãÔºåÊä•Èîô InfluxDB database &#39;glances&#39; did not exist. Please create itÈúÄË¶ÅÊñ∞Âª∫Êï∞ÊçÆÂ∫ì„ÄÇ ÊâßË°åshell influx CREATE DATABASE glances #ÂàõÂª∫Êï∞ÊçÆ SHOW DATABASES # Êü•ÁúãÊï∞ÊçÆÂ∫ì ÂÜçÊ¨°ÊâßË°åglances --export influxdb ,ÂèØÊòæÁ§∫Â¶Ç‰∏ã‰ª£Ë°®ÁõÆÂâç‰∏ÄÂàáÊ≠£Â∏∏ ‰Ωú‰∏∫ÊúçÂä°ËøêË°åÊ≠§Êó∂Êàë‰ª¨ÈúÄË¶ÅÁºñÂÜô.serviceËÑöÊú¨‰Ωú‰∏∫ÊúçÂä°ÂêéÂè∞ËøêË°å [Unit] Description&#x3D;glances daemon After&#x3D;network.target influxdb.service [Service] User&#x3D;root Group&#x3D;root ExecStart&#x3D;&#x2F;usr&#x2F;local&#x2F;bin&#x2F;glances --quiet --export influxdb Type&#x3D;simple KillMode&#x3D;process [Install] WantedBy&#x3D;multi-user.target ÂëΩÂêçËØ•Êñá‰ª∂‰∏∫glances.serviceÂπ∂ÊîæÂà∞/usr/lib/systemd/systemÁõÆÂΩï‰∏ã systemctl start glances ÂêØÂä® Êõ¥Â§öÁöÑ serviceËÑöÊú¨ÁºñÂÜôÂèØÂèÇËÄÉÔºåhttp://www.jinbuguo.com/systemd/systemd.service.html granfanaÂÆâË£Öwget https:&#x2F;&#x2F;dl.grafana.com&#x2F;oss&#x2F;release&#x2F;grafana-7.1.5-1.x86_64.rpm sudo yum install grafana-7.1.5-1.x86_64.rpm ÂêØÂä®systemctl daemon-reload systemctl start grafana-server systemctl status grafana-server systemctl enable grafana-server.service docker-granfanaÂÆâË£Ö# docker-compose.yml version: \"3.1\" services: grafana: image: grafana/grafana:5.1.0 ports: - 3001:3000 environment: - GF_SECURITY_ADMIN_PASSWORD__FILE=/run/secrets/granfa_admin_pwd # 5.2.0‰πãÂêéÊâçÂèØÁî® nginxÈÖçÁΩÆ server &#123; listen 80; server_name grafana-dev.domain.cn; #charset koi8-r; location &#x2F; &#123; proxy_pass http:&#x2F;&#x2F;127.0.0.1:3001; proxy_http_version 1.1; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection &quot;upgrade&quot;; &#125; &#125; Â∞±ÂèØ‰ª•Âú®web‰∏äËøõË°åËÆøÈóÆ,ÂàùÂßãÁöÑË¥¶Âè∑ÂØÜÁ†ÅÈÉΩÊòØadmin ÈÖçÁΩÆÊï∞ÊçÆÊ∫ê dockerÂÆâË£ÖÊÉÖÂÜµÂ∫îÊ≥®ÊÑèdockerÂÆπÂô®ip ÂíåÂÆø‰∏ªÊú∫ip docker network ls # Êü•ÁúãdockerÁΩëÁªú docker network inspect $networkid # Êü•ÁúãÂÖ∑‰ΩìÁΩëÁªú‰ø°ÊÅØ Âú®ÈÖçÁΩÆinfluxdb Êï∞ÊçÆÊ∫êÊó∂ÔºåÂ¶ÇÊûú‰Ω†ÊòØÁî®dockerÂÆâË£ÖÔºåÈúÄË¶Å‰øùÊåÅgranfanaÂíåinfluxdbÊòØÂú®Âêå‰∏Ä‰∏™ÁΩëÊÆµ Ê∑ªÂä†‰∏Ä‰∏™ÁúãÊùø grafana ËøòÊîØÊåÅzipkin","categories":[],"tags":[{"name":"devops","slug":"devops","permalink":"http://visonforcoding.xyz/tags/devops/"}]},{"title":"vuetifyjsÂõæÊ†áËß£ÂÜ≥ÊñπÊ°à","slug":"web/vuetifyjsÂõæÊ†áËß£ÂÜ≥ÊñπÊ°à","date":"2020-08-24T02:24:41.000Z","updated":"2021-10-30T02:59:33.282Z","comments":true,"path":"2020/08/24/web/vuetifyjsÂõæÊ†áËß£ÂÜ≥ÊñπÊ°à/","link":"","permalink":"http://visonforcoding.xyz/2020/08/24/web/vuetifyjs%E5%9B%BE%E6%A0%87%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/","excerpt":"vuetifyjsÂÆòÊñπÊèê‰æõÁöÑÊñπÊ≥ïÂÆûÈôÖËøêÁî®ÂΩì‰∏≠‰ºº‰πé‰ºöÂ≠òÂú®‰∏Ä‰∫õÂÖºÂÆπÈóÆÈ¢òÔºåÊØîÂ¶Ç‰ΩøÁî®Font AwesomeÊó∂Êúâ‰∫õÂõæÊ†áÂ∞±‰∏ç‰ºöÊ≠£Â∏∏ÊòæÁ§∫„ÄÇ","text":"vuetifyjsÂÆòÊñπÊèê‰æõÁöÑÊñπÊ≥ïÂÆûÈôÖËøêÁî®ÂΩì‰∏≠‰ºº‰πé‰ºöÂ≠òÂú®‰∏Ä‰∫õÂÖºÂÆπÈóÆÈ¢òÔºåÊØîÂ¶Ç‰ΩøÁî®Font AwesomeÊó∂Êúâ‰∫õÂõæÊ†áÂ∞±‰∏ç‰ºöÊ≠£Â∏∏ÊòæÁ§∫„ÄÇ Font Awesome&lt;!-- ÂÆòÊñπ --> &lt;v-icon>fas fa-php&lt;/v-icon> &lt;!-- Êõø‰ª£ --> &lt;i class=\"fab fa-php v-icon\">&lt;/i> Êúâ‰∫õÂõæÊ†á‰∏çÊòæÁ§∫ÁöÑÈóÆÈ¢òÂèØ‰ª•‰ΩøÁî®‰∏äËø∞ÊñπÊ≥ïÊõø‰ª£Ëß£ÂÜ≥ ‰ΩøÁî®ÈòøÈáåÂ∑¥Â∑¥Â≠ó‰ΩìÈòøÈáåÂ∑¥Â∑¥Â≠ó‰ΩìÈùûÂ∏∏Â§öÈùûÂ∏∏Â∫ûÂ§ßÔºåÂü∫Êú¨ÊÉ≥Ë¶ÅÁöÑÈÉΩÊúâÔºåËÄåÂõΩÂ§ñÁöÑÂæàÂ§ö‰∏çËÉΩÁî®„ÄÇÊâÄ‰ª•ÂèØ‰ª•‰ΩøÁî®ÈòøÈáåÂ∑¥Â∑¥Â≠ó‰ΩìÊõø‰ª£„ÄÇ Á¨¨‰∏ÄÊ≠•ÔºöÊã∑Ë¥ùÈ°πÁõÆ‰∏ãÈù¢ÁîüÊàêÁöÑfontclass‰ª£Á†ÅÔºö ÂèØ‰ª•Âú®public/index.html ‰∏ãÁî® link Ê†áÁ≠æÂºïÂÖ• //at.alicdn.com/t/font_8d5l8fzk5b87iudi.css Á¨¨‰∫åÊ≠•ÔºöÊåëÈÄâÁõ∏Â∫îÂõæÊ†áÂπ∂Ëé∑ÂèñÁ±ªÂêçÔºåÂ∫îÁî®‰∫éÈ°µÈù¢Ôºö &lt;i class=\"iconfont icon-xxx\">&lt;/i>","categories":[],"tags":[{"name":"webÂâçÁ´Ø","slug":"webÂâçÁ´Ø","permalink":"http://visonforcoding.xyz/tags/web%E5%89%8D%E7%AB%AF/"}]},{"title":"gunicorn+flask_restÊûÑÂª∫ÈÉ®ÁΩ≤ËΩªÈáèÁ∫ßapiÊúçÂä°","slug":"python/gunicorn-flask-restÊûÑÂª∫ÈÉ®ÁΩ≤ËΩªÈáèÁ∫ßapiÊúçÂä°","date":"2020-08-20T07:51:30.000Z","updated":"2021-10-30T02:59:33.281Z","comments":true,"path":"2020/08/20/python/gunicorn-flask-restÊûÑÂª∫ÈÉ®ÁΩ≤ËΩªÈáèÁ∫ßapiÊúçÂä°/","link":"","permalink":"http://visonforcoding.xyz/2020/08/20/python/gunicorn-flask-rest%E6%9E%84%E5%BB%BA%E9%83%A8%E7%BD%B2%E8%BD%BB%E9%87%8F%E7%BA%A7api%E6%9C%8D%E5%8A%A1/","excerpt":"","text":"flask ÁªìÊûÑÈ¶ñÂÖàÁÆÄÂçïÁúãÁúã flask_restÁöÑÁõÆÂΩïÁªìÊûÑ„ÄÇ ÂÖ•Âè£Êñá‰ª∂#app.py from flask import Flask from flask_restful import Resource, Api from resources.bd import Index,Format from flask_cors import CORS # from common import config app = Flask(__name__) CORS(app) api = Api(app) api.add_resource(Format, '/bd/format') # if __name__ == '__main__': # app.run(debug=True) Â¶ÇÊûú‰ΩøÁî®gunicornÂêØÂä®ÔºåÂàôÊ≥®ÈáäÊéâapp.run gunicornÂêØÂä®ÈÖçÁΩÆ# config.py import os import gevent.monkey gevent.monkey.patch_all() import multiprocessing debug = True loglevel = 'debug' bind = \"0.0.0.0:5000\" pidfile = \"logs/gunicorn.pid\" accesslog = \"logs/access.log\" errorlog = \"logs/debug.log\" daemon = True # ÂêØÂä®ÁöÑËøõÁ®ãÊï∞ workers = multiprocessing.cpu_count() worker_class = 'gevent' x_forwarded_for_header = 'X-FORWARDED-FOR' ÂêØÂä®python3 -m venv webpj source webpj/bin/activate pip install -r requirements.txt -i http://mirrors.aliyun.com/pypi/simple/ --trusted-host mirrors.aliyun.com pip install xlrd -i http://mirrors.aliyun.com/pypi/simple/ --trusted-host mirrors.aliyun.com pip install openpyxl -i http://mirrors.aliyun.com/pypi/simple/ --trusted-host mirrors.aliyun.com gunicorn -c config.py app:app Âπ≥ÊªëÈáçÂêØcat logs/gunicorn.pid | xargs kill -HUP","categories":[],"tags":[{"name":"python","slug":"python","permalink":"http://visonforcoding.xyz/tags/python/"}]},{"title":"pandasÊï∞ÊçÆÂø´ÈÄüÂ§ÑÁêÜ","slug":"pandasÊï∞ÊçÆÂø´ÈÄüÂ§ÑÁêÜ","date":"2020-07-31T04:24:15.000Z","updated":"2021-10-30T02:59:33.279Z","comments":true,"path":"2020/07/31/pandasÊï∞ÊçÆÂø´ÈÄüÂ§ÑÁêÜ/","link":"","permalink":"http://visonforcoding.xyz/2020/07/31/pandas%E6%95%B0%E6%8D%AE%E5%BF%AB%E9%80%9F%E5%A4%84%E7%90%86/","excerpt":"ÈîÄÂîÆÂêå‰∫ãÊãøÂà∞‰∏Ä‰ªΩÊï∞ÊçÆÔºå‰ΩÜÊòØÊï∞ÊçÆÂØºÂá∫ÂàóÊòØjson,ÊàëÈ°∫ÊâãÂ∞±Â∏Æ‰ªñÂ§ÑÁêÜ‰∫Ü‰∏ã„ÄÇ‰∏çÂæó‰∏çËØ¥ pandasÂú®Â§ÑÁêÜËøôÁ±ªÈóÆÈ¢òËøòÊòØÈùûÂ∏∏ÊïàÁéáÈ´òÁöÑ.","text":"ÈîÄÂîÆÂêå‰∫ãÊãøÂà∞‰∏Ä‰ªΩÊï∞ÊçÆÔºå‰ΩÜÊòØÊï∞ÊçÆÂØºÂá∫ÂàóÊòØjson,ÊàëÈ°∫ÊâãÂ∞±Â∏Æ‰ªñÂ§ÑÁêÜ‰∫Ü‰∏ã„ÄÇ‰∏çÂæó‰∏çËØ¥ pandasÂú®Â§ÑÁêÜËøôÁ±ªÈóÆÈ¢òËøòÊòØÈùûÂ∏∏ÊïàÁéáÈ´òÁöÑ. import pandas import json data = pandas.read_excel('data.xlsx') address = data['address'].values.tolist() ordertime_list = data['order_datetime'].values.tolist() address_new_list = [] for ad in address: addressJson = json.loads(ad) address_new_list.append(addressJson[0]) for ad in address_new_list: for t in ordertime_list: ad['order_time'] = t df = pandas.DataFrame.from_records(address_new_list) df.to_excel('new_data.xlsx')","categories":[],"tags":[{"name":"python","slug":"python","permalink":"http://visonforcoding.xyz/tags/python/"}]},{"title":"phpÁîüÊÄÅ‰πãÊÄßËÉΩÂàÜÊûê","slug":"php/phpÁîüÊÄÅ‰πãÊÄßËÉΩÂàÜÊûê","date":"2020-07-23T07:00:58.000Z","updated":"2021-10-30T02:59:33.280Z","comments":true,"path":"2020/07/23/php/phpÁîüÊÄÅ‰πãÊÄßËÉΩÂàÜÊûê/","link":"","permalink":"http://visonforcoding.xyz/2020/07/23/php/php%E7%94%9F%E6%80%81%E4%B9%8B%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90/","excerpt":"‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÊàë‰ª¨Âπ∂‰∏ç‰ºöÂ§™ÂÖ≥Ê≥®PHPÁöÑÊâßË°åÊïàÁéáÔºåÂõ†‰∏∫‰∏ÄËà¨ËÄåË®Ä‰ªñÈÉΩË°®Áé∞Ê≠£Â∏∏Êª°Ë∂≥ÈúÄÊ±Ç„ÄÇ‰ΩÜÂΩìÁúüÊ≠£ÈÅáÂà∞ÈóÆÈ¢òÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨ÈúÄË¶ÅÊúâÂàÜÊûêÊÄßËÉΩÂú®Âì™‰∏¢Â§±ÁöÑËÉΩÂäõ„ÄÇ","text":"‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÊàë‰ª¨Âπ∂‰∏ç‰ºöÂ§™ÂÖ≥Ê≥®PHPÁöÑÊâßË°åÊïàÁéáÔºåÂõ†‰∏∫‰∏ÄËà¨ËÄåË®Ä‰ªñÈÉΩË°®Áé∞Ê≠£Â∏∏Êª°Ë∂≥ÈúÄÊ±Ç„ÄÇ‰ΩÜÂΩìÁúüÊ≠£ÈÅáÂà∞ÈóÆÈ¢òÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨ÈúÄË¶ÅÊúâÂàÜÊûêÊÄßËÉΩÂú®Âì™‰∏¢Â§±ÁöÑËÉΩÂäõ„ÄÇ xhprofÊ≠£ÊòØËøôÊ†∑ÁöÑÂ∑•ÂÖ∑„ÄÇ‰ΩÜÊòØÁî±‰∫éÂπ¥‰πÖÂ§±‰øÆÔºåÁõÆÂâçÂ∑≤Áªè‰∏çÊîØÊåÅPHP7 . ‰∏çËøáÔºåÂ•ΩÂú®ËøòÊúâÈùûÂÆòÊñπÂïÜ‰∏öÁªÑÁªáÂºÄÊ∫ê‰∫ÜPHP7ÁâàÊú¨,tideways-xhprof„ÄÇ ÂÆòÁΩë https://tideways.com/profiler/xhprof-for-php7 ÂÆâË£Ögit clone \"https://github.com/tideways/php-xhprof-extension.git\" cd php-xhprof-extension phpize ./configure make sudo make install ÈÖçÁΩÆÂ•ΩiniÔºåÈáçÂêØÊü•Áúã‰∏ãphp -m ÂõæÂΩ¢Âåñtideways-xhprof ÂèØ‰ª•Â∞ÜÂàÜÊûêÂá∫ÊñπÊ≥ïË∞ÉÁî®„ÄÅÊñπÊ≥ïË∞ÉÁî®ËøáÁ®ãÂíåÊÄßËÉΩÊ∂àËÄóÊï∞ÊçÆ„ÄÇ tideways-xhprof Êú¨Ë∫´ËøòÊèê‰æõÂïÜ‰∏öÂåñÊúçÂä°ÔºåÊúâÁùÄÊØîËæÉÂ•ΩÁöÑ‰ΩìÈ™å„ÄÇ‰∏çËøá‰πüÂêåÊó∂ÊúâÂºÄÊ∫êÁöÑÂõæÂΩ¢ÂåñÂ∑•ÂÖ∑„ÄÇÊØîËæÉÂ•ΩÁöÑÊòØxhguiÂíå‰ªñÈÖçÂ•óÁöÑÊòØperftools/php-profiler.Áúã‰∫Ü‰∏ã‰ΩúËÄÖÔºåËøòÊòØmarkstoryÔºåcakephpÁöÑ‰ΩúËÄÖÔºåÂá†Âπ¥Ââç‰ΩøÁî®cakephpÁöÑÊó∂ÂÄôÔºåËøòÊúâËøá‰∫§ÊµÅ„ÄÇ xguiÂÆâË£ÖÂèØ‰ª•ÈÄâÊã©Ê∫êÁ†ÅÈÉ®ÁΩ≤Ôºå‰πüÂèØ‰ª•ÈÄâÊã©dockerÈÉ®ÁΩ≤„ÄÇÊñπ‰æøÁÇπÈÄâÊã©‰ΩøÁî®docker„ÄÇ Clone or download xhgui from GitHub. Startup the containers: docker-compose up -d Open your browser at http://xhgui.127.0.0.1.xip.io:8142 or just http://localhost:8142 php-profiler‰ΩøÁî®ÂÆòÊñπgithub‰∏äÂÜôÂá†ÁßçÊé•ÂÖ•ÊñπÂºèÔºåÊàëÊé®ËçêÁî®Ê≥®ÂÜåshutdownÊñπÂºèÔºåÊ≠£Âú®ÂØπÈ°πÁõÆ‰ª£Á†ÅÊó†ÂÖ•‰æµ„ÄÇ‰øùÂ≠òËøáÁ®ãÂú®shutdown‰πãÂêé„ÄÇ $profiler &#x3D; new \\Xhgui\\Profiler\\Profiler($config); &#x2F;&#x2F; The profiler itself checks whether it should be enabled &#x2F;&#x2F; for request (executes lambda function from config) $profiler-&gt;enable(); &#x2F;&#x2F; shutdown handler collects and stores the data. $profiler-&gt;registerShutdownHandler(); ‰∏äÈù¢ÁöÑ$configÔºåÂú®‰ΩøÁî®ÈùûÊñá‰ª∂Â≠òÂÇ®ÁöÑÊó∂ÂÄôË¶ÅÊ≥®ÊÑè‰∏çË¶ÅÂÆâË£ÖÂÆòÊñπÈÖçÁΩÆÊù•ÔºåÂÆòÊñπÈÖçÁΩÆÁõÆÂâçÂ≠òÂú®‰∏ÄÁÇπÈóÆÈ¢òÔºåÊñ∞ÈÖçÁΩÆ‰ºö‰∏çÁîüÊïà„ÄÇÊàëÁúã‰∫ÜÊ∫êÁ†ÅÔºåÂπ∂‰∏îÊèê‰∫§‰∫ÜPR„ÄÇ &#x2F;&#x2F; &#39;db.host&#39; &#x3D;&gt; &#39;mongodb:&#x2F;&#x2F;127.0.0.1:27018&#39;, &#x2F;&#x2F; &#39;db.db&#39; &#x3D;&gt; &#39;xhprof&#39;, &#39;save.handler.mongodb&#39; &#x3D;&gt; array( &#39;dsn&#39; &#x3D;&gt; &#39;mongodb:&#x2F;&#x2F;127.0.0.1:27018&#39;, &#39;database&#39; &#x3D;&gt; &#39;xhprof&#39;, &#x2F;&#x2F; Allows you to pass additional options like replicaSet to MongoClient. &#x2F;&#x2F; &#39;username&#39;, &#39;password&#39; and &#39;db&#39; (where the user is added) &#39;options&#39; &#x3D;&gt; array(), ), Ê≥®ÈáäÈÉ®ÂàÜÊâçÊúâÊïà. ÈªòËÆ§ÈÖçÁΩÆ&lt;?php &#x2F;** * Default configuration for Xhgui *&#x2F; $mongoUri &#x3D; getenv(&#39;XHGUI_MONGO_URI&#39;) ?: &#39;127.0.0.1:27017&#39;; $mongoUri &#x3D; str_replace(&#39;mongodb:&#x2F;&#x2F;&#39;, &#39;&#39;, $mongoUri); $mongoDb &#x3D; getenv(&#39;XHGUI_MONGO_DB&#39;) ?: &#39;xhprof&#39;; return array( &#39;debug&#39; &#x3D;&gt; false, &#39;mode&#39; &#x3D;&gt; &#39;development&#39;, &#x2F;&#x2F; Can be mongodb, file or upload. &#x2F;&#x2F; For file &#x2F;&#x2F; &#x2F;&#x2F;&#39;save.handler&#39; &#x3D;&gt; &#39;file&#39;, &#x2F;&#x2F;&#39;save.handler.filename&#39; &#x3D;&gt; dirname(__DIR__) . &#39;&#x2F;cache&#x2F;&#39; . &#39;xhgui.data.&#39; . microtime(true) . &#39;_&#39; . substr(md5($url), 0, 6), &#x2F;&#x2F; For upload &#x2F;&#x2F; &#x2F;&#x2F; Saving profile data by upload is only recommended with HTTPS &#x2F;&#x2F; endpoints that have IP whitelists applied. &#x2F;&#x2F; &#x2F;&#x2F; The timeout option is in seconds and defaults to 3 if unspecified. &#x2F;&#x2F; &#x2F;&#x2F;&#39;save.handler&#39; &#x3D;&gt; &#39;upload&#39;, &#x2F;&#x2F;&#39;save.handler.upload.uri&#39; &#x3D;&gt; &#39;https:&#x2F;&#x2F;example.com&#x2F;run&#x2F;import&#39;, &#x2F;&#x2F;&#39;save.handler.upload.timeout&#39; &#x3D;&gt; 3, &#x2F;&#x2F; For MongoDB &#39;save.handler&#39; &#x3D;&gt; &#39;mongodb&#39;, &#39;db.host&#39; &#x3D;&gt; sprintf(&#39;mongodb:&#x2F;&#x2F;%s&#39;, $mongoUri), &#39;db.db&#39; &#x3D;&gt; $mongoDb, &#39;pdo&#39; &#x3D;&gt; array( &#39;dsn&#39; &#x3D;&gt; &#39;sqlite:&#x2F;tmp&#x2F;xhgui.sqlite3&#39;, &#39;user&#39; &#x3D;&gt; null, &#39;pass&#39; &#x3D;&gt; null, &#39;table&#39; &#x3D;&gt; &#39;results&#39; ), &#x2F;&#x2F; Allows you to pass additional options like replicaSet to MongoClient. &#x2F;&#x2F; &#39;username&#39;, &#39;password&#39; and &#39;db&#39; (where the user is added) &#39;db.options&#39; &#x3D;&gt; array(), &#39;templates.path&#39; &#x3D;&gt; dirname(__DIR__) . &#39;&#x2F;src&#x2F;templates&#39;, &#39;date.format&#39; &#x3D;&gt; &#39;M jS H:i:s&#39;, &#39;detail.count&#39; &#x3D;&gt; 6, &#39;page.limit&#39; &#x3D;&gt; 25, &#x2F;&#x2F; call fastcgi_finish_request() in shutdown handler &#39;fastcgi_finish_request&#39; &#x3D;&gt; true, &#x2F;&#x2F; Profile x in 100 requests. (E.g. set XHGUI_PROFLING_RATIO&#x3D;50 to profile 50% of requests) &#x2F;&#x2F; You can return true to profile every request. &#39;profiler.enable&#39; &#x3D;&gt; function() &#123; $ratio &#x3D; getenv(&#39;XHGUI_PROFILING_RATIO&#39;) ?: 100; return (getenv(&#39;XHGUI_PROFILING&#39;) !&#x3D;&#x3D; false) &amp;&amp; (mt_rand(1, 100) &lt;&#x3D; $ratio); &#125;, &#39;profiler.simple_url&#39; &#x3D;&gt; function($url) &#123; return preg_replace(&#39;&#x2F;\\&#x3D;\\d+&#x2F;&#39;, &#39;&#39;, $url); &#125;, &#x2F;&#x2F;&#39;profiler.replace_url&#39; &#x3D;&gt; function($url) &#123; &#x2F;&#x2F; return str_replace(&#39;token&#39;, &#39;&#39;, $url); &#x2F;&#x2F;&#125;, &#39;profiler.options&#39; &#x3D;&gt; array(), &#39;profiler.skip_built_in&#39; &#x3D;&gt; false, ); ‰ª•‰∏äÊòØÈªòËÆ§ÈÖçÁΩÆ ÊïàÊûú Âõæ‰∏≠ÂèØ‰ª•ÁúãÂà∞,ÊØèÊ¨°ËØ∑Ê±ÇÁöÑËä±Ë¥πÊó∂Èó¥„ÄÇ ÈÄöËøáËßÇÂØüÊñπÊ≥ïË∞ÉÁî®Ê¨°Êï∞ÔºåÂèØ‰ª•ÂèëÁé∞symfony ErrorHandlerËøô‰∏™ÁªÑ‰ª∂ÊñπÊ≥ïÊâßË°åÁöÑÁâπÂà´Â§ö„ÄÇ ‰∫éÊòØÊàëÂèñÊ∂à‰∫ÜËøô‰∏™ÁªÑ‰ª∂ÔºåÂèëÁé∞Êé•Âè£ËØ∑Ê±ÇÊó∂Èó¥‰ªé113msÁõ¥Êé•Â∞±ÈôçÂà∞‰∫Ü71ms. ËøôÂ∞±ÊòØÂæàÁõ¥ËßÇÁöÑÊÄßËÉΩÂÆö‰Ωç‰∫Ü","categories":[],"tags":[{"name":"php","slug":"php","permalink":"http://visonforcoding.xyz/tags/php/"}]},{"title":"edge‰ΩøÁî®google theme","slug":"edge‰ΩøÁî®google-theme","date":"2020-07-10T09:27:30.000Z","updated":"2021-10-30T02:59:33.275Z","comments":true,"path":"2020/07/10/edge‰ΩøÁî®google-theme/","link":"","permalink":"http://visonforcoding.xyz/2020/07/10/edge%E4%BD%BF%E7%94%A8google-theme/","excerpt":"","text":"Áî®edgeÊâìÂºÄ edge://flags/#edge-allow-store-extension-themes Êîπ‰∏∫ÂêØÁî®ÔºÅ ËÆøÈóÆ https://chrome.google.com/webstore/category/themes ÂÆâË£ÖÂç≥ÂèØÂï¶„ÄÇ","categories":[],"tags":[]},{"title":"kafkaÊê≠Âª∫Âíå‰ΩøÁî®(PHPËØ≠Ë®ÄÁâàÊú¨)","slug":"php/kafkaÂÆâË£ÖÂíå‰ΩøÁî®-PHPËØ≠Ë®ÄÁâàÊú¨","date":"2020-07-08T08:13:45.000Z","updated":"2021-10-30T02:59:33.280Z","comments":true,"path":"2020/07/08/php/kafkaÂÆâË£ÖÂíå‰ΩøÁî®-PHPËØ≠Ë®ÄÁâàÊú¨/","link":"","permalink":"http://visonforcoding.xyz/2020/07/08/php/kafka%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8-PHP%E8%AF%AD%E8%A8%80%E7%89%88%E6%9C%AC/","excerpt":"È¶ñÂÖà,ÂÆâË£ÖÁ°ÆÂÆûÊòØ‰∏Ä‰∏™Ë¥πÊó∂Ë¥πÂäõÁöÑ‰∫ãÊÉÖ„ÄÇËøôÈáåÊàë‰ª¨‰ΩøÁî®dockerÂÆâË£Ö„ÄÇ","text":"È¶ñÂÖà,ÂÆâË£ÖÁ°ÆÂÆûÊòØ‰∏Ä‰∏™Ë¥πÊó∂Ë¥πÂäõÁöÑ‰∫ãÊÉÖ„ÄÇËøôÈáåÊàë‰ª¨‰ΩøÁî®dockerÂÆâË£Ö„ÄÇ dockerÊê≠Âª∫kafka## docker-compose.yml version: '3.1' services: zookeeper: image: wurstmeister/zookeeper ports: - \"2181:2181\" kafka: image: wurstmeister/kafka ports: - \"9092:9092\" environment: KAFKA_ADVERTISED_HOST_NAME: 172.17.0.1 KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181 KAFKA_ADVERTISED_PORT: 9092 Êõ¥Â§öÁªÜËäÇÂª∫ËÆÆËÆøÈóÆÂÆòÊñπÊñáÊ°£Êü•ÈòÖ„ÄÇ PHPÂÆûÁé∞Áîü‰∫ßËÄÖpublic function kafka(Request $request) &#123; $faker &#x3D; Factory::create(&#39;zh_CN&#39;); $message &#x3D; $faker-&gt;name(); Log::debug(&#39;Ê∂àÊÅØ&#39;, [&#39;message&#39; &#x3D;&gt; $message]); $conf &#x3D; new Conf(); $conf-&gt;set(&#39;log_level&#39;, (string) LOG_DEBUG); $conf-&gt;set(&#39;debug&#39;, &#39;all&#39;); $conf-&gt;set(&#39;metadata.broker.list&#39;, &#39;127.0.0.1:9092&#39;); $conf-&gt;setDrMsgCb(function ($kafka, $message) &#123; Log::debug(&quot;kafka‰ø°ÊÅØ&quot;, [&#39;message&#39; &#x3D;&gt; var_export($message, true)]); &#125;); $conf-&gt;setErrorCb(function ($kafka, $err, $reason) &#123; Log::debug(&quot;kafkaÈîôËØØ&quot;, [&#39;err&#39; &#x3D;&gt; $err, &#39;reason&#39; &#x3D;&gt; $reason]); &#125;); $conf-&gt;setLogCb(function ($kafka, $level, $facility, $message) &#123; Log::debug(vsprintf(&quot;Kafka %s: %s (level: %d)\\n&quot;, [$facility, $message, $level])); &#125;); &#x2F;&#x2F;If you need to produce exactly once and want to keep the original produce order, uncomment the line below &#x2F;&#x2F;$conf-&gt;set(&#39;enable.idempotence&#39;, &#39;true&#39;); $producer &#x3D; new Producer($conf); $topic &#x3D; $producer-&gt;newTopic(&quot;test&quot;); $topic-&gt;produce(RD_KAFKA_PARTITION_UA, 0, $faker-&gt;name()); $producer-&gt;poll(0); $result &#x3D; $producer-&gt;flush(10000); if (RD_KAFKA_RESP_ERR_NO_ERROR !&#x3D;&#x3D; $result) &#123; throw new \\RuntimeException(&#39;Was unable to flush, messages might be lost!&#39;); &#125; return new ActionResponse($result); &#125; Ê∂àË¥πËÄÖpublic function consume() &#123; $conf &#x3D; new Conf(); &#x2F;&#x2F; Configure the group.id. All consumer with the same group.id will consume &#x2F;&#x2F; different partitions. $conf-&gt;set(&#39;group.id&#39;, &#39;myConsumerGroup&#39;); &#x2F;&#x2F; Initial list of Kafka brokers $conf-&gt;set(&#39;metadata.broker.list&#39;, &#39;127.0.0.1&#39;); &#x2F;&#x2F; Set where to start consuming messages when there is no initial offset in &#x2F;&#x2F; offset store or the desired offset is out of range. &#x2F;&#x2F; &#39;smallest&#39;: start from the beginning $conf-&gt;set(&#39;auto.offset.reset&#39;, &#39;smallest&#39;); $consumer &#x3D; new KafkaConsumer($conf); &#x2F;&#x2F; Subscribe to topic &#39;test&#39; $consumer-&gt;subscribe([&#39;test&#39;]); echo &quot;Waiting for partition assignment... (make take some time when\\n&quot;; echo &quot;quickly re-joining the group after leaving it.)\\n&quot;; while (true) &#123; $message &#x3D; $consumer-&gt;consume(120 * 1000); switch ($message-&gt;err) &#123; case RD_KAFKA_RESP_ERR_NO_ERROR: $this-&gt;info($message-&gt;payload); break; case RD_KAFKA_RESP_ERR__PARTITION_EOF: echo &quot;No more messages; will wait for more\\n&quot;; break; case RD_KAFKA_RESP_ERR__TIMED_OUT: $this-&gt;info(&quot;Timed out&quot;); break; default: throw new Exception($message-&gt;errstr(), $message-&gt;err); break; &#125; &#125; &#125; ÊµãËØïÁîü‰∫ßËÄÖÊòØ‰∏Ä‰∏™restfulÁöÑapiÔºåÁõ¥Êé•Ë∞ÉÁî®‰ºöÂæÄkafkaÈáåÂÜôÂÖ•1‰∏™‰∏≠ÊñáÂßìÂêçÁöÑÊ∂àÊÅØ„ÄÇ Ê∂àË¥πËÄÖÊòØ‰∏Ä‰∏™PHPËÑöÊú¨ËøõÁ®ãÔºåÂêØÂä®‰ºöÂºÄÂßãÊ∂àË¥πkafkaÊ∂àÊÅØ php bin/cli.php kafka consume ÈóÆÈ¢òËôΩÁÑ∂Â∑≤ÁªèÊê≠Âª∫‰∫ÜkafkaÊ∂àÊÅØ‰∏≠Èó¥‰ª∂,ÂíåÁºñÂÜô‰∫ÜÁîü‰∫ßËÄÖÂíåÊ∂àË¥πËÄÖ.‰ΩÜÊòØÂÖ≥‰∫éÂÖ∂‰∏≠ÁöÑËÆ∏Â§öÁªÜËäÇËøòË¶ÅÊêûÊ∏ÖÈô§„ÄÇÂåÖÊã¨: ‰ªÄ‰πàÊòØbroken ‰ªÄ‰πàÊòØpartition Ê∂àÊÅØflushÊòØÂÅö‰ªÄ‰πà pollÂèàÊòØÂÅö‰ªÄ‰πà Á≠âÁ≠âÊõ¥Â§öÁªÜËäÇ broken","categories":[],"tags":[{"name":"kafka","slug":"kafka","permalink":"http://visonforcoding.xyz/tags/kafka/"}]},{"title":"‰∏Ä‰∏™Á∫ø‰∏äÈóÆÈ¢òÂºïÂèëÁöÑÂØπPHPÁîüÂëΩÂë®ÊúüÂíåSESSIONÊú∫Âà∂ÊÄùËÄÉ","slug":"php/‰∏Ä‰∏™Á∫ø‰∏äÈóÆÈ¢òÂºïÂèëÁöÑÂØπPHPÁîüÂëΩÂë®ÊúüÂíåSESSIONÊú∫Âà∂ÊÄùËÄÉ","date":"2020-07-01T01:59:26.000Z","updated":"2021-10-30T02:59:33.280Z","comments":true,"path":"2020/07/01/php/‰∏Ä‰∏™Á∫ø‰∏äÈóÆÈ¢òÂºïÂèëÁöÑÂØπPHPÁîüÂëΩÂë®ÊúüÂíåSESSIONÊú∫Âà∂ÊÄùËÄÉ/","link":"","permalink":"http://visonforcoding.xyz/2020/07/01/php/%E4%B8%80%E4%B8%AA%E7%BA%BF%E4%B8%8A%E9%97%AE%E9%A2%98%E5%BC%95%E5%8F%91%E7%9A%84%E5%AF%B9PHP%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%92%8CSESSION%E6%9C%BA%E5%88%B6%E6%80%9D%E8%80%83/","excerpt":"","text":"","categories":[],"tags":[]},{"title":"PHPÁîüÊÄÅ‰πãËá™Âä®ÂåñÊµãËØï","slug":"php/PHPÁîüÊÄÅ‰πãËá™Âä®ÂåñÊµãËØï","date":"2020-07-01T01:58:44.000Z","updated":"2021-10-30T02:59:33.279Z","comments":true,"path":"2020/07/01/php/PHPÁîüÊÄÅ‰πãËá™Âä®ÂåñÊµãËØï/","link":"","permalink":"http://visonforcoding.xyz/2020/07/01/php/PHP%E7%94%9F%E6%80%81%E4%B9%8B%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/","excerpt":"PHP TESTING FOR EVERYONE","text":"PHP TESTING FOR EVERYONE Âú®Èïø‰πÖÁöÑÂ∑•‰ΩúÁªèÂéÜ‰∏≠ÔºåÊµãËØïÂ§ß‰Ω¨Â∏∏‰ºöÂú®‰Ω†ËÄ≥ÊóÅÂòÄÂíïÂºÄÂèëË¶ÅËá™ÊµãË¶ÅËá™Êµã„ÄÇ‰ΩÜÊòØÂÆûÈôÖ‰∏äÂºÄÂèëÂæÄÂæÄÂè™‰ºöÂÖ≥ÂøÉÂΩìÂâçË¥üË¥£ÁöÑÂçïÂÖÉÂäüËÉΩÁöÑÊ≠£Á°Æ‰∏éÂê¶„ÄÇÁπÅÊùÇÁöÑÂºÄÂèë‰ªªÂä°ÂΩì‰∏≠ÔºåËøòË¶ÅÂÖºÈ°æÊâÄÊúâÊµÅÁ®ãÁöÑÂäüËÉΩËøêËΩ¨ÂèØËÉΩÂ∞±Ê≤°ÈÇ£‰∏™Á≤æÂäõ‰∫ÜÔºåÊàñËÄÖËØ¥ËøôÊú¨Ë∫´Â∞±ÊòØÊµãËØïÁöÑÂ∑•‰Ωú„ÄÇÂú®ËøúÂè§Êó∂‰ª£‰∫íËÅîÁΩëÈ¢ÜÂüüÂ∑•‰ΩúËøòÊ≤°ÁªÜÂàÜÂà∞ÂâçÁ´Ø„ÄÅÂêéÁ´Ø„ÄÅÊµãËØï„ÄÅUIÁöÑÊó∂ÂÄôÔºåÊâÄÊúâ‰∏ÄÊèΩÂ≠êÊ¥ªÈÉΩÂè™Êúâ‰∏Ä‰∏™‰∫∫ÂÅöÔºåÈÇ£Â∞±ÊòØÁ®ãÂ∫èÂëò„ÄÇ ‰ΩÜÊòØÂ¶Ç‰ΩïÂ∞ΩÈáè‰øùËØÅÁ®ãÂ∫èËøîÂõûÁªìÊûúÊòØÈ¢ÑÊúüÁöÑÔºü ËÉΩÂê¶ÂÅöÂà∞ÊØèÊ¨°ÂèëÂ∏É‰πãÂâçËá™Âä®ÂØπÁ®ãÂ∫èÊµãËØïÁúãÊòØÂê¶ËææÂà∞È¢ÑÊúüÔºüËøô‰∏™Êó∂ÂÄôÊàë‰ª¨ÂèØ‰ª•ÂºïÂÖ•Ëá™Âä®ÂåñÊµãËØï„ÄÇ Ëá™Âä®ÂåñÊµãËØïËåÉÂõ¥ UIÊµãËØï Êé•Âè£ÊµãËØï ÂçïÂÖÉÊµãËØï Êï∞ÊçÆÊµãËØï ÂÖ∂‰∏≠UIÊµãËØïÂíåÊï∞ÊçÆÊµãËØïÁöÑËá™Âä®ÂåñÂèØËÉΩÊòØÊúÄ‰∏çÂÆπÊòìÂÅö‰∏îÊïàÁõäÊúÄÂ∞èÁöÑ„ÄÇËøôÈÉ®ÂàÜÂèØËÉΩÊúÄÂ•ΩÊòØ‰∫∫‰∏∫ÁöÑËøõË°åÊµãËØïÊïàÊûúÊúÄÂ•Ω„ÄÇ Âú®‰ΩìÈ™å‰∫Üjava ÁöÑjunit‰πãÂêéÁâπÂà´ËßâÂæójunitÁöÑÂº∫Â§ß,ÂÖ∂ÂÆûPHP‰πüÂèØ‰ª•ÂÅö„ÄÇÊé•‰∏ãÊù•Êàë‰ª¨Êù•‰∫ÜËß£‰∏ãPHPÁöÑÊµãËØïÊ°ÜÊû∂codeception ÂÆâË£Ö‰ΩøÁî®installcomposer require &quot;codeception&#x2F;codeception&quot; --dev setupphp vendor&#x2F;bin&#x2F;codecept bootstrap ËØ•ÂëΩ‰ª§‰ºöÂàùÂßãÂåñÈÖçÁΩÆÊñá‰ª∂ÂíåÁõÆÂΩï ËΩªÈáèÂÆâË£ÖUse predefined installation templates for common use cases. Run them instead of bootstrap command. bootstrap‰ºöÈªòËÆ§ÂàùÂßãÂåñÊâÄÊúâÊµãËØïÁ±ªÂûãÊâÄÈúÄË¶ÅÁöÑÁªÑ‰ª∂ÔºåÊúâ‰∫õ‰Ω†‰∏ç‰ºöÁî®Âà∞ÁöÑÁ±ªÂ∫ì‰πü‰ºöÂÆâË£Ö„ÄÇÊé®Ëçê‰ΩøÁî®ËΩªÈáèÂÆâË£ÖÊâÄÁî®ËÉΩÂà∞ÁöÑÊµãËØïÁ±ªÂûã„ÄÇ ‰æãÂ¶Ç‰Ω†Âè™ÈúÄË¶ÅÂçïÂÖÉÊµãËØïÔºåÂàôÂèØ‰ª• php vendor&#x2F;bin&#x2F;codecept init unit suiteÈÖçÁΩÆ ÂàùÂßãÂåñ‰πãÂêéËøòË¶ÅÂØπÊµãËØïÁ±ªÂûãËøõË°åÁõ∏Â∫îÁöÑÈÖçÁΩÆ,Âú®testsÁõÆÂΩï‰∏ãÊñ∞Âª∫unitÁöÑÈÖçÁΩÆ # unit.suite.yml # Codeception Test Suite Configuration # # Suite for unit or integration tests. actor: UnitTester modules: enabled: - Asserts - \\Helper\\Unit step_decorators: ~ codeceptionÂçïÂÖÉÊµãËØï codeceptionÁöÑÂçïÂÖÉÊµãËØïÂÖ∂ÂÆû‰πüÊòØÂü∫‰∫éphpunit‰πã‰∏äÊûÑÂª∫ÁöÑ„ÄÇphpunitÁöÑÂçïÂÖÉÊµãËØïÁî®‰æãÂèØ‰ª•‰πãÂâçÂú®codeception‰∏äÊâßË°å„ÄÇ ÂàõÂª∫ÂçïÂÖÉÊµãËØïphp vendor&#x2F;bin&#x2F;codecept generate:test unit Example ÊâßË°åÂÆå‰ºöÂú®tests/unitÁõÆÂΩïÈáåÂàõÂª∫ÊµãËØïÁî®‰æãÊñá‰ª∂ class ExampleTest extends \\Codeception\\Test\\Unit &#123; /** * @var \\UnitTester */ protected $tester; protected function _before() &#123; &#125; protected function _after() &#123; &#125; // tests public function testMe() &#123; &#125; &#125; all public methods with test prefix are tests _before method is executed before each test (like setUp in PHPUnit) _after method is executed after each test (like tearDown in PHPUnit) ËøêË°åÁî®‰æãphp vendor&#x2F;bin&#x2F;codecept run unit ExampleTest Â¶ÇÊûúÊúâÁõÆÂΩïÂèØ‰ª•ÊâßË°åÂà∞Êñá‰ª∂ php bin&#x2F;codecept run unit tests&#x2F;unit&#x2F;src&#x2F;Service&#x2F;InvoiceServiceTest.php ËøêË°åÊâÄÊúâÂçïÂÖÉÊµãËØïÁî®‰æã php vendor&#x2F;bin&#x2F;codecept run unit class UserTest extends \\Codeception\\Test\\Unit &#123; public function testValidation() &#123; $user = new User(); $user->setName(null); $this->assertFalse($user->validate(['username'])); $user->setName('toolooooongnaaaaaaameeee'); $this->assertFalse($user->validate(['username'])); $user->setName('davert'); $this->assertTrue($user->validate(['username'])); &#125; &#125; ÁªìÊûú ÂèØ‰ª•ÁªüËÆ°Âà∞ÊâÄÊúâÊñá‰ª∂ÁöÑË¶ÜÁõñÁéáÂíåÁî®‰æãÊµãËØïÁªìÊûú„ÄÇ ÁªìÂêàgitÈí©Â≠êÊàë‰ª¨ÂèØ‰ª•Âú®ÊØèÊ¨°ÂàÜÊîØÊèê‰∫§Êó∂ËøõË°åËá™Âä®ÁöÑÁî®‰æãÊµãËØïÔºåËÉΩ‰∏ÄÂÆöÁ®ãÂ∫¶‰∏äÈò≤Ê≠¢‰ª£Á†ÅÊõ¥Êîπ‰∫ÜËÄåÊ≤°ÊµãËØï‰∫ßÁîüÈùûÈ¢ÑÊúüÁöÑÈóÆÈ¢ò„ÄÇ","categories":[],"tags":[{"name":"php","slug":"php","permalink":"http://visonforcoding.xyz/tags/php/"}]},{"title":"intlÂÆâË£ÖÁöÑÈÇ£‰∫õ‰∫ãÂÑø","slug":"php/intlÂÆâË£ÖÁöÑÈÇ£‰∫õ‰∫ãÂÑø","date":"2020-06-19T02:41:25.000Z","updated":"2021-10-30T02:59:33.279Z","comments":true,"path":"2020/06/19/php/intlÂÆâË£ÖÁöÑÈÇ£‰∫õ‰∫ãÂÑø/","link":"","permalink":"http://visonforcoding.xyz/2020/06/19/php/intl%E5%AE%89%E8%A3%85%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%84%BF/","excerpt":"Ë¢´intlÊäòÁ£®ÁöÑËøò‰∏çÂ§ü‰πà","text":"Ë¢´intlÊäòÁ£®ÁöÑËøò‰∏çÂ§ü‰πà To build the extension you need to install the ¬ª ICU library, version 4.0.0 or newer is required. As of PHP 7.4.0 ICU 50.1 or newer is required. This extension is bundled with PHP as of PHP version 5.3.0. Alternatively, the PECL version of this extension may be used with all PHP versions greater than 5.2.0 (5.2.4+ recommended). ICUÂÆâË£ÖÁé∞Âú®icuÂ∑≤Ë¢´ÊîæÂà∞githubÔºå‰∏ãËΩΩÂª∫ËÆÆÁõ¥Êé•‰ªégithub‰∏ãËΩΩÊ∫êÁ†ÅÂà∞Êú¨Âú∞„ÄÇ https://github.com/unicode-org/icu/releases/tag/release-60-3 ‰∏ãËΩΩÂêéÁºñËØëÂÆâË£Ö ÊãìÂ±ïÂÆâË£Öpecl install intl ÊÄª‰ºöÈÅáÂà∞ÈóÆÈ¢ò,Âª∫ËÆÆÁî®phpize Ê∫êÁ†ÅÂÆâË£Ö„ÄÇËøõÂÖ•Ê∫êÁ†Åext‰∏ãÁöÑintlÁõÆÂΩï .&#x2F;configure --enable-intl --with-php-config&#x3D;&#x2F;usr&#x2F;local&#x2F;php7&#x2F;bin&#x2F;php-config make make install ÈáçÂêØphp-fpm","categories":[],"tags":[{"name":"php","slug":"php","permalink":"http://visonforcoding.xyz/tags/php/"}]},{"title":"MyBatis Dynamic SQL‰ΩøÁî®Â∞ùËØï","slug":"java/MyBatis-Dynamic-SQL‰ΩøÁî®Â∞ùËØï","date":"2020-06-01T15:05:29.000Z","updated":"2021-10-30T02:59:33.276Z","comments":true,"path":"2020/06/01/java/MyBatis-Dynamic-SQL‰ΩøÁî®Â∞ùËØï/","link":"","permalink":"http://visonforcoding.xyz/2020/06/01/java/MyBatis-Dynamic-SQL%E4%BD%BF%E7%94%A8%E5%B0%9D%E8%AF%95/","excerpt":"È¶ñÂÖàËØ¥Êòé‰∏ãÔºåÊàëÂèØËÉΩÊòØË¢´Ëøô‰∏™Êèí‰ª∂ÁöÑÂêçÂ≠óÁªôËØØÂØº‰∫Ü„ÄÇÊàëÂéüÊú¨‰ª•‰∏∫Dynamic SQLÊòØ‰∏∫‰∫ÜËß£ÂÜ≥Âä®ÊÄÅÊü•ËØ¢Âú∫ÊôØÁöÑ„ÄÇ‰ΩÜÂèØËÉΩMyBatis Dynamic SQL Âπ∂‰∏çÊòØÊù•Ëß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÁöÑ„ÄÇ 20.06.04Êõ¥Êñ∞ ÊâìËÑ∏‰∫ÜÔºåÂéüÊù•ÂÆÉÊòØÊîØÊåÅÁöÑÔºåÊûúÁÑ∂ÊòØÂä®ÊÄÅsql.Âπ∂‰∏îËøòÁúüÈ¶ôÔºÅ","text":"È¶ñÂÖàËØ¥Êòé‰∏ãÔºåÊàëÂèØËÉΩÊòØË¢´Ëøô‰∏™Êèí‰ª∂ÁöÑÂêçÂ≠óÁªôËØØÂØº‰∫Ü„ÄÇÊàëÂéüÊú¨‰ª•‰∏∫Dynamic SQLÊòØ‰∏∫‰∫ÜËß£ÂÜ≥Âä®ÊÄÅÊü•ËØ¢Âú∫ÊôØÁöÑ„ÄÇ‰ΩÜÂèØËÉΩMyBatis Dynamic SQL Âπ∂‰∏çÊòØÊù•Ëß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÁöÑ„ÄÇ 20.06.04Êõ¥Êñ∞ ÊâìËÑ∏‰∫ÜÔºåÂéüÊù•ÂÆÉÊòØÊîØÊåÅÁöÑÔºåÊûúÁÑ∂ÊòØÂä®ÊÄÅsql.Âπ∂‰∏îËøòÁúüÈ¶ôÔºÅ MyBatis Dynamic SQLÂÆòÊñπÂÆö‰πâThis library is a framework for generating dynamic SQL statements. Think of it as a typesafe SQL templating library, with additional support for MyBatis3 and Spring JDBC Templates. The primary goals of the library are: Typesafe - to the extent possible, the library will ensure that parameter types match the database column types Expressive - statements are built in a way that clearly communicates their meaning (thanks to Hamcrest for some inspiration) Flexible - where clauses can be built using any combination of and, or, and nested conditions Extensible - the library will render statements for MyBatis3, Spring JDBC templates or plain JDBC. It can be extended to generate clauses for other frameworks as well. Custom where conditions can be added easily if none of the built in conditions are sufficient for your needs. Small - the library is a small dependency to add. It has no transitive dependencies. ÂÆòÊñπ‰ºº‰πéËØ¥Âà∞Ëøô‰∏™Á±ªÂ∫ìÁöÑ‰∏ªË¶ÅÁõÆÊ†áÊòØËß£ÂÜ≥Á±ªÂûãÂÆâÂÖ®ÈóÆÈ¢ò„ÄÇ This library grew out of a desire to create a utility that could be used to improve the code generated by MyBatis Generator, but the library can be used on it‚Äôs own with very little setup required. ÂÆòÊñπËØ¥ÂèØ‰ª•‰ΩøÁî®MyBatis GeneratorÁîüÊàê‰ª£Á†ÅÊñá‰ª∂„ÄÇ &lt;dependency> &lt;groupId>org.mybatis.dynamic-sql&lt;/groupId> &lt;artifactId>mybatis-dynamic-sql&lt;/artifactId> &lt;version>1.1.4&lt;/version> &lt;/dependency> &lt;dependency> &lt;groupId>mysql&lt;/groupId> &lt;artifactId>mysql-connector-java&lt;/artifactId> &lt;/dependency> MyBatis GeneratorMyBatis Generator may generate: Java or Kotlin classes that match the table structure. This may include: a class to match the primary key of the table (if there is a primary key) a class to match the non-primary key fields of the table (except BLOB fields) a class to include the BLOB fields of a table (if the table has BLOB fields) a class to enable dynamic selects, updates, and deletes MyBatis GeneratorÂ∞Ü‰ºöÁîüÊàê‰∏ãËø∞‰∏â‰∏™Êñá‰ª∂Ôºö ‰∏éË°®ÂØπÂ∫îÁöÑ model Á±ª Employee.java ÂÆö‰πâ‰∫ÜË°®‰ø°ÊÅØÂíåÂàó‰ø°ÊÅØÁöÑ support Á±ª EmployeeDynamicSqlSupport.java ‰ª•Ê≥®Ëß£ÂΩ¢ÂºèÂÆûÁé∞ÁöÑ mapper Êé•Âè£ EmployeeMapper.java Running MyBatis Generator With Maven ÈÖçÁΩÆpom.xml &lt;plugin> &lt;groupId>org.mybatis.generator&lt;/groupId> &lt;artifactId>mybatis-generator-maven-plugin&lt;/artifactId> &lt;version>1.4.0&lt;/version> &lt;executions> &lt;execution> &lt;id>Generate MyBatis Artifacts&lt;/id> &lt;goals> &lt;goal>generate&lt;/goal> &lt;/goals> &lt;/execution> &lt;/executions> &lt;dependencies> &lt;dependency> &lt;groupId>mysql&lt;/groupId> &lt;artifactId>mysql-connector-java&lt;/artifactId> &lt;version>8.0.20&lt;/version> &lt;/dependency> &lt;/dependencies> &lt;/plugin> Ê≥®ÊÑèmysql-connector-java‰æùËµñÈÖçÁΩÆ ÈÖçÁΩÆ generatorConfig.xml Âú®resource‰∏≠ÈÖçÁΩÆÁîüÊàêÈÖçÁΩÆÊñá‰ª∂generatorConfig.xml &lt;!DOCTYPE generatorConfiguration PUBLIC \"-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN\" \"http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd\"> &lt;generatorConfiguration> &lt;context id=\"dsql\" targetRuntime=\"MyBatis3DynamicSql\"> &lt;jdbcConnection driverClass=\"com.mysql.jdbc.Driver\" connectionURL=\"jdbc:mysql://localhost:3306/db_itdoc\" userId=\"username\" password=\"password\" /> &lt;javaModelGenerator targetPackage=\"com.vison.itdoc.entity\" targetProject=\"src/main/java\"/> &lt;javaClientGenerator targetPackage=\"com.vison.itdoc.dao\" targetProject=\"src/main/java\"/> &lt;table tableName=\"task\" /> &lt;/context> &lt;/generatorConfiguration> userIdÂíåpasswordÂàÜÂà´ÊòØÊï∞ÊçÆÂ∫ìÁî®Êà∑ÂêçÂíåÂØÜÁ†Å ÊâßË°åÁîüÊàê $ mvn mybatis-generator:generate ‰ΩøÁî®MyBatis Dynamic SQLÂΩìÁõ∏Â∫îÁöÑÊñá‰ª∂ÁîüÊàê‰πãÂêéÔºåËøô‰∏™Êó∂ÂÄôÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®‰∫Ü„ÄÇ SelectStatementProvider queryCount = select(count()) .from(task) .build() .render(RenderingStrategies.MYBATIS3); Long taskCount = taskMapper.count(queryCount); double total = Math.ceil(taskCount / iPageSize); SelectStatementProvider tasksQuerypProvider = select(createTime).from(task) .orderBy(createTime) .limit(iPageSize).offset(iOffset).build() .render(RenderingStrategy.MYBATIS3); List&lt;Task> tasks = taskMapper.selectMany(tasksQuerypProvider); MyBatis Dynamic SQLÈùûÂ∏∏‰ºòÈõÖÂæósqlbuilderÊñπÂºè,‰ºöÊèêÁ§∫Ë°®Â≠óÊÆµÂêç„ÄÇ Âä®ÊÄÅsqlÂú®Ëøô‰πãÂâçmybatisÂèØ‰ª•‰ΩøÁî®xmlÊàñÊ≥®Ëß£ÊñπÂºèËøõË°åÂä®ÊÄÅÁªÑÁªásql public class TaskService &#123; public String queryCount(String type, String remark) &#123; return new SQL() &#123; &#123; SELECT(\"T.ID\"); FROM(\"TASK T\"); if (type != null) &#123; WHERE(\"T.type = #&#123;type&#125;\"); &#125; if (remark != null) &#123; WHERE(\"T.remark = #&#123;remark&#125;\"); &#125; ORDER_BY(\"T.create_time\"); &#125; &#125;.toString(); &#125; Âú®mapper‰∏ä @SelectProvider(type = TaskService.class, method = \"queryCount\") public Object queryCount(String type, String remark); Áé∞Âú®ÂèØ‰ª•Êç¢Âè¶‰∏ÄÁßçÊñπÂºè public SelectStatementProvider countTask(Integer typeInteger, String remarkString) &#123; QueryExpressionDSL&lt;SelectModel>.QueryExpressionWhereBuilder builder = select(count()) .from(task).where(); if (typeInteger != null) &#123; builder.and(type, isEqualTo(typeInteger)); &#125; if (remarkString != null) &#123; builder.and(remark, isEqualTo(remarkString)); &#125; return builder.build().render(RenderingStrategy.MYBATIS3); &#125; public SelectStatementProvider search(Object searchObj, Integer iPageSize, Integer iOffset) &#123; QueryExpressionDSL&lt;SelectModel>.QueryExpressionWhereBuilder builder = select(remark, type, createTime, modifyTime) .from(task).where(); builder .orderBy(createTime) .limit(iPageSize).offset(iOffset); return builder.build().render(RenderingStrategy.MYBATIS3); &#125; ‰ªéÁºñÁ†ÅÊÑüÂèó‰∏äÔºåÁî±‰∫éÊ†πÊçÆË°®ÁªìÊûÑÁîüÊàê‰∫ÜSqlSupport.‰ªª‰ΩïÂØπË°®ÁöÑ‰ø°ÊÅØÂºïÁî®ÈÉΩËÉΩÊúâÊèêÁ§∫ÔºåÂåÖÊã¨Ë°®Âêç„ÄÅÂ≠óÊÆµÂêç„ÄÇ List&lt;Task> tasks = taskMapper.selectMany(taskService.search(null, iPageSize, iOffset)); Ë∞ÉÁî®‰∏äÈù¢Ôºå‰πüÊó†ÈúÄÂú®mapper‰∏äÂÜçÁºñÂÜôÊñπÊ≥ïÔºåÂõ†‰∏∫Â∑≤ÁªèÂÖ®ÈÉ®ÁîüÊàê‰∫Ü„ÄÇ ÂèÇËÄÉMybatis Dynamic SQL - ÈáçÊñ∞ÂÆö‰πâ Mybatis Âä®ÊÄÅ SQL","categories":[],"tags":[{"name":"java","slug":"java","permalink":"http://visonforcoding.xyz/tags/java/"}]},{"title":"Âà©Áî®‰ø°Âè∑ÊéßÂà∂phpÂ∏∏È©ªËøõÁ®ãÂπ≥Êªë‰∏≠Êñ≠ÊÄùËÄÉ","slug":"php/phpÂ∏∏È©ªËøõÁ®ãÂπ≥Êªë‰∏≠Êñ≠","date":"2020-05-30T02:30:49.000Z","updated":"2021-10-30T02:59:33.280Z","comments":true,"path":"2020/05/30/php/phpÂ∏∏È©ªËøõÁ®ãÂπ≥Êªë‰∏≠Êñ≠/","link":"","permalink":"http://visonforcoding.xyz/2020/05/30/php/php%E5%B8%B8%E9%A9%BB%E8%BF%9B%E7%A8%8B%E5%B9%B3%E6%BB%91%E4%B8%AD%E6%96%AD/","excerpt":"ÂæàÂ§öÂú∫ÊôØ‰∏ãÊàë‰ª¨ÈÉΩÈúÄË¶ÅËøõÁ®ãÁ®ãÂ∫èÂú®ÂêéÂè∞‰∏ÄÁõ¥Â§ÑÁêÜ‰ªªÂä°ÔºåÊØîÂ¶ÇÈòüÂàóÊ∂àË¥π„ÄÇÂèØÈááÁî®while trueÁöÑÊñπÂºèËÆ©ËøõÁ®ãÂ∏∏È©ªÊåâ‰∏ÄÂÆöÁöÑÈ¢ëÊ¨°ÊâßË°å‰ªªÂä°„ÄÇ‰ΩÜÊòØ‰ΩÜÊàë‰ª¨Ë¶ÅÈáçÂêØËøõÁ®ãÊàñ‰∏≠Ê≠¢ËøõÁ®ãÊó∂ÔºåÂ¶Ç‰Ωï‰øùËØÅËøõÁ®ãÂÜÖÊ≠£Âú®ÊâßË°åÁöÑ‰ªªÂä°ÊâßË°åÂÆåÊØïÂÜç‰∏≠Ê≠¢Âë¢Ôºü","text":"ÂæàÂ§öÂú∫ÊôØ‰∏ãÊàë‰ª¨ÈÉΩÈúÄË¶ÅËøõÁ®ãÁ®ãÂ∫èÂú®ÂêéÂè∞‰∏ÄÁõ¥Â§ÑÁêÜ‰ªªÂä°ÔºåÊØîÂ¶ÇÈòüÂàóÊ∂àË¥π„ÄÇÂèØÈááÁî®while trueÁöÑÊñπÂºèËÆ©ËøõÁ®ãÂ∏∏È©ªÊåâ‰∏ÄÂÆöÁöÑÈ¢ëÊ¨°ÊâßË°å‰ªªÂä°„ÄÇ‰ΩÜÊòØ‰ΩÜÊàë‰ª¨Ë¶ÅÈáçÂêØËøõÁ®ãÊàñ‰∏≠Ê≠¢ËøõÁ®ãÊó∂ÔºåÂ¶Ç‰Ωï‰øùËØÅËøõÁ®ãÂÜÖÊ≠£Âú®ÊâßË°åÁöÑ‰ªªÂä°ÊâßË°åÂÆåÊØïÂÜç‰∏≠Ê≠¢Âë¢Ôºü ÊÄùËÄÉ‰∏Ä‰∏ãÔºåÂèØ‰∏çÂèØ‰ª•Êàë‰ª¨ÈÄöËøá‰∏ÄÁßçÊåá‰ª§ÂëäËØâËøõÁ®ãÔºå‚ÄùËØ∂ÔºåÊàëÁé∞Âú®Ë¶ÅÈáçÂêØ‰∏Ä‰∏ãÔºå‰Ω†ËÉΩÊääÊ≠£Âú®ÂÅöÁöÑ‰∫ãÊÉÖÂÅöÂÆå‰∫ÜÂÖàÈÄÄÂá∫Ê≠á‰ºö‰πàÔºü‚Äù killÂëΩ‰ª§ÂèØ‰ª•Ëß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢ò„ÄÇ ÂÜçÁúãkillËÆ∏‰∫∫ËÇØÂÆö‰ºöËßâÂæó kill ‰∏çÂ∞±ÊòØÊùÄÊéâËøõÁ®ã‰πàÔºü ÊàëÁªèÂ∏∏Áî®kill -9ÊùÄËøõÁ®ã„ÄÇ Ëøô‰πàËØ¥‰πüÊ≤°ÈîôÔºå‰∏çËøáÊàë‰ª¨Áé∞Âú®ÂèØ‰ª•Á≥ªÁªüÂú∞Êù•ÁúãÁúãkillÂëΩ‰ª§. Êàë‰ª¨ÂÖàÁúã‰∏ãÂÆòÊñπÁöÑÂÆö‰πâ,ËÆ©ÈÇ£‰∏™Áî∑‰∫∫Êù•Ë∑üÊàë‰ª¨ËÆ≤ËÆ≤„ÄÇ man shell KILL(1) User Commands KILL(1) NAME kill - terminate a process SYNOPSIS kill [-s signal|-p] [-q sigval] [-a] [--] pid... kill -l [signal] DESCRIPTION The command kill sends the specified signal to the specified process or process group. If no signal is specified, the TERM signal is sent. The TERM signal will kill processes which do not catch this signal. For other processes, it may be necessary to use the KILL (9) signal, since this signal cannot be caught. Most modern shells have a builtin kill function, with a usage rather similar to that of the command described here. The &#39;-a&#39; and &#39;-p&#39; options, and the possibility to specify processes by command name are a local extension. If sig is 0, then no signal is sent, but error checking is still performed. ÂÆòÊñπËß£ÈáäkillÊòØÁî®Êù•ÁªàÊ≠¢ËøõÁ®ãÁöÑ„ÄÇ kill ÂèëÈÄÅÊåáÂÆöÁöÑ‰ø°Âè∑ÁªôÂà∞ËøõÁ®ãÊàñËøõÁ®ãÁªÑ„ÄÇ Â¶ÇÊûúÊ≤°ÊúâÊåáÂÆö‰ø°Âè∑ÔºåÈªòËÆ§ÂèëÈÄÅTERM‰ø°Âè∑„ÄÇ TERM‰ø°Âè∑Â∞Ü‰ºöÊùÄÊéâËøõÁ®ãÔºåÂΩìTERMÊú™Ë¢´ÊçïËé∑ÁöÑÊó∂ÂÄô„ÄÇ 9‰ø°Âè∑‰∏çËÉΩË¢´ÊçïËé∑ Ë∞àË∞àÊàëÁöÑÁêÜËß£ killÂëΩ‰ª§Â∞±ÊòØÁî®Êù•ÊùÄÊéâËøõÁ®ãÁöÑ ÂÆÉÂèØ‰ª•ÁªôËøõÁ®ãÂèëÈÄÅ‰∏Ä‰∫õÊåá‰ª§ÔºåËÆ©Á®ãÂ∫èÂéªÊçïËé∑ÂÅöÁâπÊÆäÂ§ÑÁêÜ„ÄÇÊØîÂ¶Ç‰∏äÈù¢ËØ¥Âà∞ÁöÑÂú∫ÊôØÔºåËÆ©Á®ãÂ∫èÊâßË°åÂÆåÊ≠£Âú®ÊâßË°åÁöÑ‰ªªÂä°ÔºåÂÜçÈÄÄÂá∫„ÄÇ È™åËØÅÊé•‰∏ãÊù•Êàë‰ª¨Áî®PHPËÑöÊú¨Êù•È™åËØÅ‰∏ã‰∏äÈù¢ÁöÑÁêÜËß£„ÄÇÊàë‰ª¨Áî®pcntl_signalÊù•ÂØπ‰ø°Âè∑ËøõË°åÊçïËé∑„ÄÇ class SignalShell extends Shell &#123; private $taskFinish = false; public function __construct() &#123; // pcntl_signal(SIGTERM, [$this, 'sig_handler']); // pcntl_signal(SIGHUP, [$this, 'sig_handler']); pcntl_signal(SIGINT, [$this, 'sig_handler']); // pcntl_signal(SIGQUIT, [$this, 'sig_handler']); pcntl_signal(SIGILL, [$this, 'sig_handler']); pcntl_signal(SIGPIPE, [$this, 'sig_handler']); pcntl_signal(SIGALRM, [$this, 'sig_handler']); pcntl_signal(SIGUSR1, [$this, 'sig_handler']); $this->info(\"Ê≥®ÂÜå‰ø°Âè∑\"); &#125; public function task() &#123; while (true &amp;&amp; !$this->taskFinish) &#123; sleep(10); $this->info(uniqid()); &#125; &#125; public function sig_handler($signo) &#123; $time = date('Y-m-d H:i:s'); if ($signo == 14) &#123; //ÂøΩÁï•alarm‰ø°Âè∑ echo $time . \" ignore alarm signo[&#123;$signo&#125;]\\r\\n\"; &#125; else &#123; echo $time . \" exit signo[&#123;$signo&#125;]\\r\\n\"; if ($signo == SIGUSR1) &#123; $this->info(\"ÊçïËé∑Ëá™ÂÆö‰πâ\"); $this->taskFinish = true; &#125; &#125; &#125; &#125; ‰ª£Á†ÅÂæàÁÆÄÂçïÔºåÂ∞±ÊòØËÆ©ËÑöÊú¨ÊØèÈöî10ÁßíËæìÂá∫‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤Ôºå‰ªªÂä°‰πãÂâçÂØπ‰∏Ä‰∫õ‰ø°Âè∑ËøõË°åÊçïËé∑„ÄÇ ÂàÜÂà´ÂØπËøõÁ®ãÊâßË°å‰∫ÜÔºåkill„ÄÅkill QUIT„ÄÅkill HUP ÂèëÁé∞ËøõÁ®ãÈÉΩ‰ºöË¢´Áõ¥Êé•ÁªàÊ≠¢„ÄÇ ‰∏ãÈù¢Êàë‰ª¨ÂºÄÂßã,ÂØπTERMËøõË°åÊçïËé∑„ÄÇ pcntl_signal(SIGTERM, [$this, 'sig_handler']); ÊâìÂºÄÊ≥®Èáä„ÄÇ 15‰ø°Âè∑(TERM)Ë¢´ÊçïËé∑Âà∞‰∫ÜÔºå‰ΩÜÊòØËøõÁ®ãÂπ∂Ê≤°ÊúâÈÄÄÂá∫,ËøòÂÜçÁªßÁª≠ÊâßË°å„ÄÇ Êàë‰ª¨ÂÜçËØï‰∏ãUSR1‰ø°Âè∑„ÄÇ USR1Ë¢´ÊçïËé∑Âà∞‰∫ÜÔºåÂπ∂‰∏îÁ®ãÂ∫èÁ´ãÂç≥ÊâßË°åÂÆå‰∏ÄÊ¨°ËæìÂá∫ÈÄÄÂá∫‰∫Ü„ÄÇÊ≥®ÊÑèÊàëÊòØÁ®ãÂ∫èËá™Â∑±ÊéßÂà∂‰∫Ü,ÊçïËé∑Âà∞USR1‰πãÂêé‰∏çÁªßÁª≠ÊâßË°åÂæ™ÁéØ„ÄÇ ÁªÜÂøÉÁöÑÊúãÂèã‰ª¨ÂèØËÉΩ‰ºöÂèëÁé∞ÔºåÁ®ãÂ∫è‰∏≠ÁöÑsleepË¢´Ë∑≥Ëøá‰∫Ü„ÄÇ ËøôÊòØ‰ªÄ‰πàÂéüÂõ†Âë¢? sleep‰∫ãÂÆû‰∏äsleepÊòØ‰∏Ä‰∏™ÁâπÊÆäÁöÑÂáΩÊï∞„ÄÇÂÖ∂ÂÆûÂÆòÊñπÊñáÊ°£ÊúâËß£Èáä: sleepÂú®Ë¢´‰ø°Âè∑‰∏≠Ê≠¢Êó∂Ôºå‰ºöËøîÂõûÈùû0ÂÄº,Èùûwindows‰∏ã‰ºöËøîÂõûÂâ©‰ΩôÁßíÊï∞„ÄÇ ËÆ©Êàë‰ª¨Êù•È™åËØÅ‰∏ã„ÄÇ while (true &amp;&amp; !$this->taskFinish) &#123; $res = sleep(10); $this->info(\"sleepËøîÂõû:\".$res); $this->info(uniqid()); &#125; Êàë‰ª¨ËÆ∞ÂΩï‰∫ÜsleepÊâßË°åÂÆåÁöÑËøîÂõûÂÄº„ÄÇ ÂèëÁé∞‰ø°Âè∑ÁªôÂà∞Êó∂ÔºåsleepÁ°ÆÂÆû‰ºöËøîÂõûÂâ©‰ΩôÁßíÊï∞„ÄÇËøôÂ∞±Ëß£Èáä‰∫Ü‰∏∫‰ªÄ‰πà‰∏äÈù¢ÁúãÂà∞ÁöÑsleepË¢´Ë∑≥Ëøá‰∫Ü„ÄÇ ÊÄªÁªì A process can define how to handle incoming POSIX signals. If a process does not define a behaviour for a signal, then the default handler for that signal is being used. The table below lists some default actions for POSIX-compliant UNIX systems, such as FreeBSD, OpenBSD and Linux. killËÉΩÁªôËøõÁ®ãÂèëÈÄÅ‰ø°Âè∑ÈáèÔºåÂëäËØâËøõÁ®ãÊåâ‰ªÄ‰πàÊñπÂºèÁªìÊùü„ÄÇ killÂÆö‰πâÁöÑ‰∏çÂêå‰ø°Âè∑ÈáèÔºåÁî®Ê≥ï‰∏çÂêåÔºå‰ΩÜÊòØÈúÄË¶ÅÁ®ãÂ∫èËá™Â∑±ÂéªÂ§ÑÁêÜ„ÄÇÂÆÉÂè™ÊòØÂÆö‰πâ‰∫ÜÁõÆÁöÑÔºå‰ΩÜÊú™ÂÆö‰πâËøáÁ®ãÂíåÂÆûÈôÖÁªìÊûú„ÄÇ ÂèÇËÄÉhttps://en.wikipedia.org/wiki/Signal_(IPC)","categories":[],"tags":[{"name":"php linux","slug":"php-linux","permalink":"http://visonforcoding.xyz/tags/php-linux/"}]},{"title":"spring bootÂàÜÁéØÂ¢ÉËá™ÂÆö‰πâÈÖçÁΩÆ","slug":"java/spring-bootÂàÜÁéØÂ¢ÉËá™ÂÆö‰πâÈÖçÁΩÆ","date":"2020-05-26T05:03:36.000Z","updated":"2021-10-30T02:59:33.277Z","comments":true,"path":"2020/05/26/java/spring-bootÂàÜÁéØÂ¢ÉËá™ÂÆö‰πâÈÖçÁΩÆ/","link":"","permalink":"http://visonforcoding.xyz/2020/05/26/java/spring-boot%E5%88%86%E7%8E%AF%E5%A2%83%E8%87%AA%E5%AE%9A%E4%B9%89%E9%85%8D%E7%BD%AE/","excerpt":"Âú®‰∏ÄËà¨ËßÑÊ®°‰ºÅ‰∏öÔºåÂ∫îÂΩìÈÉΩÊúâÊµãËØïÁéØÂ¢ÉÂíåÊ≠£ÂºèÁéØÂ¢ÉÂå∫Âà´ÔºåÊàñËÄÖËá≥Â∞ë‰πüÊúâÂºÄÂèëÁéØÂ¢ÉÂíåÊ≠£ÂºèÁéØÂ¢É„ÄÇÈÇ£‰∏çÂêåÁéØÂ¢ÉÂøÖÁÑ∂Â∞±‰ºöÊúâ‰∏Ä‰∫õÁéØÂ¢É‰æùËµñÁöÑ‰∏çÂêåÔºå‰∏çÁÆ°ÊòØÂá∫‰∫éÂÆâÂÖ®ÊÄßËÄÉËôëËøòÊòØÂÖ∂‰ªñÂéüÂõ†ÂØºËá¥ÁöÑ„ÄÇÊØîÂ¶ÇÊï∞ÊçÆÂ∫ìÈÖçÁΩÆ„ÄÅOSSË¥¶Âè∑‰ø°ÊÅØÁ≠â„ÄÇÈÇ£Á®ãÂ∫èÂΩì‰∏≠Â∞±ÈúÄË¶ÅÈÖçÁΩÆÂ§ö‰ªΩÈÖçÁΩÆ‰ø°ÊÅØÂíåÊ†πÊçÆ‰∏çÂêåÁéØÂ¢É‰ΩøÁî®‰∏çÂêåÈÖçÁΩÆ","text":"Âú®‰∏ÄËà¨ËßÑÊ®°‰ºÅ‰∏öÔºåÂ∫îÂΩìÈÉΩÊúâÊµãËØïÁéØÂ¢ÉÂíåÊ≠£ÂºèÁéØÂ¢ÉÂå∫Âà´ÔºåÊàñËÄÖËá≥Â∞ë‰πüÊúâÂºÄÂèëÁéØÂ¢ÉÂíåÊ≠£ÂºèÁéØÂ¢É„ÄÇÈÇ£‰∏çÂêåÁéØÂ¢ÉÂøÖÁÑ∂Â∞±‰ºöÊúâ‰∏Ä‰∫õÁéØÂ¢É‰æùËµñÁöÑ‰∏çÂêåÔºå‰∏çÁÆ°ÊòØÂá∫‰∫éÂÆâÂÖ®ÊÄßËÄÉËôëËøòÊòØÂÖ∂‰ªñÂéüÂõ†ÂØºËá¥ÁöÑ„ÄÇÊØîÂ¶ÇÊï∞ÊçÆÂ∫ìÈÖçÁΩÆ„ÄÅOSSË¥¶Âè∑‰ø°ÊÅØÁ≠â„ÄÇÈÇ£Á®ãÂ∫èÂΩì‰∏≠Â∞±ÈúÄË¶ÅÈÖçÁΩÆÂ§ö‰ªΩÈÖçÁΩÆ‰ø°ÊÅØÂíåÊ†πÊçÆ‰∏çÂêåÁéØÂ¢É‰ΩøÁî®‰∏çÂêåÈÖçÁΩÆ ÂàÜÁéØÂ¢ÉÈÖçÁΩÆ # ÊøÄÊ¥ªÊó•ÂøóÁéØÂ¢É spring.profiles.active&#x3D;prd ÂÖ¨ÂÖ±ÈÖçÁΩÆËøòÊòØÂÜôÂú®application„ÄÇÁõ∏Â∫îÈÖçÁΩÆÂÜôÂú®-{env} Êñá‰ª∂Èáå„ÄÇ Ëá™ÂÆö‰πâÈÖçÁΩÆËé∑Âèñ‰∏äÈù¢ÊòØspringÊ°ÜÊû∂ÊâÄÈúÄÁöÑÈªòËÆ§ÈÖçÁΩÆÊñπÊ≥ïÔºåÊàë‰ª¨ÈÄöÂ∏∏ËøòÈúÄË¶ÅÈùûÂ∏∏Â§öÁöÑËá™ÂÆö‰πâÈÖçÁΩÆ„ÄÇÊØîÂ¶ÇÂØÜÁ†ÅÁöÑÂä†ÁõêsaltÁ≠âÁ≠âÔºåËøôÊòØÈ°πÁõÆÁöÑËá™ÂÆö‰πâÈÖçÁΩÆ„ÄÇ ÈÇ£Â¶ÇÊûúÂØπËøô‰∫õËá™ÂÆö‰πâÂÜÖÂÆπËøõË°åÈÖçÁΩÆÂíåËé∑ÂèñÂë¢„ÄÇ ÈÖçÁΩÆÊàë‰ª¨‰æùÁÑ∂ÂèØ‰ª•Âú®application.propertiesËøõË°åÈÖçÁΩÆ„ÄÇ ‰æãÂ¶ÇÔºö app.security.salt=zM2Y&amp;*21.rkJr=11 app.oss.host=http://oss-cn-beijing.aliyuncs.com app.oss.bucket=bucketNanme app.oss.accessKey=accessKey app.oss.accessSecret=accessSecret Ëé∑ÂèñÈÖçÁΩÆ@Service public class OssService &#123; @Value(\"$&#123;app.oss.host&#125;\") private String host; @Value(\"$&#123;app.oss.accessKey&#125;\") private String accessKeyId; @Value(\"$&#123;app.oss.accessSecret&#125;\") private String accessKeySecret; @Value(\"$&#123;app.oss.bucket&#125;\") private String bucketName; &#125; ‰∏ÄÂÆöË¶ÅÊòØÂú®spring beanÈáåËøõË°åËé∑ÂèñÔºåÂê¶ÂàôÊó†Ê≥ïËé∑ÂèñÂà∞„ÄÇ ÂèÇËÄÉ https://docs.spring.io/spring-boot/docs/1.5.22.RELEASE/reference/html/boot-features-external-config.html","categories":[],"tags":[{"name":"java spring-boot","slug":"java-spring-boot","permalink":"http://visonforcoding.xyz/tags/java-spring-boot/"}]},{"title":"mysqlÂçï‰∏™Ë°®ÁöÑÊùÉÈôêÊéßÂà∂","slug":"mysql/mysqlÂçï‰∏™Ë°®ÁöÑÊùÉÈôêÊéßÂà∂","date":"2020-05-08T01:43:39.000Z","updated":"2021-12-20T05:49:10.603Z","comments":true,"path":"2020/05/08/mysql/mysqlÂçï‰∏™Ë°®ÁöÑÊùÉÈôêÊéßÂà∂/","link":"","permalink":"http://visonforcoding.xyz/2020/05/08/mysql/mysql%E5%8D%95%E4%B8%AA%E8%A1%A8%E7%9A%84%E6%9D%83%E9%99%90%E6%8E%A7%E5%88%B6/","excerpt":"Âú®Á≥ªÁªüÂºÄÂèëÂΩì‰∏≠ÊúâËøôÊ†∑ÁöÑÈúÄÊ±ÇÔºåAÁ≥ªÁªüÈúÄË¶ÅËØªÂÜôBÁ≥ªÁªüÁöÑÊï∞ÊçÆÂ∫ìÊï∞ÊçÆ,‰ΩÜÊòØÊüê‰∫õÁâπÊÆäÁöÑË°®Êï∞ÊçÆÂè™ÂÖÅËÆ∏ËØªÊìç‰Ωú„ÄÇËøôÊó∂ÂÄôÂ∞±ÈúÄË¶ÅÂÅöÂà∞Ë°®Á∫ßÁöÑÊùÉÈôêÊéßÂà∂„ÄÇ","text":"Âú®Á≥ªÁªüÂºÄÂèëÂΩì‰∏≠ÊúâËøôÊ†∑ÁöÑÈúÄÊ±ÇÔºåAÁ≥ªÁªüÈúÄË¶ÅËØªÂÜôBÁ≥ªÁªüÁöÑÊï∞ÊçÆÂ∫ìÊï∞ÊçÆ,‰ΩÜÊòØÊüê‰∫õÁâπÊÆäÁöÑË°®Êï∞ÊçÆÂè™ÂÖÅËÆ∏ËØªÊìç‰Ωú„ÄÇËøôÊó∂ÂÄôÂ∞±ÈúÄË¶ÅÂÅöÂà∞Ë°®Á∫ßÁöÑÊùÉÈôêÊéßÂà∂„ÄÇ revokeMysqlÊú¨Ë∫´ÊòØÊîØÊåÅÁî®revokeËøõË°åÊùÉÈôêÂõûÊî∂Êìç‰ΩúÁöÑ„ÄÇ https://dev.mysql.com/doc/refman/5.6/en/revoke.html REVOKE priv_type [(column_list)] [, priv_type [(column_list)]] ... ON [object_type] priv_level FROM user [, user] ... REVOKE ALL [PRIVILEGES], GRANT OPTION FROM user [, user] ... REVOKE PROXY ON user FROM user [, user] ... ‰ªéËØ≠Ê≥ïÂΩì‰∏≠ÂèØ‰ª•ÁúãÂà∞ËøòÂèØ‰ª•ÂÅöÂà∞ÂàóÁ∫ßÂà´ÁöÑÊéßÂà∂„ÄÇ ÈóÆÈ¢òmysql&gt; revoke insert,delete,update on db_oms.t_order from &#39;oms_order_ro&#39;@&#39;localhost&#39;; ERROR 1147 (42000): There is no such grant defined for user &#39;oms_order_ro&#39; on host &#39;localhost&#39; on table &#39;t_order&#39; ‰ΩÜÊòØ‰∫ãÂÆû‰∏äÔºåÊâßË°åÁöÑÊó∂ÂÄô‰ºöÈÅáÂà∞ÈóÆÈ¢ò„ÄÇ ‰ªÄ‰πàÂéüÂõ†Âë¢Ôºü mysql&gt; show grants for oms_order_ro@localhost -&gt; ; +----------------------------------------------------------------------------------+ | Grants for oms_order_ro@localhost | +----------------------------------------------------------------------------------+ | GRANT USAGE ON *.* TO &#39;oms_order_ro&#39;@&#39;localhost&#39; | | GRANT SELECT, INSERT, UPDATE, DELETE ON &#96;db_oms&#96;.* TO &#39;oms_order_ro&#39;@&#39;localhost&#39; | +----------------------------------------------------------------------------------+ ‰ªîÁªÜÁúã‰∏ãÔºåÊàë‰ª¨ÊòØ‰ΩøÁî®ÁöÑÈÄöÈÖçÁ¨¶ÂéªËøõË°åËµãÊùÉÈôê„ÄÇÁúãËµ∑Êù•ËøôÈáåmysqlËøòÊòØË°®Áé∞ÁöÑÊØîËæÉÊú¨„ÄÇËÆ§‰∏∫Ê≤°ÊúâËØ•ÊùÉÈôêËøõË°åÂõûÊî∂„ÄÇ ÈÇ£‰πàÊ≠£Á°ÆÁöÑÂÅöÊ≥ïÂ∫îËØ•ÊòØÊÄéÊ†∑ÁöÑÂë¢Ôºü Managing access in mysql can be quite dificult !! Once you gave him database.* you cannot revoke access for an object that is in that class. MySQL doesn‚Äôt expand the Hotels.* wildcard to the individual tables The permissions tables store the granted permissions. Therefore, since you didn‚Äôt actually grant anything on Hotels.AllHotels , there‚Äôs nothing for MySQL to revoke. In this case you need to do it granular form the start ! Remove all privileges on database, table, column levels, etccc. Grant privileges to EACH table, except ‚Äòyou choose‚Äô.Grant privilege to specified fields in table ‚Äòyou choose‚Äô. Êàë‰ª¨ÂøÖÈ°ªË¶ÅÈÄê‰∏™ÈÄê‰∏™Ë°®ËøõË°åËµãÊùÉÈôêÔºåÁÑ∂ÂêéËøõË°åÂõûÊî∂„ÄÇ ÂÆûÈôÖ‰∏äËøô‰πàÊìç‰ΩúËôΩÁÑ∂ËÉΩËß£ÂÜ≥ÈóÆÈ¢òÔºå‰ΩÜÊòØ‰ºöÂ∏¶Êù•Ë∑üÂ§öÈóÆÈ¢òÔºåÂ¶ÇÊûúË°®Â¢ûÂä†‰∫Ü„ÄÇ‰Ω†ÂøÖÈ°ªÂÜçÂØπËøô‰∏™Ë°®ËøõË°åËµãÊùÉÈôêÂíåÂõûÊî∂ÊùÉÈôê„ÄÇ","categories":[],"tags":[{"name":"mysql","slug":"mysql","permalink":"http://visonforcoding.xyz/tags/mysql/"}]},{"title":"SeleniumËá™Âä®ÂåñÊµãËØïÂú®È°µÈù¢webÊÄßËÉΩÊµãËØïÂ∫îÁî®ÁöÑÂ∞ùËØï","slug":"SeleniumËá™Âä®ÂåñÊµãËØïÂú®È°µÈù¢webÊÄßËÉΩÊµãËØïÂ∫îÊúâÁöÑÂ∞ùËØï","date":"2020-05-07T15:26:14.000Z","updated":"2021-10-30T02:59:33.275Z","comments":true,"path":"2020/05/07/SeleniumËá™Âä®ÂåñÊµãËØïÂú®È°µÈù¢webÊÄßËÉΩÊµãËØïÂ∫îÊúâÁöÑÂ∞ùËØï/","link":"","permalink":"http://visonforcoding.xyz/2020/05/07/Selenium%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E5%9C%A8%E9%A1%B5%E9%9D%A2web%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E5%BA%94%E6%9C%89%E7%9A%84%E5%B0%9D%E8%AF%95/","excerpt":"ÂØπ‰∫éwebÊµãËØïÔºåÊàë‰ª¨ÈÄöÂ∏∏Âú®ÂÅöÁöÑÊµãËØïÈÉΩÊòØ‰∫∫Â∑•ÁöÑÂäüËÉΩÊµãËØï„ÄÇÈÇ£‰πàÂ∞ëËßÅÁöÑËá™Âä®ÂåñÊµãËØïÂà∞Â∫ïÈÄÇÁî®Âì™‰∫õÂú∫ÊôØÂë¢Ôºü","text":"ÂØπ‰∫éwebÊµãËØïÔºåÊàë‰ª¨ÈÄöÂ∏∏Âú®ÂÅöÁöÑÊµãËØïÈÉΩÊòØ‰∫∫Â∑•ÁöÑÂäüËÉΩÊµãËØï„ÄÇÈÇ£‰πàÂ∞ëËßÅÁöÑËá™Âä®ÂåñÊµãËØïÂà∞Â∫ïÈÄÇÁî®Âì™‰∫õÂú∫ÊôØÂë¢Ôºü Áî®pythonËøõË°åwebËá™Âä®ÂåñÊµãËØï ÂâçÊÆµÊó∂Èó¥ÔºåÂú®ÂÆ¢Êúç‰ø°ÊÅØÁ≥ªÁªüËøõÂÖ•Áî®Êà∑‰ΩìÈ™åÈò∂ÊÆµÊó∂ÂèëÁé∞ÂÜÖÂ≠òÂ≠òÂú®Ê≥ÑÈú≤ÈóÆÈ¢ò„ÄÇÊàë‰ª¨Ëä±‰∫ÜÂæàÂ§öÊó∂Èó¥ÂéªÊéíÊü•ÂéüÂõ†„ÄÇÁªèËøáÂêÑÁßçÂèØËÉΩÁöÑ‰ºòÂåñÊñπÊ°àÔºåÁªìÊûúÂèëÁé∞Ê≤°ÊúâÂÆûË¥®ÊÄßÁöÑÊïàÊûúÔºå‰∫éÊòØÊàë‰ª¨ÂÜ≥ÂÆöÈáçÊûÑ„ÄÇ‰ΩÜÊòØÂ¶Ç‰Ωï‰øùËØÅÈáçÊûÑÊñπÊ°àÁöÑÂèØË°åÂë¢Ôºü‰∫éÊòØÊàë‰ª¨Áî®Âà∞‰∫Üpython+Selenium ‰∏∫‰ªÄ‰πà‰ºöÁî®Âà∞webËá™Âä®ÂåñÊµãËØïwebËá™Âä®ÂåñÊµãËØïÈÄÇÁî®Âú∫ÊôØÂØπ‰∫éwebÊµãËØïÔºåÊàë‰ª¨ÈÄöÂ∏∏Âú®ÂÅöÁöÑÊµãËØïÈÉΩÊòØ‰∫∫Â∑•ÁöÑÂäüËÉΩÊµãËØï„ÄÇÈÇ£‰πàÂ∞ëËßÅÁöÑËá™Âä®ÂåñÊµãËØïÂà∞Â∫ïÈÄÇÁî®Âì™‰∫õÂú∫ÊôØÂë¢Ôºü ÂõûÂΩíÊµãËØï„ÄÇÊØè‰∏ÄÊ¨°Â∫îÁî®ÂèëÂ∏ÉÔºåÈÉΩ‰º¥ÈöèÁùÄ‰∏ÄÊ¨°ÂõûÂΩíÊµãËØï„ÄÇÂØπ‰∫éÈáçÂ§çÊÄßÁöÑÂ∑•‰ΩúÔºåÊú∫Âô®ÊòæÁÑ∂Êõ¥ÈÄÇÂêà„ÄÇ ÂÖºÂÆπÊÄßÊµãËØï„ÄÇ‰∏çÁÆ°ÊòØWebÊµãËØïÔºåËøòÊòØAppÊµãËØïÔºåÂÖºÂÆπÊÄßÊµãËØïÈÉΩÊòØÂøÖ‰∏çÂèØÂ∞ëÁöÑ‰∏ÄÁéØ„ÄÇ‰ª•WebÊµãËØï‰∏∫‰æãÔºåÂêåÊ†∑ÁöÑÊµãËØïÁî®‰æãÔºåÈúÄË¶ÅÂú®‰∏çÂêåÁöÑÊµèËßàÂô®‰∏äÂàÜÂà´ËøêË°å‰∏ÄÈÅçÔºåËøôÂØπÊµãËØï‰∫∫ÂëòËÄåË®Ä‰∏çÂèØË∞ì‰∏çÊòØ‰∏ÄÁßçÊäòÁ£®„ÄÇ Â§ßËßÑÊ®°ÊµãËØï„ÄÇÂ¶ÇÊûú‰∏ÄÊ¨°ÊµãËØïÊ∂âÂèäÁöÑÊµãËØïÁî®‰æãËøáÂ§öÔºàÊØîÂ¶Ç100+ÔºâÔºåÂäüËÉΩÊµãËØïÈöæÂÖç‰ºöÊúâÈÅóÊºèÊàñËÄÖÈáçÂ§çÔºåËÄåËá™Âä®ÂåñÊµãËØïÂèØ‰ª•ËΩªÊùæÁ°Æ‰øù‰∏Ä‰∏™‰∏çÂ∞ëÔºå‰∏Ä‰∏™‰πü‰∏çÂ§ö„ÄÇ ÊÄßËÉΩÊµãËØï ÂºäÁ´Ø‰∏á‰∫ãÁöÜÊúâÂà©ÂºäÔºåÊú∫Âô®ÁöÑËá™Âä®ÂåñÊµãËØïÊ≤°ÊúâÂπøÊ≥õÂ∫îÁî®ËÇØÂÆöÊòØÊúâÂéüÂõ†ÁöÑ„ÄÇ ‰∏ç‰ΩéÁöÑÊäÄÊúØÈó®Êßõ„ÄÇ‰∏çËÆ∫ÊòØ‰ΩøÁî®Âì™ÁßçËá™Âä®ÂåñÊµãËØïÊ°ÜÊû∂ÔºåÂØπ‰∫éÊµãËØï‰∫∫ÂëòËÄåË®ÄÔºåÈÉΩÂ≠òÂú®‰∏ÄÂÆöÁöÑÊäÄÊúØÈó®ÊßõÔºå‰∏ÄËà¨Ëá≥Â∞ëÈúÄË¶ÅÂ≠¶‰π†Âπ∂ÊéåÊè°‰∏ÄÈó®ÁºñÁ®ãËØ≠Ë®Ä„ÄÇÂèØËßÇÁöÑÂºÄÂèëÊàêÊú¨ÂíåÁª¥Êä§ÊàêÊú¨„ÄÇË∑ü‰ªª‰ΩïÁ®ãÂ∫è‰∏ÄÊ†∑ÔºåÊó†ËÆ∫ÊòØÁºñÂÜôËá™Âä®ÂåñÊµãËØïËÑöÊú¨ÔºåËøòÊòØÂú®ÈúÄÊ±ÇÂèòÂåñÊó∂‰øÆÊîπËÑöÊú¨ÔºåÈÉΩÈúÄË¶ÅËä±Ë¥πÂ§ßÈáèÁöÑÊó∂Èó¥„ÄÇ ÈúÄÊ±ÇË¶ÅÁ®≥ÂÆö„ÄÇËá™Âä®ÂåñÊµãËØïÁöÑÂâçÊèêÊòØÊµãËØïÁî®‰æãË¶ÅÁ®≥ÂÆöÔºåËÄåÊµãËØïÁî®‰æãÁ®≥ÂÆöÁöÑÂâçÊèêÊòØÈúÄÊ±ÇË¶ÅÁ®≥ÂÆö„ÄÇÂØπ‰∫é‰∏¥Êó∂ÁöÑÊàñËÄÖËØ¥‰∏ÄÊ¨°ÊÄßÁöÑÈúÄÊ±ÇÔºåËá™Âä®ÂåñÊµãËØïÂæÄÂæÄÊòØÂæó‰∏çÂÅøÂ§±ÁöÑ„ÄÇ Â∫îÁî®Âë®ÊúüÈïø„ÄÇÂ∫îÁî®ÁöÑÁîüÂëΩÂë®ÊúüË∂äÈïøÔºåËá™Âä®ÂåñÊµãËØïËäÇÁúÅÁöÑÊó∂Èó¥Ë∂äÂ§öÔºåÂ∏¶Êù•ÁöÑ‰ª∑ÂÄº‰πüË∂äÂ§ß„ÄÇ ÊÄßËÉΩÊµãËØïÈöèÁùÄwebÂâçÁ´ØÊäÄÊúØÂèëÂ±ïÊõ¥Êñ∞Ë∂äÊù•Ë∂äËøÖÁåõÁöÑÊÄÅÂäøÔºåÂâçÁ´ØÊäÄÊúØÂíåÊ°ÜÊû∂Â±ÇÂá∫‰∏çÁ©∑„ÄÇ‰ΩÜÂæÄÂæÄÊàë‰ª¨‰ºöÂú®Áü≠ÊúüÂÜÖÈ´ò‰º∞ÊäÄÊúØÂ∏¶Êù•ÁöÑÂΩ±Âìç„ÄÇ ÊâÄ‰ª•ÂØπ‰∫é‰ªª‰Ωï‰∏Ä‰∏™Êñ∞ÁöÑ‰∫ãÁâ©ÔºåÊàë‰ª¨ÈááÂèñ‰øùÂÆàÁöÑÊÄÅÂ∫¶ÂØπÂæÖÂèØËÉΩ‰ºöÂ∞ëË∑åÂÖ•‰∏Ä‰∫õÂπªÁÅ≠ÁöÑ‰ΩéË∞∑Êúü„ÄÇÂØπ‰∫éÊñ∞ÊäÄÊúØÂÅöÂÖÖÂàÜÁöÑËØÑ‰º∞ÊµãËØïÔºåÂèØËÉΩ‰ºöËÆ©Êàë‰ª¨Â∞ëË∏©‰∏Ä‰∫õÂùë„ÄÇÂΩìÁÑ∂ÂæÄÂæÄËøôËØùÔºåÈÉΩÊòØÂú®‰∫ãÂêéÊâç‰ºöÊèêÂá∫Êù•„ÄÇ ‰∏∫‰ªÄ‰πàÂèØ‰ª•Áî®Ëá™Âä®ÂåñÊµãËØïÂÅöÊÄßËÉΩÊµãËØïÔºüÁΩë‰∏ä‰ºº‰πéÈÉΩÊ≤°ÊúâËøôÁßçÂÖà‰æã„ÄÇÊàëÊÄªÁªì‰ª•‰∏ãÂá†‰∏™ÂéüÂõ†Ôºö ËÑöÊú¨ËÉΩÂº∫ÊúâËßÑÂæãÂú∞ÈáçÂ§çÊâßË°åÊìç‰ΩúÔºåËÄåÂºÄÂèëÊàñÊµãËØïËá™Â∑±ÂÅöËøô‰∏™Â∑•‰Ωú‰ºöÂæàÁπÅÁêêËÄå‰∏îÂá∫‰∫Ü‰∏ÄÊ≠•Â∑ÆÈîôÂ∞±ÂæóÈáçÊù• ËÑöÊú¨ËÉΩÂ∞ÜÊâßË°åÊìç‰ΩúÂíåÊï∞ÊçÆËÆ∞ÂΩïÁªìÂêàËµ∑Êù•„ÄÇËÄå‰∫∫Á±ªÊâßË°å‰∏ÄÊ¨°Êï∞ÊçÆËÆ∞ÂΩïÂíåÂä®‰ΩúÊâßË°å‰πüËÆ∏Ê≤°ÈóÆÈ¢òÔºå‰ΩÜÈáçÂ§ç500Ê¨°ÊàñÊõ¥Â§öËÄåÊó†Â∑ÆÈîôÈÇ£Â∞±Âõ∞Èöæ‰∫Ü„ÄÇ webËá™Âä®ÂåñÊµãËØïÊñπÊ≥ï python+Selenium Ë∑®ÊµèËßàÂô®ÊîØÊåÅ puppeteer ‰∏ìÊ≥®‰∫échrome airtest Ë∑®Âπ≥Âè∞ÔºåÂÆâÂçì„ÄÅios„ÄÅwebÔºåwebËøòÊòØÁî®ÁöÑSelenium ÊµãËØïÁªìÊûú ÊâßË°åËÑöÊú¨ ËÑöÊú¨ËøêË°åÊÉÖÂÜµÔºåÊµèËßàÂô®Âú®Ëá™Âä®ËøõË°åÊìç‰Ωú ÂæóÂá∫ÁªüËÆ°ÁªìÊûú„ÄÇÊàë‰ª¨Ê®°ÊãüÁî®Êà∑ÁöÑÊüê‰∏™ÊúÄÈ¢ëÁπÅÁöÑÊìç‰ΩúÔºåÂèëÁé∞ÈááÁî®Êñ∞ÁöÑÊñπÊ°àÂêéÂÜÖÂ≠ò‰ºöÂú®Áü≠Êó∂Èó¥ÂÜÖÊúâÊïàÂõûÊî∂„ÄÇÊï¥‰Ωì‰∏äÔºåÈ°µÈù¢ÂÜÖÂ≠ò‰ºöË∂ã‰∫éÁ®≥ÂÆöÁöÑÊÄÅÂäø„ÄÇ ÈÅáÂà∞ÁöÑÈóÆÈ¢òÂä®ÊÄÅÁöÑggcodeggcode = prompt(\"ËæìÂÖ•Ë∞∑Ê≠åÁ†Å: \") Áî±‰∫éÁôªÂΩïÁî®ÁöÑË∞∑Ê≠åÁ†ÅÊòØÂä®ÊÄÅÁöÑÔºåÊâÄ‰ª•ËøôÈáåÂè™ËÉΩÊØèÊ¨°ËæìÂÖ•ËøõË°åÂ°´ÂÖÖ„ÄÇËøôÈáåÊàë‰ª¨ÂºïÂÖ•prompt_toolkitËøõË°åÁªàÁ´ØÁöÑ‰∫§‰∫í Ëé∑ÂèñÂÖÉÁ¥†Â¶Ç‰ªäÁöÑÂâçÁ´ØÈ°πÁõÆÔºåÁî±‰∫é‰ΩøÁî®ÁöÑÊòØÊï∞ÊçÆÈ©±Âä®domÔºå‰∏çÊòØ‰º†ÁªüÁöÑjqueryÊìç‰ΩúÔºåÁé∞Âú®Âü∫Êú¨Áúã‰∏çÂà∞id classÁ≠âËøõË°åÂÖÉÁ¥†ÂÆö‰Ωç„ÄÇÁé∞Âú®ÊúÄÊñπ‰æøÁöÑÂÅöÊ≥ïÂè™ËÉΩÊòØÈÄöËøáxpathÂØªÊâæÂÖÉÁ¥†„ÄÇ xpath &#x3D; &#39;&#x2F;&#x2F;*[@id&#x3D;&quot;app&quot;]&#x2F;div&#x2F;div[2]&#x2F;div[1]&#39; element &#x3D; self.browser.find_element_by_xpath( xpath) Áî±‰∫é‰∏çÊòØÂõ∫ÂÆöidÔºåÈ°µÈù¢‰∏ÄÊó¶ÊîπÂèòxpathÂæàÊúâÂèØËÉΩÊîπÂèòÔºå‰ºöÂØºËá¥ÂÖÉÁ¥†Êâæ‰∏çÂà∞„ÄÇ webdriverËøõÁ®ã‰∏çÈÄÄÂá∫Âú®‰ΩøÁî®ËøáÁ®ãÂΩì‰∏≠ÂèëÁé∞Êèê‰æõÁöÑquit() ÊñπÊ≥ïÂπ∂‰∏çËÉΩËÆ©ËøõÁ®ãÈÄÄÂá∫ÔºåÊâÄ‰ª•Âè™ËÉΩËá™Â∑±Â∞ÜËøõÁ®ãkillÊéâ„ÄÇ def close_browser(self): ÁÇπÂáªÂú®ËøõË°åÊåâÈíÆÁÇπÂáªÁöÑÊó∂ÂÄôÔºåÁªèÂ∏∏‰ºöÂõ†‰∏∫È°µÈù¢Êú™Âä†ËΩΩÂÆåÁ≠âÂéüÂõ†ÂØºËá¥Êó†Ê≥ïÁÇπÂáª„ÄÇÁªìÊûúÂ∞±ÊòØÂèØËÉΩ‰ºöÊäõÂá∫ÂºÇÂ∏∏„ÄÇÂØπ‰∫éËøôÁßçÊÉÖÂÜµwebdriverÊú¨Ë∫´ÊúâÊèê‰æõwaitÁ≠âÂæÖ„ÄÇ wait = WebDriverWait(self.browser, 30) element = wait.until(EC.element_to_be_clickable((By.XPATH, xpath))) WebDriverWait ÈúÄË¶ÅËÆæÁΩÆ‰∏Ä‰∏™Á≠âÂæÖÊó∂ÈïøÔºå‰∏çÂèØËÉΩÊó†ÈôêÁ≠âÂæÖ ËøòÊúâ‰∫õÊÉÖÂÜµ‰∏ãÔºåÊòØÁî±‰∫éÈúÄË¶Å‰∏ãÊãâÊªöÂä®Êù°ÊâçËÉΩËøõË°åÁÇπÂáª„ÄÇËøôÁßçÊÉÖÂÜµÂèØ‰ª•ËÄÉËôëÊâßË°åjsËøõË°åÁÇπÂáª„ÄÇ js_click_next_page = 'document.querySelector(\"body > div.worker-order-search-list > div.content-wrapper > section > ul > li.ivu-page-next\").click()' browser.execute_script(js_click_next_page) ‰ΩøÁî®webdriver.clickËøòÊòØÁî®jsÁÇπÂáªÔºü When Should You Use JavaScript for Clicking?If you are using Selenium for testing an application, my answer to this question is ‚Äúalmost never‚Äù. By and large, your Selenium test should reproduce what a user would do with the browser. Taking the example of the drop down menu: a test should click on the button that brings up the drop down first, and then click on the menu item. If there is a problem with the GUI because the button is invisible, or the button fails to show the menu items, or something similar, then your test will fail and you‚Äôll have detected the bug. If you use JavaScript to click around, you won‚Äôt be able to detect these bugs through automated testing. ÊÄª‰πãËøòÊòØÁúã‰Ω†ÁöÑ‰ΩøÁî®ÁõÆÁöÑÔºåÂ¶ÇÊûúËá™Âä®ÂåñÊµãËØïÁöÑÁõÆÁöÑÂÄæÂêë‰∫éÊµãËØïÈ°µÈù¢ÂäüËÉΩ„ÄÇÈÇ£‰πàÂª∫ËÆÆ‰ΩøÁî®webdriver.click„ÄÇÂ¶ÇÊûúÊòØ‰∏∫‰∫ÜÊµãËØïÊÄßËÉΩÔºåÈÇ£ÂèØ‰ª•ËøõË°åjsÁÇπÂáª‰∫Ü„ÄÇ Ëé∑ÂèñÈ°µÈù¢ÂÜÖÂ≠òÊµèËßàÂô®ÁöÑ‰ªªÂä°ÁÆ°ÁêÜÂô®ÂèØ‰ª•ÂæàÂÆπÊòìÁöÑÁúãÂà∞È°µÈù¢ÁöÑÂÜÖÂ≠ò„ÄÅcpu„ÄÅÁΩëÁªúÊÉÖÂÜµÔºå‰ΩÜÊòØÂ¶Ç‰ΩïËé∑ÂèñÂà∞ËÆ∞ÂΩïÂπ∂ÁªüËÆ°Âë¢Ôºü Á≠îÊ°àÊòØÔºåÂæàÂèØÊÉúÁé∞Âú®ËøòÊ≤°ÊâæÂà∞„ÄÇÂ¶ÇÊûúÊúâÂÆòÊñπÂäûÊ≥ïÔºåËØ∑ÂëäËØâÊàë„ÄÇ ÊàëËµ∞‰∫Ü‰∏Ä‰∏™ÂÖ∂‰ªñÈÄîÂæÑËé∑ÂèñÔºå‰ªéÊìç‰ΩúÁ≥ªÁªüÂ±ÇÈù¢Ëé∑ÂèñËøõÁ®ã„ÄÇËé∑Âèñ‰∏Ä‰∏™ËøõÁ®ãÂæóÂÜÖÂ≠òÂç†Áî®ÊòØ‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‰∫ãÔºå‰ΩÜÊòØÂ¶Ç‰ΩïÁü•ÈÅìÊüê‰∏™È°µÈù¢ÁöÑËøõÁ®ãidÂë¢„ÄÇÂæàÈÅóÊÜæÁöÑÊòØÔºåwebdriverÂêåÊ†∑Ê≤°ÊúâÊé•Âè£ÊñπÊ≥ïÊèê‰æõ„ÄÇ‰∫éÊòØÊàëÂè™ËÉΩ‰ªéwebdriverÂ≠êËøõÁ®ãÂÖ•ÊâãÔºåÁúãÊúâÊ≤°Êúâ‰ø°ÊÅØËÉΩ‰∏épageÂÖ≥ËÅî‰∏ä„ÄÇÂæàÈÅóÊÜæÁöÑ‰∫ãÔºåÂçïÂçï‰ªéÂ≠êËøõÁ®ãÂêçÁúã‰∏éÈ°µÈù¢ÊØ´Êó†ÂÖ≥ËÅî„ÄÇÊâÄ‰ª•„ÄÇ„ÄÇÊúÄÂêéÔºåÊàëÂè™ËÉΩÂÅö‰∏Ä‰∏™ÂÅáËÆæÔºåÂÅáËÆæÊµèËßàÂô®ÂêØÂä®Á±ª‰ººlinuxÂêØÂä®„ÄÇÂêØÂä®ÁöÑÁ®ãÂ∫èÊòØÊúâÂÖàÂêéÂÖ≥Á≥ªÁöÑ„ÄÇ def get_page_pid(self, page_num=1): \"\"\"[Ëé∑ÂèñÂêØÂä®È°µÈù¢ÁöÑËøõÁ®ãid,ÈùûÂÆòÊñπÊñπÊ≥ï,‰∏ç‰∏ÄÂÆöÊ≠£Á°Æ„ÄÇ ÂéüÁêÜ:ÂÅáËÆæchrome‰∏ªËøõÁ®ãÂêØÂä®Â≠êËøõÁ®ãÊòØÊúâÈ°∫Â∫èÁöÑ,ÈÇ£‰πàÊâìÂºÄÁöÑÈ°µÈù¢ËøõÁ®ãÂú®Á¨¨4‰∏™ÂºÄÂßãÂêØÂä®] Returns: [type] -- [description] \"\"\" webdriver_pid = self.browser.service.process.pid ps = psutil.Process(webdriver_pid) ps_children = ps.children(True) return ps_children[3+page_num-1].pid ËøôÊòØ‰∏ÄÁßçÂØπÈ°πÁõÆÊó†‰æµÂÖ•ÁöÑÂÅöÊ≥ïÔºå‰Ω†‰∏çÈúÄË¶ÅÊîπÂä®È°πÁõÆ‰ª£Á†ÅÔºåÂ∞±ÂèØ‰ª•ÂØπÊµèËßàÂô®È°µÈù¢ÂÜÖÂ≠òËøõË°åÁªüËÆ°„ÄÇËøòÊúâÂÖ∂‰ªñÂÅöÊ≥ïÔºåÂèØ‰ª•ÂØπÈ°πÁõÆËøõË°åÂ¢ûÂä†ÂÜÖÂ≠ò‰∏äÊä•ËøõË°åÁªüËÆ°„ÄÇ‰ΩÜËøôÊ†∑ÁöÑÂÅöÊ≥ïÂêåÊ†∑ÊúâÂºäÁ´ØÔºö ÈúÄË¶ÅÂä®Ë¢´ÊµãÈ°πÁõÆÔºåÂØπÈ°πÁõÆÂπ≤Êâ∞ Â¢ûÂä†Â∑•‰ΩúÈáèÔºå‰∏çÂÖâÊòØ‰∏äÊä•ËøòÂåÖÊã¨Êé•Êî∂‰∏äÊä•Êé•Âè£ Â¶ÇÊûúÊòØÂ§öiframeÈ°µÁ≠æÊñπÂºèÔºåÁªüËÆ°ËÅöÂêà‰∏äÊä•Â∞ÜÈùûÂ∏∏ÁπÅÁêê ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåÁªüËÆ°È°µÈù¢ËøõÁ®ãÊñπÊ≥ï„ÄÇÂæóÂà∞ÁöÑÊï∞ÊçÆÊòØÊï¥‰∏™È°µÈù¢ËøõÁ®ãÊâÄÂç†Áî®ÁöÑÂÜÖÂ≠òÔºåÂπ∂ÈùûÈ°µÈù¢jsÂç†Áî®ÂÜÖÂ≠ò„ÄÇ ÁªüËÆ°Âú®ÁªüËÆ°‰∏äÔºåÊàë‰ΩøÁî®‰∫Üchartify+pandas,Âè™Ë¶Å‰º†ÂÖ•Êï∞ÊçÆÂ∞±ËÉΩÂø´Êç∑Âú∞ÁîüÊàêÂõæË°® def chartArea(self, data, x_column, y_column): \"\"\"[ÁªòÂà∂Âå∫ÂüüÂõæ] Arguments: data &#123;[dict]&#125; -- [Êï∞ÊçÆÁü©Èòµ,ÊãøÂéªÊûÑÂª∫pandas dataFrame] x_column &#123;[type]&#125; -- [xËΩ¥Â≠óÊÆµ] y_column &#123;[type]&#125; -- [yËΩ¥Â≠óÊÆµ] \"\"\" data_frame = pd.DataFrame(data) print(data_frame) self.ch.plot.area(data_frame=data_frame, x_column=x_column, y_column=y_column, stacked=True) def show(self, show_type='html'): self.ch.save('./output/%s-%s.png' % (self.subtitle, time.strftime(\"%Y%m%d%H%M%S\")), 'png') ÊÄªÁªìÊ≠£Â¶ÇÂâçÈù¢ÊâÄËØ¥ÔºåwebËá™Âä®ÂåñÊµãËØïÊ≤°ÊúâÂπøÊ≥õÂ∫îÁî®ËÇØÂÆöÊòØÊúâÂéüÂõ†ÁöÑ„ÄÇ‰ΩÜÊòØÂÅö‰∏∫ÂâçÁ´ØÈóÆÈ¢òÁöÑËÆ∫ËØÅËøòÊòØÊúâÂæàÂ§ßÊÑè‰πâ„ÄÇ ÊØîÂ¶ÇÔºåÈ°µÈù¢Âç†Áî®ÂÜÖÂ≠òÈôêÂà∂ÊòØÂ§öÂ∞ëÔºüÊàëÊâæ‰∫ÜÂæàÂ§öËµÑÊñôÊ≤°ÊúâÊâæÂà∞(ÂÆòÊñπÁöÑÊâçÂèØ‰ø°)„ÄÇ ÈÄöËøáÊµãËØïÔºåÊàëÂæóÂà∞ÁöÑÁªìÊûúÊòØÔºåchrome ÂØπÂçïÈ°µÈù¢js ÂÜÖÂ≠òÊúâÈôêÂà∂2G,ÂØπÈ°µÈù¢ËøõÁ®ãÂÜÖÂ≠òÊó†ÈôêÂà∂„ÄÇ‰Ω†‰∏Ä‰∏™È°µÈù¢ËøõÁ®ãÁîöËá≥ÂèØ‰ª•Ë∑ëÂà∞20G„ÄÇ python+Selenium ‰ΩøÁî®Ëµ∑Êù•ÂæàÁÆÄÂçïÔºåÊÑüÂÖ¥Ë∂£ÂèàÊúâÈúÄË¶ÅÁöÑËØùÔºå‰∏çÂ¶®‰∏ÄËØï„ÄÇ ÈôÑÂä†","categories":[],"tags":[{"name":"python","slug":"python","permalink":"http://visonforcoding.xyz/tags/python/"}]},{"title":"Hello world","slug":"Hello-world","date":"2020-05-07T12:08:35.000Z","updated":"2021-11-28T05:26:44.174Z","comments":true,"path":"2020/05/07/Hello-world/","link":"","permalink":"http://visonforcoding.xyz/2020/05/07/Hello-world/","excerpt":"","text":"hello,world","categories":[],"tags":[{"name":"ÈöèÁ¨î","slug":"ÈöèÁ¨î","permalink":"http://visonforcoding.xyz/tags/%E9%9A%8F%E7%AC%94/"}]},{"title":"Â∑•Ê¨≤ÂñÑÂÖ∂‰∫ãÂøÖÂÖàÂà©ÂÖ∂Âô®-Á®ãÂ∫èÂëòÂ∑•ÂÖ∑","slug":"Â∑•Ê¨≤ÂñÑÂÖ∂‰∫ãÂøÖÂÖàÂà©ÂÖ∂Âô®","date":"2019-04-04T12:00:57.000Z","updated":"2021-10-30T02:59:33.283Z","comments":true,"path":"2019/04/04/Â∑•Ê¨≤ÂñÑÂÖ∂‰∫ãÂøÖÂÖàÂà©ÂÖ∂Âô®/","link":"","permalink":"http://visonforcoding.xyz/2019/04/04/%E5%B7%A5%E6%AC%B2%E5%96%84%E5%85%B6%E4%BA%8B%E5%BF%85%E5%85%88%E5%88%A9%E5%85%B6%E5%99%A8/","excerpt":"ÊèêÈ´òÂ∑•‰ΩúÊïàÁéáÔºåÈ¶ñÂÖà‰Ω†ÂæóÊúâ‰∏ÄÂ•óÁî®ÁöÑÈ°∫ÊâãÁöÑÂ∑•ÂÖ∑ ÂõæÂ∫ä","text":"ÊèêÈ´òÂ∑•‰ΩúÊïàÁéáÔºåÈ¶ñÂÖà‰Ω†ÂæóÊúâ‰∏ÄÂ•óÁî®ÁöÑÈ°∫ÊâãÁöÑÂ∑•ÂÖ∑ ÂõæÂ∫ä PicGo ÊîØÊåÅÁ≤òË¥¥ÊùøÔºåÁõ¥Êé•‰∏ä‰º†Âà∞‰∫ëÂ≠òÂÇ®„ÄÇ ÊàëÁî®‰∏ÉÁâõ‰∫ëÔºå‰∏ä‰º†‰πãÂêéÂà∂Âä®ÊäämarkdownÁöÑÊ†ºÂºèÂú∞ÂùÄÔºåÊîæÂà∞Á≤òË¥¥ÊùøÁõ¥Êé•ÂèØ‰ª•Á≤òË¥¥Âà∞markdown. ÂØπÂñúÊ¨¢Áî®markdownÂÜô‰ΩúÁöÑÂêåÂ≠¶ÈùûÂ∏∏Êñπ‰æø ËÆ∞‰∫ãÊú¨avenote ‰πãÂâçavenoteÊó†Ê≥ïÂÜômarkdownÔºåÊàëÊòØÊÄé‰πà‰πüÂñúÊ¨¢‰∏ç‰∏ä„ÄÇÊúÄËøëÂèëÁé∞ÁâàÊú¨Êõ¥Êñ∞‰πãÂêéÂèØ‰ª•Êñ∞Âª∫markdownÊ†ºÂºè„ÄÇÊàëÁî®ÈáçÊñ∞‰ΩøÁî®‰∏ä‰∫Ü„ÄÇ boostnote ËøôÊòØ‰∏ÄÊ¨æ‰∏ì‰∏∫Á®ãÂ∫èÂëòËÆæËÆ°ÁöÑËÆ∞‰∫ãÊú¨ÔºåÊîØÊåÅ‰ª£Á†ÅÁâáÊÆµÊ†ºÂºèÂíåmarkdownÊ†ºÂºè„ÄÇ ÊàëÊúÄÂñúÊ¨¢ÁöÑ‰∏ÄÁÇπÊòØÂÆÉÁöÑÂæÖÂäûËøõÂ∫¶Â±ïÁ§∫ÔºåÂæàÁõ¥ËßÇ„ÄÇ Áº∫ÁÇπÂ∞±ÊòØÊ≤°Êúâ‰∫ëÁ´ØÂäüËÉΩÂíåÊ≤°ÊúâÊâãÊú∫Áâà„ÄÇ restÂÆ¢Êà∑Á´ØInsomnia ÂÆÉÊúÄÂ§ßÁöÑ‰∫ÆÁÇπÊòØËÉΩÊîØÊåÅ‰ªécurlÂëΩ‰ª§ÈáåÊñ∞Âª∫requestÂÆû‰æãÔºåËÉΩ‰ªéchromeÂà©ÁöÑcopy as curl Â§çÂà∂ËøáÊù•Êó†ÁºùÂØπÊé•„ÄÇÂú®Ë∞ÉËØïÊé•Âè£ÁöÑÊó∂ÂÄôÁÆÄÁõ¥ÊòØÂÆåÁæéÔºÅ gitÂÆ¢Êà∑Á´ØgitKarken Á´†È±ºüêôÂì•ÊòØÊàëÂà∞ÁõÆÂâç‰∏∫Ê≠¢ÊúÄÂñúÊ¨¢ÁöÑgitÂÆ¢Êà∑Á´ØÔºåÁïåÈù¢ÁæéËßÇÔºåÊìç‰ΩúËÆæËÆ°ËàíÊúçÔºåÂØπgitflow‰ºòÈõÖÊîØÊåÅ„ÄÇ git flow Êìç‰ΩúÂæàÊñπ‰æø‰∫Ü„ÄÇ ÊåÅÁª≠Êõ¥Êñ∞‰∏≠„ÄÇ„ÄÇ„ÄÇ","categories":[],"tags":[{"name":"Á®ãÂ∫è‰∫∫Áîü","slug":"Á®ãÂ∫è‰∫∫Áîü","permalink":"http://visonforcoding.xyz/tags/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F/"}]},{"title":"docker+compose+nginx+php","slug":"docker-compose-nginx-php","date":"2018-07-22T08:52:09.000Z","updated":"2021-10-30T02:59:33.275Z","comments":true,"path":"2018/07/22/docker-compose-nginx-php/","link":"","permalink":"http://visonforcoding.xyz/2018/07/22/docker-compose-nginx-php/","excerpt":"","text":"Docker ÂèØ‰ª•ËÆ©ÂºÄÂèëËÄÖÊâìÂåÖ‰ªñ‰ª¨ÁöÑÂ∫îÁî®‰ª•Âèä‰æùËµñÂåÖÂà∞‰∏Ä‰∏™ËΩªÈáèÁ∫ß„ÄÅÂèØÁßªÊ§çÁöÑÂÆπÂô®‰∏≠ÔºåÁÑ∂ÂêéÂèëÂ∏ÉÂà∞‰ªª‰ΩïÊµÅË°åÁöÑ Linux Êú∫Âô®‰∏äÔºå‰πüÂèØ‰ª•ÂÆûÁé∞ËôöÊãüÂåñ„ÄÇ ÊàëÁî®dockerÂÅö‰ªÄ‰πàÔºüÂø´ÈÄüÊê≠Âª∫ÂºÄÂèëÊâÄÈúÄÁéØÂ¢ÉÔºåÊµãËØïÂÆûÈ™åÊñ∞ÁªÑ‰ª∂(Â¶Çrabbitmq,kafka).ÈÅøÂÖçÂõ†ÂÆâË£ÖËÄåÊµ™Ë¥πÂ§™Â§öÊó∂Èó¥ÔºåÊàëÁöÑÁõÆÁöÑÊòØÂø´ÈÄüÂ∞ùËØï‰ΩøÁî®„ÄÇ ÂÆâË£Ödockerbrew cask install docker docker-composeCompose ÊòØ‰∏Ä‰∏™Áî®Êà∑ÂÆö‰πâÂíåËøêË°åÂ§ö‰∏™ÂÆπÂô®ÁöÑ Docker Â∫îÁî®Á®ãÂ∫è„ÄÇÂú® Compose ‰∏≠‰Ω†ÂèØ‰ª•‰ΩøÁî® YAML Êñá‰ª∂Êù•ÈÖçÁΩÆ‰Ω†ÁöÑÂ∫îÁî®ÊúçÂä°„ÄÇÁÑ∂ÂêéÔºåÂè™ÈúÄË¶Å‰∏Ä‰∏™ÁÆÄÂçïÁöÑÂëΩ‰ª§ÔºåÂ∞±ÂèØ‰ª•ÂàõÂª∫Âπ∂ÂêØÂä®‰Ω†ÈÖçÁΩÆÁöÑÊâÄÊúâÊúçÂä°„ÄÇ ÁõÆÂΩïÁªìÊûÑ ‰∏ÄÁªÑÊúçÂä°Âª∫Á´ã‰∏Ä‰∏™ÁõÆÂΩï ÈÖçÁΩÆÊñá‰ª∂version: '2' services: php7.2: image: php:7.2-fpm ports: - \"9000:9000\" volumes: - ./php:/usr/local/etc/php - /Users/caowenpeng/www:/www nginx: image: nginx ports: - \"80:80\" volumes: - /Users/caowenpeng/www:/www - ./nginx:/etc/nginx ÂêØÂä®docker-compose up -d Â∏∏Áî®ÂëΩ‰ª§ ÂëΩ‰ª§ ËØ¥Êòé up ÂàõÂª∫ÂíåÂêØÂä®ÂÆπÂô® ps ÂàóÂá∫ÊâÄÊúâÂÆπÂô® down ÂÅúÊ≠¢Âπ∂Âà†Èô§ÂÆπÂô®ÔºåÈïúÂÉèÔºåÊåÇËΩΩ start ÂêØÂä®ÊúçÂä° stop ÂÅúÊ≠¢ÊúçÂä° restart ÈáçÂêØÊúçÂä° Á¨¨‰∏ÄÊ¨°‰ΩøÁî®up,‰πãÂêé‰ΩøÁî®start,Â¶ÇÊûúÂÜçÊ¨°‰ΩøÁî®upÂ∞Ü‰ºöÈáçÊñ∞ÂàõÂª∫ÂÆπÂô®Ôºå‰∏Ä‰∫õÂØπÂÆπÂô®ÁöÑ‰øÆÊîπÂ∞Ü‰ºö‰∏¢Â§± ÂÖ∂‰ªñÈóÆÈ¢òËøõÂÖ•ÂÆπÂô® docker-compose exec php7.2 bash ËøõÂÖ•ÂÆπÂô®Âêé‰ºöÂèëÁé∞Âè™ËÉΩÁî®Â∞ëÈáèÂëΩ‰ª§ÔºåËøûpsÁ≠âÈÉΩÊ≤°ÊúâÔºåËøô‰∏™Êó∂ÂÄôÈúÄË¶ÅÂÆâË£Ö‰∏Ä‰∫õÁ®ãÂ∫è apt-get update ##Êõ¥Êñ∞ÂÖÉ apt-get install procps ## ÂÆâË£Ö ps ÂÆâË£Öphp-rdkafkaÊãìÂ±ï apt-get install wget wget https://github.com/edenhill/librdkafka/archive/master.zip apt-get install unzip unzip master.zip cd librdkafka ./configure make make install pecl install http://pecl.php.net/get/rdkafka-3.0.4.tgz #Âú®php.ini ÈÖçÁΩÆÂêØÁî® rdkafkaÊãìÂ±ï","categories":[],"tags":[{"name":"docker","slug":"docker","permalink":"http://visonforcoding.xyz/tags/docker/"}]},{"title":"Âú∞ÁêÜ‰ΩçÁΩÆgeoÂ§ÑÁêÜ‰πãmysqlÂáΩÊï∞","slug":"mysql/Âú∞ÁêÜ‰ΩçÁΩÆgeoÂ§ÑÁêÜ‰πãmysqlÂáΩÊï∞","date":"2017-12-01T09:39:29.000Z","updated":"2021-12-20T05:43:01.776Z","comments":true,"path":"2017/12/01/mysql/Âú∞ÁêÜ‰ΩçÁΩÆgeoÂ§ÑÁêÜ‰πãmysqlÂáΩÊï∞/","link":"","permalink":"http://visonforcoding.xyz/2017/12/01/mysql/%E5%9C%B0%E7%90%86%E4%BD%8D%E7%BD%AEgeo%E5%A4%84%E7%90%86%E4%B9%8Bmysql%E5%87%BD%E6%95%B0/","excerpt":"ÁõÆÂâçË∂äÊù•Ë∂äÂ§öÁöÑ‰∏öÂä°ÈÉΩ‰ºöÂü∫‰∫éLBSÔºåÈôÑËøëÁöÑ‰∫∫ÔºåÂ§ñÂçñ‰ΩçÁΩÆÔºåÈôÑËøëÂïÜÂÆ∂Á≠âÁ≠âÔºåÁé∞Â∞±ËÆ®ËÆ∫Á¶ªÊàëÊúÄËøëËøô‰∏Ä‰∏öÂä°Âú∫ÊôØÁöÑËß£ÂÜ≥ÊñπÊ°à„ÄÇ ÁõÆÂâçÂ∑≤Áü•Ëß£ÂÜ≥ÊñπÊ°àÊúâ: mysql Ëá™ÂÆö‰πâÂáΩÊï∞ËÆ°ÁÆó mysql geoÁ¥¢Âºï mongodb geoÁ¥¢Âºï postgresql PostGisÁ¥¢Âºï redis geo ElasticSearch Êú¨ÊñáÊµãËØï‰∏ãmysql ÂáΩÊï∞ËøêÁÆóÁöÑÊÄßËÉΩ","text":"ÁõÆÂâçË∂äÊù•Ë∂äÂ§öÁöÑ‰∏öÂä°ÈÉΩ‰ºöÂü∫‰∫éLBSÔºåÈôÑËøëÁöÑ‰∫∫ÔºåÂ§ñÂçñ‰ΩçÁΩÆÔºåÈôÑËøëÂïÜÂÆ∂Á≠âÁ≠âÔºåÁé∞Â∞±ËÆ®ËÆ∫Á¶ªÊàëÊúÄËøëËøô‰∏Ä‰∏öÂä°Âú∫ÊôØÁöÑËß£ÂÜ≥ÊñπÊ°à„ÄÇ ÁõÆÂâçÂ∑≤Áü•Ëß£ÂÜ≥ÊñπÊ°àÊúâ: mysql Ëá™ÂÆö‰πâÂáΩÊï∞ËÆ°ÁÆó mysql geoÁ¥¢Âºï mongodb geoÁ¥¢Âºï postgresql PostGisÁ¥¢Âºï redis geo ElasticSearch Êú¨ÊñáÊµãËØï‰∏ãmysql ÂáΩÊï∞ËøêÁÆóÁöÑÊÄßËÉΩ ÂáÜÂ§áÂ∑•‰ΩúÂàõÂª∫Êï∞ÊçÆË°®CREATE TABLE `driver` ( `id` int(11) unsigned NOT NULL AUTO_INCREMENT, `lng` float DEFAULT NULL, `lat` float DEFAULT NULL, PRIMARY KEY (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8; ÂàõÂª∫ÊµãËØïÊï∞ÊçÆÂú®ÂàõÂª∫Êï∞ÊçÆ‰πãÂâçÂÖà‰∫ÜËß£‰∏ãÂü∫Êú¨ÁöÑÂú∞ÁêÜÁü•ËØÜ: ÂÖ®ÁêÉÁªèÁ∫¨Â∫¶ÁöÑÂèñÂÄºËåÉÂõ¥‰∏∫: Á∫¨Â∫¶-9090ÔºåÁªèÂ∫¶-180180 ‰∏≠ÂõΩÁöÑÁªèÁ∫¨Â∫¶ËåÉÂõ¥Â§ßÁ∫¶‰∏∫Ôºö Á∫¨Â∫¶3.8653.55ÔºåÁªèÂ∫¶73.66135.05 Âåó‰∫¨Ë°åÊîø‰∏≠ÂøÉÁöÑÁ∫¨Â∫¶‰∏∫39.92ÔºåÁªèÂ∫¶‰∏∫116.46 Ë∂äÂåóÈù¢ÁöÑÂú∞ÊñπÁ∫¨Â∫¶Êï∞ÂÄºË∂äÂ§ßÔºåË∂ä‰∏úÈù¢ÁöÑÂú∞ÊñπÁªèÂ∫¶Êï∞ÂÄºË∂äÂ§ß Â∫¶ÂàÜËΩ¨Êç¢Ôºö Â∞ÜÂ∫¶ÂàÜÂçï‰ΩçÊï∞ÊçÆËΩ¨Êç¢‰∏∫Â∫¶Âçï‰ΩçÊï∞ÊçÆÔºåÂÖ¨ÂºèÔºöÂ∫¶=Â∫¶+ÂàÜ/60 ÂàÜÁßíËΩ¨Êç¢Ôºö Â∞ÜÂ∫¶ÂàÜÁßíÂçï‰ΩçÊï∞ÊçÆËΩ¨Êç¢‰∏∫Â∫¶Âçï‰ΩçÊï∞ÊçÆÔºåÂÖ¨ÂºèÔºöÂ∫¶ = Â∫¶ + ÂàÜ / 60 + Áßí / 60 / 60 Âú®Á∫¨Â∫¶Áõ∏Á≠âÁöÑÊÉÖÂÜµ‰∏ãÔºö ÁªèÂ∫¶ÊØèÈöî0.00001Â∫¶ÔºåË∑ùÁ¶ªÁõ∏Â∑ÆÁ∫¶1Á±≥ Âú®ÁªèÂ∫¶Áõ∏Á≠âÁöÑÊÉÖÂÜµ‰∏ãÔºö Á∫¨Â∫¶ÊØèÈöî0.00001Â∫¶ÔºåË∑ùÁ¶ªÁõ∏Â∑ÆÁ∫¶1.1Á±≥ mysqlÂáΩÊï∞ËÆ°ÁÆóDELIMITER // CREATE DEFINER=`root`@`localhost` FUNCTION `getDistance`( `lng1` float(10,7) , `lat1` float(10,7) , `lng2` float(10,7) , `lat2` float(10,7) ) RETURNS double COMMENT 'ËÆ°ÁÆó2ÂùêÊ†áÁÇπË∑ùÁ¶ª' BEGIN declare d double; declare radius int; set radius = 6371000; #ÂÅáËÆæÂú∞ÁêÉ‰∏∫Ê≠£ÁêÉÂΩ¢ÔºåÁõ¥ÂæÑ‰∏∫6371000Á±≥ set d = (2*ATAN2(SQRT(SIN((lat1-lat2)*PI()/180/2) *SIN((lat1-lat2)*PI()/180/2)+ COS(lat2*PI()/180)*COS(lat1*PI()/180) *SIN((lng1-lng2)*PI()/180/2) *SIN((lng1-lng2)*PI()/180/2)), SQRT(1-SIN((lat1-lat2)*PI()/180/2) *SIN((lat1-lat2)*PI()/180/2) +COS(lat2*PI()/180)*COS(lat1*PI()/180) *SIN((lng1-lng2)*PI()/180/2) *SIN((lng1-lng2)*PI()/180/2))))*radius; return d; END// DELIMITER ; ÂàõÂª∫Êï∞ÊçÆpythonËÑöÊú¨# coding=utf-8 from orator import DatabaseManager, Model import logging import random import threading \"\"\" ‰∏≠ÂõΩÁöÑÁªèÁ∫¨Â∫¶ËåÉÂõ¥ Á∫¨Â∫¶3.86~53.55ÔºåÁªèÂ∫¶73.66~135.05„ÄÇÂ§ßÊ¶Ç0.00001Â∫¶Â∑ÆË∑ù1Á±≥ \"\"\" # ÂàõÂª∫ Êó•Âøó ÂØπË±° logger = logging.getLogger() handler = logging.StreamHandler() formatter = logging.Formatter( '%(asctime)s %(name)-12s %(levelname)-8s %(message)s') handler.setFormatter(formatter) logger.addHandler(handler) logger.setLevel(logging.DEBUG) # Connect to the database config = &#123; 'mysql': &#123; 'driver': 'mysql', 'host': 'localhost', 'database': 'dbtest', 'user': 'root', 'password': '', 'prefix': '' &#125; &#125; db = DatabaseManager(config) Model.set_connection_resolver(db) class Driver(Model): __table__ = 'driver' __timestamps__ = False pass def ins_driver(thread_name,nums): logger.info('ÂºÄÂêØÁ∫øÁ®ã%s' % thread_name) for _ in range(nums): lng = '%.5f' % random.uniform(73.66, 135.05) lat = '%.5f' % random.uniform(3.86, 53.55) driver = Driver() driver.lng = lng driver.lat = lat driver.save() thread_nums = 10 for i in range(thread_nums): t = threading.Thread(target=ins_driver, args=(i, 400000)) t.start() ‰ª•‰∏äËÑöÊú¨ÂàõÂª∫10‰∏™Á∫øÁ®ãÔºå10‰∏™Á∫øÁ®ãÊèíÂÖ•4‰∏áÊù°Êï∞ÊçÆ„ÄÇËÄóË¥π150.18sÊâßË°åÂÆå,ÊÄªÂÖ±ÊèíÂÖ•40‰∏áÊù°Êï∞ÊçÆ ÊµãËØï ÊµãËØïÁéØÂ¢É Á≥ªÁªüÔºömac os ÂÜÖÂ≠òÔºö16G cpu: intel core i5 Á°¨Áõò: 500g Âõ∫ÊÄÅÁ°¨Áõò ÊµãËØï‰∏ãÊü•ÊâæË∑ùÁ¶ª(134.38753,18.56734)Ëøô‰∏™ÂùêÊ†áÁÇπÊúÄËøëÁöÑ10‰∏™Âè∏Êú∫ select *,`getDistance`(134.38753,18.56734,`lng`,`lat`) as dis from driver ORDER BY dis limit 10 ËÄóÊó∂Ôºö18.0s explain:ÂÖ®Ë°®Êâ´Êèè ÊàëÊµãËØï‰∫Ü‰ªé1‰∏áÂà∞10‰∏áÈó¥Èöî1‰∏áÂíå‰ªé10‰∏áÂà∞90‰∏áÊØèÈó¥Èöî10‰∏áÊµãËØïÁöÑÁªìÊûúÂèòÂåñ ÁªìËÆ∫ Ê≠§ÊñπÊ°àÂú®Êï∞ÊçÆÈáèËææÂà∞3‰∏áÊù°Êü•ËØ¢ËÄóÊó∂Â∞±‰ºöË∂ÖËøá1Áßí Â§ßÁ∫¶ÊØèÂ¢ûÂä†1‰∏áÊù°Â∞±‰ºöÂ¢ûÂä†0.4ÁßíÁöÑËÄóÊó∂","categories":[],"tags":[{"name":"mysql","slug":"mysql","permalink":"http://visonforcoding.xyz/tags/mysql/"}]},{"title":"Âú∞ÁêÜ‰ΩçÁΩÆgeoÂ§ÑÁêÜ‰πãmongodb geo Á¥¢Âºï","slug":"Âú∞ÁêÜ‰ΩçÁΩÆÂ§ÑÁêÜ‰πãmongodb","date":"2017-12-01T02:34:00.000Z","updated":"2021-10-30T02:59:33.283Z","comments":true,"path":"2017/12/01/Âú∞ÁêÜ‰ΩçÁΩÆÂ§ÑÁêÜ‰πãmongodb/","link":"","permalink":"http://visonforcoding.xyz/2017/12/01/%E5%9C%B0%E7%90%86%E4%BD%8D%E7%BD%AE%E5%A4%84%E7%90%86%E4%B9%8Bmongodb/","excerpt":"ÁõÆÂâçË∂äÊù•Ë∂äÂ§öÁöÑ‰∏öÂä°ÈÉΩ‰ºöÂü∫‰∫éLBSÔºåÈôÑËøëÁöÑ‰∫∫ÔºåÂ§ñÂçñ‰ΩçÁΩÆÔºåÈôÑËøëÂïÜÂÆ∂Á≠âÁ≠âÔºåÁé∞Â∞±ËÆ®ËÆ∫Á¶ªÊàëÊúÄËøëËøô‰∏Ä‰∏öÂä°Âú∫ÊôØÁöÑËß£ÂÜ≥ÊñπÊ°à„ÄÇ ÁõÆÂâçÂ∑≤Áü•Ëß£ÂÜ≥ÊñπÊ°àÊúâ: mysql Ëá™ÂÆö‰πâÂáΩÊï∞ËÆ°ÁÆó mysql geoÁ¥¢Âºï mongodb geoÁ¥¢Âºï postgresql PostGisÁ¥¢Âºï redis geo ElasticSearch Êú¨ÊñáÊµãËØï‰∏ãmongodb geoÁ¥¢Âºï ÂáΩÊï∞ËøêÁÆóÁöÑÊÄßËÉΩ","text":"ÁõÆÂâçË∂äÊù•Ë∂äÂ§öÁöÑ‰∏öÂä°ÈÉΩ‰ºöÂü∫‰∫éLBSÔºåÈôÑËøëÁöÑ‰∫∫ÔºåÂ§ñÂçñ‰ΩçÁΩÆÔºåÈôÑËøëÂïÜÂÆ∂Á≠âÁ≠âÔºåÁé∞Â∞±ËÆ®ËÆ∫Á¶ªÊàëÊúÄËøëËøô‰∏Ä‰∏öÂä°Âú∫ÊôØÁöÑËß£ÂÜ≥ÊñπÊ°à„ÄÇ ÁõÆÂâçÂ∑≤Áü•Ëß£ÂÜ≥ÊñπÊ°àÊúâ: mysql Ëá™ÂÆö‰πâÂáΩÊï∞ËÆ°ÁÆó mysql geoÁ¥¢Âºï mongodb geoÁ¥¢Âºï postgresql PostGisÁ¥¢Âºï redis geo ElasticSearch Êú¨ÊñáÊµãËØï‰∏ãmongodb geoÁ¥¢Âºï ÂáΩÊï∞ËøêÁÆóÁöÑÊÄßËÉΩ ÂáÜÂ§áÂ∑•‰ΩúÂàõÂª∫Êï∞ÊçÆË°®db.driver.createIndex(&#123;loc: \"2dsphere\"&#125;) ÂàõÂª∫Êï∞ÊçÆpythonËÑöÊú¨# coding=utf-8 from pymongo import MongoClient import logging import random import threading \"\"\" ‰∏≠ÂõΩÁöÑÁªèÁ∫¨Â∫¶ËåÉÂõ¥ Á∫¨Â∫¶3.86~53.55ÔºåÁªèÂ∫¶73.66~135.05„ÄÇÂ§ßÊ¶Ç0.00001Â∫¶Â∑ÆË∑ù1Á±≥ \"\"\" # ÂàõÂª∫ Êó•Âøó ÂØπË±° logger = logging.getLogger() handler = logging.StreamHandler() formatter = logging.Formatter( '%(asctime)s %(name)-12s %(levelname)-8s %(message)s') handler.setFormatter(formatter) logger.addHandler(handler) logger.setLevel(logging.DEBUG) # Connect to the mongodb database mongoconn = MongoClient('127.0.0.1', 27017) mdb = mongoconn.geo_analysis driver_collection = mdb.driver def ins_driver(thread_name, nums): logger.info('ÂºÄÂêØÁ∫øÁ®ã%s' % thread_name) for i in range(nums): lng = '%.5f' % random.uniform(73.66, 135.05) lat = '%.5f' % random.uniform(3.86, 53.55) logging.debug('ÊèíÂÖ•ËÆ∞ÂΩï:%s' % i) driver_collection.insert_one(&#123; \"loc\":[ float(lng), float(lat) ] &#125;) thread_nums = 10 for i in range(thread_nums): t = threading.Thread(target=ins_driver, args=(i, 40000)) t.start() ‰ª•‰∏äËÑöÊú¨ÂàõÂª∫10‰∏™Á∫øÁ®ãÔºå10‰∏™Á∫øÁ®ãÊèíÂÖ•4‰∏áÊù°Êï∞ÊçÆ„ÄÇËÄóË¥π52.43sÊâßË°åÂÆå,ÊÄªÂÖ±ÊèíÂÖ•40‰∏áÊù°Êï∞ÊçÆ ÊµãËØï ÊµãËØïÁéØÂ¢É Á≥ªÁªüÔºömac os ÂÜÖÂ≠òÔºö16G cpu: intel core i5 Á°¨Áõò: 500g Âõ∫ÊÄÅÁ°¨Áõò ÊµãËØï‰∏ãÊü•ÊâæË∑ùÁ¶ª(134.38753,18.56734)ÈôÑËøë20ÂÖ¨ÈáåÁöÑÂè∏Êú∫ db.runCommand(&#123;geoNear:'driver', near:[134.38753,18.56734], spherical:true, maxDistance:20000/6378000, distanceMultiplier:6378000&#125;); ËÄóÊó∂Ôºö0.001s explain:‰ΩøÁî®Á¥¢Âºï","categories":[],"tags":[{"name":"ÊñπÊ°à","slug":"ÊñπÊ°à","permalink":"http://visonforcoding.xyz/tags/%E6%96%B9%E6%A1%88/"}]},{"title":"Á®ãÂ∫èÂëò‰ª£Á†Å‰∏ãÁöÑËÆ∏Ë±™Êù∞(ÊäÄÊúØÁØá)","slug":"python/Á®ãÂ∫èÂëò‰ª£Á†Å‰∏ãÁöÑËÆ∏Ë±™Êù∞-ÊäÄÊúØÁØá","date":"2017-08-05T05:16:00.000Z","updated":"2021-10-30T02:59:33.281Z","comments":true,"path":"2017/08/05/python/Á®ãÂ∫èÂëò‰ª£Á†Å‰∏ãÁöÑËÆ∏Ë±™Êù∞-ÊäÄÊúØÁØá/","link":"","permalink":"http://visonforcoding.xyz/2017/08/05/python/%E7%A8%8B%E5%BA%8F%E5%91%98%E4%BB%A3%E7%A0%81%E4%B8%8B%E7%9A%84%E8%AE%B8%E8%B1%AA%E6%9D%B0-%E6%8A%80%E6%9C%AF%E7%AF%87/","excerpt":"Êé•‰∏äÁØáÔºåËøô‰∏ÄÁØáÂ∞Ü‰ªéÊäÄÊúØÂ±ÇÈù¢ËÆ≤ËÆ≤ÊòØÂ¶Ç‰ΩïÂÆûÁé∞ÁöÑ„ÄÇÈòÖËØªÊú¨ÊñáÊÇ®Â∞Ü‰ºö‰∫ÜËß£Â¶Ç‰ΩïÁî®pythonÁà¨ÂèñÂæÆÂçöÁöÑËØÑËÆ∫‰ª•ÂèäÂ¶Ç‰ΩïÁî®python word_cloudÂ∫ìËøõË°åÊï∞ÊçÆÂèØËßÜÂåñ„ÄÇ ‰∏ä‰∏ÄÁØá:Á®ãÂ∫èÂëò‰ª£Á†Å‰∏ãÁöÑËÆ∏Ë±™Êù∞","text":"Êé•‰∏äÁØáÔºåËøô‰∏ÄÁØáÂ∞Ü‰ªéÊäÄÊúØÂ±ÇÈù¢ËÆ≤ËÆ≤ÊòØÂ¶Ç‰ΩïÂÆûÁé∞ÁöÑ„ÄÇÈòÖËØªÊú¨ÊñáÊÇ®Â∞Ü‰ºö‰∫ÜËß£Â¶Ç‰ΩïÁî®pythonÁà¨ÂèñÂæÆÂçöÁöÑËØÑËÆ∫‰ª•ÂèäÂ¶Ç‰ΩïÁî®python word_cloudÂ∫ìËøõË°åÊï∞ÊçÆÂèØËßÜÂåñ„ÄÇ ‰∏ä‰∏ÄÁØá:Á®ãÂ∫èÂëò‰ª£Á†Å‰∏ãÁöÑËÆ∏Ë±™Êù∞ ÂáÜÂ§áÂ∑•‰ΩúÊâìÂºÄÂæÆÂçöpc mÁ´ôÂπ∂ÊâæÂà∞ËÆ∏Ë±™Êù∞ËØ•Êù°ÂæÆÂçöÂú∞ÂùÄ:https://m.weibo.cn/status/4132385564040383 ‰∏∫‰ªÄ‰πàË¶ÅÁî®mÁ´ôÂú∞ÂùÄÔºüÂõ†‰∏∫mÁ´ôÂèØ‰ª•Áõ¥Êé•ÊäìÂèñÂà∞api jsonÊï∞ÊçÆ,ËÄåpcÁ´ôËôΩÁÑ∂‰πüÊúâapiËøîÂõûÁöÑÊòØhtml,Áõ∏ÊØîËÄåË®ÄÈÄâÂèñmÁ´ô‰ºöÁúÅÂéªÂæàÂ§öÈ∫ªÁÉ¶ ÊâìÂºÄËØ•È°µÈù¢ÔºåÂπ∂‰∏îÁî®chrome ÁöÑÊ£ÄÊü•Â∑•ÂÖ∑ Êü•ÁúãnetworkÔºåÂèØ‰ª•Ëé∑ÂèñÂà∞ËØÑËÆ∫ÁöÑapiÂú∞ÂùÄ„ÄÇ Êï∞ÊçÆÊäìÂèñÈ¶ñÂÖàËßÇÂØüapiËøîÂõû ‰ªéËøîÂõûÂú∞ÂùÄ‰∏äÂèØ‰ª•ÁúãÂà∞ÂèØ‰ª•ÈÄöËøáÂèÇÊï∞page ÊîπÂèòËØ∑Ê±ÇÁöÑÈ°µÁ†Å,Âπ∂‰∏îÊØèÈ°µÈÉΩÂõûËøîÂõûÊÄªÊù°Êï∞ÂíåÊÄªÈ°µÁ†ÅÊï∞„ÄÇËøôÈáåÊàëÂÜ≥ÂÆöÈááÁî®Â§öÁ∫øÁ®ãÊù•ÊäìÂéª(ÂÖ∂ÂÆûÊï∞ÊçÆÈáè‰∏çÂ§ß,‰πüÂèØ‰ª•ÂçïÁ∫øÁ®ãË∑ë)„ÄÇ ÂÖ∂‰∏≠Âú®Áà¨ÂèñÊï∞ÊçÆÁöÑÊó∂ÂÄô‰ºöÈù¢‰∏¥Âá†‰∏™ÈóÆÈ¢òÔºö1.Â≠òÂÇ®ÈÄâÊã© ÊàëËøôÈáåÈÄâÁî®‰∫ÜMongoDB‰Ωú‰∏∫Êï∞ÊçÆÂ≠òÂÇ®ÔºåÂõ†‰∏∫apiÈÄöÂ∏∏ËøîÂõûÁöÑÊòØjsonÊï∞ÊçÆËÄåjsonÁªìÊûÑÂíåMongoDBÁöÑÂ≠òÂÇ®ÊñπÂºèÂèØ‰ª•ÁªìÂêàÁöÑÂæàÈªòÂ•ëÔºå‰∏çÈúÄË¶ÅÁªèËøá‰ªª‰ΩïÂ§ÑÁêÜÂèØ‰ª•Áõ¥Êé•ÁöÑËøõË°åÊèíÂÖ•„ÄÇ 2.Èò≤Áà¨Ëô´ ÂæàÂ§öÁΩëÁ´ôÂèØËÉΩ‰ºöÂÅö‰∏Ä‰∫õÈò≤Áà¨Ëô´ÁöÑÂ§ÑÁêÜÔºåÈù¢ÂØπÂêå‰∏Ä‰∏™ËØ∑Ê±ÇipÁöÑÁü≠Êó∂Èó¥ÁöÑÈ´òÈ¢ëÁéáËØ∑Ê±Ç‰ºöËøõË°åÊúçÂä°ÈöîÊñ≠(Áõ¥Êé•ÂëäËØâ‰Ω†ÊúçÂä°‰∏çÂèØÁî®)ÔºåËøô‰∏™Êó∂ÂÄôÂèØ‰ª•ÂéªÁΩë‰∏äÊâæ‰∏Ä‰∫õ‰ª£ÁêÜËøõË°åËØ∑Ê±Ç„ÄÇ 3.Â§öÁ∫øÁ®ãÁöÑ‰ªªÂä°ÂàÜÈÖç ÈááÁî®Â§öÁ∫øÁ®ãÁà¨Âèñ‰Ω†ÂΩìÁÑ∂‰∏çËÉΩËÆ©Â§ö‰∏™Á∫øÁ®ãÂéªÁà¨ÂèñÂêåÊ†∑ÁöÑÈìæÊé•ÂÅöÂà´‰∫∫Â∑≤ÁªèÂÅöËøáÁöÑ‰∫ãÊÉÖÔºåÈÇ£Ê†∑Â§öÁ∫øÁ®ãÊØ´Êó†ÊÑè‰πâ„ÄÇÊâÄ‰ª•‰Ω†ÈúÄË¶ÅÂà∂ÂÆö‰∏ÄÂ•óËßÑÂàôÔºåËÆ©‰∏çÂêåÁ∫øÁ®ãÁà¨Âèñ‰∏çÂêåÁöÑÈìæÊé•„ÄÇ # coding=utf-8 from __future__ import division from pymongo import MongoClient import requests import sys import re import random import time import logging import threading import json from os import path import math # Áà¨ÂèñÂæÆÂçöËØÑËÆ∫ # mÁ´ôÂæÆÂçöÂú∞ÂùÄ weibo_url = 'https://m.weibo.cn/status/4132385564040383' thread_nums = 5 #Á∫øÁ®ãÊï∞ #‰ª£ÁêÜÂú∞ÂùÄ proxies = &#123; \"http\": \"http://171.92.4.67:9000\", \"http\": \"http://163.125.222.240:8118\", \"http\": \"http://121.232.145.251:9000\", \"http\": \"http://121.232.147.247:9000\", &#125; # ÂàõÂª∫ Êó•Âøó ÂØπË±° logger = logging.getLogger() handler = logging.StreamHandler() formatter = logging.Formatter( '%(asctime)s %(name)-12s %(levelname)-8s %(message)s') handler.setFormatter(formatter) logger.addHandler(handler) logger.setLevel(logging.DEBUG) mongoconn = MongoClient('127.0.0.1', 27017) mdb = mongoconn.data_analysis das_collection = mdb.weibo weiboid_reobj = re.match(r'.*status/(\\d+)', weibo_url) weibo_id = weiboid_reobj.group(1) def scrapy_comments(weibo_id, page): weibo_comment_url = 'https://m.weibo.cn/api/comments/show?id=%s&amp;page=%d' % ( weibo_id, page) res = requests.get(weibo_comment_url) res_obj = json.loads(res.content) return res_obj def import_comments(threadName, weibo_id, page_start, page_end): logger.info('ÂºÄÂßãÁ∫øÁ®ã:%s' % threadName) for page in range(page_start, page_end + 1): logging.info('ËØªÂèñÁ¨¨%sÈ°µ' % page) time.sleep(1) # continue try: res_obj = scrapy_comments(weibo_id, page) logging.info('ËØ•È°µÊúâ%sÊù°ËÆ∞ÂΩï' % len(res_obj['data'])) except: logging.error('ËØªÂèñ%sÈ°µÊó∂ÂèëÁîüÈîôËØØ' % page) continue if res_obj['ok'] == 1: comments = res_obj['data'] for comment in comments: comment_text = re.sub( r'&lt;/?\\w+[^>]*>', '', comment['text']).encode('utf-8') if re.search(r'ÂõûÂ§ç@.*:', comment_text): # ËøáÊª§ÊéâÂõûÂ§çÂà´‰∫∫ÁöÑËØÑËÆ∫ continue comment['text'] = comment_text comment['weibo_id'] = weibo_id logging.info('ËØªÂèñËØÑËÆ∫:%s' % comment['id']) try: if das_collection.find_one(&#123;'id': comment['id']&#125;): logging.info('Âú®mongodb‰∏≠Â≠òÂú®') else: logging.info('ÊèíÂÖ•ËÆ∞ÂΩï:%s' % comment['id']) das_collection.insert_one(comment) except: logging.error('mongodbÂèëÁîüÈîôËØØ') else: logging.error('ËØªÂèñÁ¨¨%sÈ°µÊó∂ÂèëÁîüÈîôËØØ' % page) logging.info('Á∫øÁ®ã%sÁªìÊùü' % threadName) # res_obj = scrapy_comments(weibo_id, page) if __name__ == '__main__': # ÂàÜÈÖç‰∏çÂêåÈìæÊé•Âà∞‰∏çÂêåÁöÑÁ∫øÁ®ã‰∏äÂéª res_obj = scrapy_comments(weibo_id, 1) if res_obj['ok'] == 1: total_number = res_obj['total_number'] logging.info('ËØ•Êù°ÂæÆÂçöÊúâ:%sÊù°ËØÑËÆ∫' % total_number) max_page = res_obj['max'] page_nums = math.ceil(max_page / thread_nums) else: raise # print max_page # print page_nums for i in range(1, thread_nums + 1): if i &lt; thread_nums: page_end = page_nums * i else: page_end = max_page page_start = (i - 1) * page_nums + 1 t = threading.Thread(target=import_comments, args=( i, weibo_id, int(page_start), int(page_end))) t.start() Êï∞ÊçÆÊï¥ÁêÜÂèØËßÜÂåñ(data visualization)ËøêË°åËÑöÊú¨ÂÆåÊØïÔºåÊàëÁöÑMongoDBÂæóÂà∞‰∫Ü2‰∏áÂ§öÊù°ËØÑËÆ∫Êï∞ÊçÆÔºåÊé•‰∏ãÊù•Ë¶ÅÂÅöÁöÑ‰∫ãÊòØÂØπËøôÈÉ®ÂàÜÊï∞ÊçÆËøõË°åÊèêÂèñ„ÄÅÊ∏ÖÊ¥ó„ÄÅÁªìÊûÑÂåñÁ≠âÊìç‰Ωú„ÄÇËøôÈáåÈ°∫‰æøËØ¥Êòé‰∏Ä‰∏ãpython Êï∞ÊçÆÂàÜÊûêÁöÑ Â§ßËá¥Âü∫Êú¨ÊµÅÁ®ã„ÄÇ 1.‰∏éÂ§ñÁïåËøõË°å‰∫§‰∫íËøô‰∏™ËøáÁ®ãÂåÖÊã¨Êï∞ÊçÆÁöÑËé∑Âèñ„ÄÅËØªÂèñ„ÄÇ‰∏çÁÆ°ÊòØ‰ªéÁΩëÁªúËµÑÊ∫ê‰∏äÁà¨Âèñ„ÄÅËøòÊòØ‰ªéÁé∞ÊúâËµÑÊ∫ê(ÂêÑÊ†∑ÁöÑÊñá‰ª∂Â¶ÇÊñáÊú¨„ÄÅexcel„ÄÅÊï∞ÊçÆÂ∫ìÂ≠òÂÇ®ÂØπË±°) 2.ÂáÜÂ§áÂ∑•‰ΩúÂØπÊï∞ÊçÆËøõË°åÊ∏ÖÊ¥ó(cleaning)„ÄÅ‰øÆÊï¥(munging)„ÄÅÊï¥Âêà(combining)„ÄÅËßÑËåÉÂåñ(normalizing)„ÄÅÈáçÂ°ë(reshaping)„ÄÅÂàáÁâá(slicing)ÂíåÂàáÂùó(dicing) 3.ËΩ¨Êç¢ÂØπÊï∞ÊçÆÈõÜÂÅö‰∏Ä‰∫õÊï∞Â≠¶ÂíåÁªüËÆ°ËøêÁÆó‰∫ßÁîüÊñ∞ÁöÑÊï∞ÊçÆÈõÜ 4.Âª∫Ê®°ÂíåËÆ°ÁÆóÂ∞ÜÊï∞ÊçÆË∑üÁªüËÆ°Ê®°Âûã„ÄÅÊú∫Âô®Â≠¶‰π†ÁÆóÊ≥ïÊàñÂÖ∂‰ªñËÆ°ÁÆóÂ∑•ÂÖ∑ËÅîÁ≥ªËµ∑Êù• 5.Â±ïÁ§∫ÂàõÂª∫‰∫§‰∫íÂºèÁöÑÊàñÈùôÊÄÅÁöÑÂõæÁâáÊàñÊñáÂ≠óÊëòË¶Å ‰∏ãÈù¢Êàë‰ª¨Êù•ËøõË°å2„ÄÅ3Âèä5ÁöÑÂ∑•‰Ωú: # coding=utf-8 import sys from pymongo import MongoClient import random # ÂàÜËØçÂ∫ì # from snownlp import SnowNLP import jieba import uniout from collections import Counter, OrderedDict # ËØçËØ≠‰∫ë ÊñáÊú¨ÁªüËÆ°ÂèØËßÜÂåñÂ∫ì from wordcloud import WordCloud mongoconn = MongoClient('127.0.0.1', 27017) mdb = mongoconn.data_analysis das_collection = mdb.weibo total_counts = das_collection.find().count() # random_int = random.randint(0, total_counts - 1) docs = das_collection.find() print docs.count() words_counts = &#123;&#125; for doc in docs: print doc comment_text = doc['text'].encode('utf-8') if len(comment_text) == 0: continue words = jieba.cut(comment_text) for word in words: if word not in words_counts: words_counts[word] = 1 else: words_counts[word] += 1 for word in words_counts.keys(): if words_counts[word] &lt; 2 or len(word) &lt; 2: del words_counts[word] # print words_counts.items() #Ê≥®ÊÑèË¶ÅËÆ©‰∏≠Êñá‰∏ç‰π±Á†ÅË¶ÅÊåáÂÆö‰∏≠ÊñáÂ≠ó‰Ωì #fit_words Êé•Êî∂ÂèÇÊï∞ÊòØdict eg:&#123;'‰Ω†':333,'Â•Ω':23&#125; ÊñáÂ≠ó:Âá∫Áé∞Ê¨°Êï∞ wordcloud = WordCloud( font_path='/Users/cwp/font/msyh.ttf', background_color='white', width=1200, height=1000 ).fit_words(words_counts) import matplotlib.pyplot as plt plt.imshow(wordcloud, interpolation='bilinear') plt.axis(\"off\") plt.show() ‰ªãÁªç‰∏ã‰ª•‰∏ä‰ª£Á†ÅÔºöÊàë‰ª¨‰∏ªË¶ÅÁî®Âà∞‰∫Ü2‰∏™Â∑•ÂÖ∑ÔºåjiebaÂíåword_cloud„ÄÇÂâçËÄÖÂØπ‰∏≠ÊñáËøõË°åÂàÜËØçÂêéËÄÖÂõæÂΩ¢ÂåñÂ±ïÁ§∫ËØçËØ≠ÁöÑÂá∫Áé∞È¢ëÁéá„ÄÇ‰ºóÊâÄÂë®Áü•Ôºå‰∏≠ÊñáÁ≥ªÁöÑËØ≠Ë®ÄÂ§ÑÁêÜÊÅêÊÄïÊòØÊúÄÈöæÁöÑËá™ÁÑ∂ËØ≠Ë®ÄÂ§ÑÁêÜ(NLP)ÁöÑËØ≠Áßç„ÄÇÂ∞±Âü∫Êú¨ÁöÑÂàÜËØçËÄåË®ÄÈÉΩÊòØ‰∏ÄÈ°πÊØîËæÉÂõ∞ÈöæÁöÑÂ∑•‰Ωú,(Ëã±ËØ≠Âè•Â≠ê‰∏≠ÊØè‰∏™ÂçïËØçÈÉΩÊòØÊúâÁ©∫Ê†ºÂàÜÂºÄÁöÑÔºåËÄå‰∏≠ÊñáÊòØÁî±Âçï‰∏™Â≠óÁªÑÊàêËØçËøûÊé•Êàê‰∏≤ÁªÑÊàêÂè•).‰∏æ‰∏™‰æãÂ≠ê,ËØ∑Áî®‚ÄúÂ≠©Êèê‚ÄùÈÄ†Âè•,‚ÄùÈÇ£‰∏™Áî∑Â≠©Êèê‰∫§ÂÆå‰ª£Á†ÅÂ∞±‰∏ãÁè≠‰∫Ü‚Äù„ÄÇÂ¶ÇÊûú‰∫∫Â∑•ÂàÜËØçÔºåÂèØ‰ª•Áü•ÈÅì‚ÄùÁî∑Â≠©‚ÄùÂíå‚ÄùÊèê‰∫§‚ÄùÂ∫îËØ•ÊòØÂàÜÂºÄÁöÑ2‰∏™ËØçÔºå‰ΩÜÊòØÂØπ‰∫éÊú∫Âô®ËÄåË®ÄÔºåË¶ÅËæ®Âà´‚ÄùÊèê‚ÄùÂ∫îËØ•‰∏é‚ÄùÁî∑‚ÄùËøòÊòØ‚Äù‰∫§‚ÄùËøõË°åÁªÑËØçÂ∞±ÂæàÈöæÂäû‰∫Ü„ÄÇË¶ÅÊÉ≥Êú∫Âô®ËÉΩÂ§üÊõ¥Á≤æÁ°ÆÁöÑËæ®Âà´ËøôÁ±ªÈóÆÈ¢òÔºåÂ∞±ÈúÄË¶ÅËÆ©Êú∫Âô®‰∏çÂÅúÂ≠¶‰π†ÔºåËÆ©ÂÆÉÁü•ÈÅìËøôÁßçÊÉÖÂÜµËØ•Ëøô‰πàÂàÜËÄå‰∏çÊòØÈÇ£‰πàÂàÜ„ÄÇÁ†îÁ©∂‰∏≠ÊñáËá™ÁÑ∂ËØ≠Ë®ÄÂ§ÑÁêÜÂ∞ÜÊòØ‰∏Ä‰∏™Èïø‰πÖËÄåÂ§ßÁöÑÂ∑•Á®ãÔºåÂØπ‰∫éÂàÜÊûêÊï∞ÊçÆ(Êàë‰ª¨‰∏çÊòØË¶ÅÁ†îÁ©∂Ëá™ÁÑ∂ËØ≠Ë®ÄÂ§ÑÁêÜüòè)ÔºåËøôÈáåÂ∞±ÂÄüÂä©jiebaËøô‰∏™Â∫ìËøõË°åÂ∑•‰Ωú‰∫Ü. ÂØπ‰∫éword_cloud,ÂõæÂΩ¢ÂåñÊñáÊú¨ÁªüËÆ°ÔºåÁΩë‰∏äÊúâ‰∏çÂ∞ëÁöÑÂçöÊñáÈÉΩË¥¥‰∫Ü‰ª£Á†ÅÔºå‰ΩÜÊàëÊÉ≥ËØ¥ÁöÑÊòØÊàë‰∏ç‰∫ÜËß£ÂÆÉ‰ª¨ÊòØ‰∏çÊòØÁúüÁöÑËøêË°åÂá∫‰∫ÜÁªìÊûú„ÄÇÂõ†‰∏∫fit_words Ëøô‰∏™ÂáΩÊï∞Êé•Êî∂ÁöÑÊòØdictËÄå‰∏çÊòØlistÔºåÂÆòÊñπÊñáÊ°£ÂíåÂáΩÊï∞docÂÖ∂ÂÆûÂÜôÈîô‰∫Ü,Âú®github‰∏äÊúâÊä´Èú≤„ÄÇ ÊúÄÂêéÂæóÂà∞ÁªìÊûú: ‰∏Ä‰∫õÁî®Âà∞ÁöÑÂ∑•ÂÖ∑1.word_cloud A little word cloud generator in Python 2.jieba ÁªìÂ∑¥‰∏≠ÊñáÂàÜËØç 3.Requests is the only Non-GMO HTTP library for Python, safe for human consumption.","categories":[],"tags":[]}],"categories":[],"tags":[{"name":"mysql","slug":"mysql","permalink":"http://visonforcoding.xyz/tags/mysql/"},{"name":"spring","slug":"spring","permalink":"http://visonforcoding.xyz/tags/spring/"},{"name":"php","slug":"php","permalink":"http://visonforcoding.xyz/tags/php/"},{"name":"Á®ãÂ∫è‰∫∫Áîü","slug":"Á®ãÂ∫è‰∫∫Áîü","permalink":"http://visonforcoding.xyz/tags/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F/"},{"name":"ÁºñÁ†Å‰∫∫Áîü","slug":"ÁºñÁ†Å‰∫∫Áîü","permalink":"http://visonforcoding.xyz/tags/%E7%BC%96%E7%A0%81%E4%BA%BA%E7%94%9F/"},{"name":"java","slug":"java","permalink":"http://visonforcoding.xyz/tags/java/"},{"name":"PHP","slug":"PHP","permalink":"http://visonforcoding.xyz/tags/PHP/"},{"name":"ËΩØ‰ª∂","slug":"ËΩØ‰ª∂","permalink":"http://visonforcoding.xyz/tags/%E8%BD%AF%E4%BB%B6/"},{"name":"ÁÆ°ÁêÜ","slug":"ÁÆ°ÁêÜ","permalink":"http://visonforcoding.xyz/tags/%E7%AE%A1%E7%90%86/"},{"name":"ÊäÄÊúØÂ∑•Á®ã","slug":"ÊäÄÊúØÂ∑•Á®ã","permalink":"http://visonforcoding.xyz/tags/%E6%8A%80%E6%9C%AF%E5%B7%A5%E7%A8%8B/"},{"name":"Êû∂ÊûÑ","slug":"Êû∂ÊûÑ","permalink":"http://visonforcoding.xyz/tags/%E6%9E%B6%E6%9E%84/"},{"name":"web","slug":"web","permalink":"http://visonforcoding.xyz/tags/web/"},{"name":"ËΩØ‰ª∂Â∑•Á®ã","slug":"ËΩØ‰ª∂Â∑•Á®ã","permalink":"http://visonforcoding.xyz/tags/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/"},{"name":"ÊñπÊ°à","slug":"ÊñπÊ°à","permalink":"http://visonforcoding.xyz/tags/%E6%96%B9%E6%A1%88/"},{"name":"JAVA","slug":"JAVA","permalink":"http://visonforcoding.xyz/tags/JAVA/"},{"name":"Java","slug":"Java","permalink":"http://visonforcoding.xyz/tags/Java/"},{"name":"spring-boot","slug":"spring-boot","permalink":"http://visonforcoding.xyz/tags/spring-boot/"},{"name":"ËøêÁª¥","slug":"ËøêÁª¥","permalink":"http://visonforcoding.xyz/tags/%E8%BF%90%E7%BB%B4/"},{"name":"devops","slug":"devops","permalink":"http://visonforcoding.xyz/tags/devops/"},{"name":"webÂâçÁ´Ø","slug":"webÂâçÁ´Ø","permalink":"http://visonforcoding.xyz/tags/web%E5%89%8D%E7%AB%AF/"},{"name":"python","slug":"python","permalink":"http://visonforcoding.xyz/tags/python/"},{"name":"kafka","slug":"kafka","permalink":"http://visonforcoding.xyz/tags/kafka/"},{"name":"php linux","slug":"php-linux","permalink":"http://visonforcoding.xyz/tags/php-linux/"},{"name":"java spring-boot","slug":"java-spring-boot","permalink":"http://visonforcoding.xyz/tags/java-spring-boot/"},{"name":"ÈöèÁ¨î","slug":"ÈöèÁ¨î","permalink":"http://visonforcoding.xyz/tags/%E9%9A%8F%E7%AC%94/"},{"name":"docker","slug":"docker","permalink":"http://visonforcoding.xyz/tags/docker/"}]}